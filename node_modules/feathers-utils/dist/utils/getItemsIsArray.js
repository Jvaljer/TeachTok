"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getItemsIsArray = void 0;
// eslint-disable-next-line @typescript-eslint/no-explicit-any
const getItemsIsArray = (context, options) => {
    const { from = "automatic" } = options || {};
    let itemOrItems;
    if (from === "automatic") {
        itemOrItems = context.type === "before"
            ? context.data
            : context.result;
        itemOrItems = itemOrItems && context.method === "find"
            ? (itemOrItems.data || itemOrItems)
            : itemOrItems;
    }
    else if (from === "data") {
        itemOrItems = context.data;
    }
    else if (from === "result") {
        itemOrItems = context.result;
    }
    const isArray = Array.isArray(itemOrItems);
    return {
        items: (isArray)
            ? itemOrItems
            : (itemOrItems != null)
                ? [itemOrItems]
                : [],
        isArray
    };
};
exports.getItemsIsArray = getItemsIsArray;
