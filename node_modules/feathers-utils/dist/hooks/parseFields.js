"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseFields = void 0;
const getItemsIsArray_1 = require("../utils/getItemsIsArray");
/**
 * Parse fields to date or number
 * skips undefined fields
 */
const parseFields = (type, options) => (context) => {
    const { items } = (0, getItemsIsArray_1.getItemsIsArray)(context);
    items.forEach(item => {
        options.fields.forEach(field => {
            // ignore undefined fields
            if (!(field in item)) {
                return;
            }
            if (type === "date") {
                item[field] = new Date(item[field]);
            }
            else if (type === "number") {
                item[field] = Number(item[field]);
            }
        });
    });
    return context;
};
exports.parseFields = parseFields;
