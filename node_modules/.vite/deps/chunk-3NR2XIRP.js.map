{
  "version": 3,
  "sources": ["../../vidstack/dist/dev/chunks/vidstack-BilA8Hmg.js"],
  "sourcesContent": ["import { L as ListSymbol } from './vidstack-CnaYRoc3.js';\nimport { R as EventsTarget, D as DOMEvent, S as State, T as tick } from './vidstack-CXruz14q.js';\nimport { d as canOrientScreen } from './vidstack-BLNW_fQy.js';\nimport { T as TimeRange, g as getTimeRangesStart, a as getTimeRangesEnd } from './vidstack-DLtp1VCK.js';\nimport { i as isTrackCaptionKind } from './vidstack-DWHAQsPW.js';\n\nvar _a$1;\nconst GROUPED_LOG = Symbol(\"GROUPED_LOG\" );\nclass GroupedLog {\n  constructor(logger, level, title, root, parent) {\n    this.logger = logger;\n    this.level = level;\n    this.title = title;\n    this.root = root;\n    this.parent = parent;\n    this[_a$1] = true;\n    this.logs = [];\n  }\n  static {\n    _a$1 = GROUPED_LOG;\n  }\n  log(...data) {\n    this.logs.push({ data });\n    return this;\n  }\n  labelledLog(label, ...data) {\n    this.logs.push({ label, data });\n    return this;\n  }\n  groupStart(title) {\n    return new GroupedLog(this.logger, this.level, title, this.root ?? this, this);\n  }\n  groupEnd() {\n    this.parent?.logs.push(this);\n    return this.parent ?? this;\n  }\n  dispatch() {\n    return this.logger.dispatch(this.level, this.root ?? this);\n  }\n}\nfunction isGroupedLog(data) {\n  return !!data?.[GROUPED_LOG];\n}\n\nvar _a;\nclass List extends EventsTarget {\n  constructor() {\n    super(...arguments);\n    this._items = [];\n    /* @internal */\n    this[_a] = false;\n  }\n  get length() {\n    return this._items.length;\n  }\n  get readonly() {\n    return this[ListSymbol._readonly];\n  }\n  /**\n   * Transform list to an array.\n   */\n  toArray() {\n    return [...this._items];\n  }\n  [(_a = ListSymbol._readonly, Symbol.iterator)]() {\n    return this._items.values();\n  }\n  /* @internal */\n  [ListSymbol._add](item, trigger) {\n    const index = this._items.length;\n    if (!(\"\" + index in this)) {\n      Object.defineProperty(this, index, {\n        get() {\n          return this._items[index];\n        }\n      });\n    }\n    if (this._items.includes(item))\n      return;\n    this._items.push(item);\n    this.dispatchEvent(new DOMEvent(\"add\", { detail: item, trigger }));\n  }\n  /* @internal */\n  [ListSymbol._remove](item, trigger) {\n    const index = this._items.indexOf(item);\n    if (index >= 0) {\n      this[ListSymbol._onRemove]?.(item, trigger);\n      this._items.splice(index, 1);\n      this.dispatchEvent(new DOMEvent(\"remove\", { detail: item, trigger }));\n    }\n  }\n  /* @internal */\n  [ListSymbol._reset](trigger) {\n    for (const item of [...this._items])\n      this[ListSymbol._remove](item, trigger);\n    this._items = [];\n    this[ListSymbol._setReadonly](false, trigger);\n    this[ListSymbol._onReset]?.();\n  }\n  /* @internal */\n  [ListSymbol._setReadonly](readonly, trigger) {\n    if (this[ListSymbol._readonly] === readonly)\n      return;\n    this[ListSymbol._readonly] = readonly;\n    this.dispatchEvent(new DOMEvent(\"readonly-change\", { detail: readonly, trigger }));\n  }\n}\n\nconst mediaState = new State({\n  artist: \"\",\n  audioTrack: null,\n  audioTracks: [],\n  autoPlay: false,\n  autoPlayError: null,\n  buffered: new TimeRange(),\n  canLoad: false,\n  canLoadPoster: false,\n  canFullscreen: false,\n  canOrientScreen: canOrientScreen(),\n  canPictureInPicture: false,\n  canPlay: false,\n  clipStartTime: 0,\n  clipEndTime: 0,\n  controls: false,\n  controlsVisible: false,\n  crossOrigin: null,\n  ended: false,\n  error: null,\n  fullscreen: false,\n  loop: false,\n  logLevel: \"warn\" ,\n  mediaType: \"unknown\",\n  muted: false,\n  paused: true,\n  played: new TimeRange(),\n  playing: false,\n  playsInline: false,\n  pictureInPicture: false,\n  preload: \"metadata\",\n  playbackRate: 1,\n  qualities: [],\n  quality: null,\n  autoQuality: false,\n  canSetQuality: true,\n  canSetPlaybackRate: true,\n  canSetVolume: false,\n  seekable: new TimeRange(),\n  seeking: false,\n  source: { src: \"\", type: \"\" },\n  sources: [],\n  started: false,\n  textTracks: [],\n  textTrack: null,\n  get hasCaptions() {\n    return this.textTracks.filter(isTrackCaptionKind).length > 0;\n  },\n  volume: 1,\n  waiting: false,\n  realCurrentTime: 0,\n  get currentTime() {\n    return this.clipStartTime > 0 ? Math.max(0, Math.min(this.realCurrentTime - this.clipStartTime, this.duration)) : this.realCurrentTime;\n  },\n  providedDuration: -1,\n  intrinsicDuration: 0,\n  get realDuration() {\n    return this.providedDuration > 0 ? this.providedDuration : this.intrinsicDuration;\n  },\n  get duration() {\n    return this.clipEndTime > 0 ? this.clipEndTime - this.clipStartTime : Math.max(0, this.realDuration - this.clipStartTime);\n  },\n  get title() {\n    return this.providedTitle || this.inferredTitle;\n  },\n  get poster() {\n    return this.providedPoster || this.inferredPoster;\n  },\n  get viewType() {\n    return this.providedViewType !== \"unknown\" ? this.providedViewType : this.inferredViewType;\n  },\n  get streamType() {\n    return this.providedStreamType !== \"unknown\" ? this.providedStreamType : this.inferredStreamType;\n  },\n  get currentSrc() {\n    return this.source;\n  },\n  get bufferedStart() {\n    const start = getTimeRangesStart(this.buffered) ?? 0;\n    return Math.max(0, start - this.clipStartTime);\n  },\n  get bufferedEnd() {\n    const end = getTimeRangesEnd(this.buffered) ?? 0;\n    return Math.min(this.duration, Math.max(0, end - this.clipStartTime));\n  },\n  get seekableStart() {\n    const start = getTimeRangesStart(this.seekable) ?? 0;\n    return Math.max(0, start - this.clipStartTime);\n  },\n  get seekableEnd() {\n    const end = this.canPlay ? getTimeRangesEnd(this.seekable) ?? Infinity : 0;\n    return this.clipEndTime > 0 ? Math.max(this.clipEndTime, Math.max(0, end - this.clipStartTime)) : end;\n  },\n  get seekableWindow() {\n    return Math.max(0, this.seekableEnd - this.seekableStart);\n  },\n  // ~~ remote playback ~~\n  canAirPlay: false,\n  canGoogleCast: false,\n  remotePlaybackState: \"disconnected\",\n  remotePlaybackType: \"none\",\n  remotePlaybackLoader: null,\n  remotePlaybackInfo: null,\n  get isAirPlayConnected() {\n    return this.remotePlaybackType === \"airplay\" && this.remotePlaybackState === \"connected\";\n  },\n  get isGoogleCastConnected() {\n    return this.remotePlaybackType === \"google-cast\" && this.remotePlaybackState === \"connected\";\n  },\n  // ~~ responsive design ~~\n  pointer: \"fine\",\n  orientation: \"landscape\",\n  width: 0,\n  height: 0,\n  mediaWidth: 0,\n  mediaHeight: 0,\n  lastKeyboardAction: null,\n  // ~~ user props ~~\n  userBehindLiveEdge: false,\n  // ~~ live props ~~\n  liveEdgeTolerance: 10,\n  minLiveDVRWindow: 60,\n  get canSeek() {\n    return /unknown|on-demand|:dvr/.test(this.streamType) && Number.isFinite(this.seekableWindow) && (!this.live || /:dvr/.test(this.streamType) && this.seekableWindow >= this.minLiveDVRWindow);\n  },\n  get live() {\n    return this.streamType.includes(\"live\") || !Number.isFinite(this.realDuration);\n  },\n  get liveEdgeStart() {\n    return this.live && Number.isFinite(this.seekableEnd) ? Math.max(0, (this.liveSyncPosition ?? this.seekableEnd) - this.liveEdgeTolerance) : 0;\n  },\n  get liveEdge() {\n    return this.live && (!this.canSeek || !this.userBehindLiveEdge && this.currentTime >= this.liveEdgeStart);\n  },\n  get liveEdgeWindow() {\n    return this.live && Number.isFinite(this.seekableEnd) ? this.seekableEnd - this.liveEdgeStart : 0;\n  },\n  // ~~ internal props ~~\n  autoPlaying: false,\n  providedTitle: \"\",\n  inferredTitle: \"\",\n  providedPoster: \"\",\n  inferredPoster: \"\",\n  inferredViewType: \"unknown\",\n  providedViewType: \"unknown\",\n  providedStreamType: \"unknown\",\n  inferredStreamType: \"unknown\",\n  liveSyncPosition: null\n});\nconst RESET_ON_SRC_CHANGE = /* @__PURE__ */ new Set([\n  \"audioTrack\",\n  \"audioTracks\",\n  \"autoPlayError\",\n  \"autoPlaying\",\n  \"autoQuality\",\n  \"buffered\",\n  \"canPlay\",\n  \"ended\",\n  \"error\",\n  \"inferredPoster\",\n  \"inferredStreamType\",\n  \"inferredTitle\",\n  \"intrinsicDuration\",\n  \"liveSyncPosition\",\n  \"paused\",\n  \"played\",\n  \"playing\",\n  \"qualities\",\n  \"quality\",\n  \"realCurrentTime\",\n  \"seekable\",\n  \"seeking\",\n  \"started\",\n  \"userBehindLiveEdge\",\n  \"waiting\"\n]);\nfunction softResetMediaState($media) {\n  mediaState.reset($media, (prop) => RESET_ON_SRC_CHANGE.has(prop));\n  tick();\n}\n\nexport { GroupedLog as G, List as L, isGroupedLog as i, mediaState as m, softResetMediaState as s };\n"],
  "mappings": "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",
  "names": ["_a"]
}
