import{S as u,t as c,Z as m,D as a}from"./vidstack-DDS6k7mb.js";import{c as p}from"./vidstack-Dwg3iDYo.js";import{T as s,a as o,g as l}from"./vidstack-3eKtzibe.js";import{i as g}from"./vidstack-iVd4LOBv.js";import{L as t}from"./vidstack-UVfmP_-r.js";const d=new u({artist:"",audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,buffered:new s,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:p(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,controlsVisible:!1,crossOrigin:null,ended:!1,error:null,fullscreen:!1,loop:!1,logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new s,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,seekable:new s,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(g).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get realDuration(){return this.providedDuration>0?this.providedDuration:this.intrinsicDuration},get duration(){return this.clipEndTime>0?this.clipEndTime-this.clipStartTime:Math.max(0,this.realDuration-this.clipStartTime)},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){const i=o(this.buffered)??0;return Math.max(0,i-this.clipStartTime)},get bufferedEnd(){const i=l(this.buffered)??0;return Math.min(this.duration,Math.max(0,i-this.clipStartTime))},get seekableStart(){const i=o(this.seekable)??0;return Math.max(0,i-this.clipStartTime)},get seekableEnd(){const i=this.canPlay?l(this.seekable)??1/0:0;return this.clipEndTime>0?Math.max(this.clipEndTime,Math.max(0,i-this.clipStartTime)):i},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return this.remotePlaybackType==="airplay"&&this.remotePlaybackState==="connected"},get isGoogleCastConnected(){return this.remotePlaybackType==="google-cast"&&this.remotePlaybackState==="connected"},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.realDuration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(this.liveSyncPosition??this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null}),y=new Set(["audioTrack","audioTracks","autoPlayError","autoPlaying","autoQuality","buffered","canPlay","ended","error","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","liveSyncPosition","paused","played","playing","qualities","quality","realCurrentTime","seekable","seeking","started","userBehindLiveEdge","waiting"]);function T(i){d.reset(i,e=>y.has(e)),c()}var h;class v extends m{constructor(){super(...arguments),this.r=[],this[h]=!1}get length(){return this.r.length}get readonly(){return this[t.Zb]}toArray(){return[...this.r]}[(h=t.Zb,Symbol.iterator)](){return this.r.values()}[t.oa](e,r){const n=this.r.length;""+n in this||Object.defineProperty(this,n,{get(){return this.r[n]}}),!this.r.includes(e)&&(this.r.push(e),this.dispatchEvent(new a("add",{detail:e,trigger:r})))}[t.Yb](e,r){const n=this.r.indexOf(e);n>=0&&(this[t.oe]?.(e,r),this.r.splice(n,1),this.dispatchEvent(new a("remove",{detail:e,trigger:r})))}[t.H](e){for(const r of[...this.r])this[t.Yb](r,e);this.r=[],this[t.Mc](!1,e),this[t.ne]?.()}[t.Mc](e,r){this[t.Zb]!==e&&(this[t.Zb]=e,this.dispatchEvent(new a("readonly-change",{detail:e,trigger:r})))}}export{v as L,d as m,T as s};
