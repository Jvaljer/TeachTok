const f=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/,c=new Map,t=new Map;function d(e){return e.match(f)?.[1]}async function b(e,n){if(c.has(e))return c.get(e);if(t.has(e))return t.get(e);const o=new Promise(async s=>{const a=["maxresdefault","sddefault","hqdefault"];for(const r of a)for(const i of[!0,!1]){const u=h(e,r,i);if((await fetch(u,{mode:"no-cors",signal:n.signal})).status<400){c.set(e,u),s(u);return}}}).catch(()=>"").finally(()=>t.delete(e));return t.set(e,o),o}function h(e,n,o){return`https://i.ytimg.com/${o?"vi_webp":"vi"}/${e}/${n}.${o?"webp":"jpg"}`}export{b as findYouTubePoster,d as resolveYouTubeVideoId};
