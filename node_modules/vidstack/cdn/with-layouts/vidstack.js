import{u as I,c as lt,D as at,C as x,V as ht,s as k,e as h,i as Bt,o as P,l as f,a as X,p as b,b as C,d as Ke,w as Bn,f as Kn,t as kt,g as Zs,h as Qe,j as bt,k as $,m as j,n as Y,q as ft,r as Ge,v as ti,x as nt,y as S,z as R,A as ue,B as ei,S as jt,E as pe,F as Qn,G as Kt,H as ct,I as Gn,J as Qt,K as Un,L as si,M as Ue,N as zn,O as Wn,P as ii,Q as T,R as w,T as ai,U as ze,W as me,X as Xn,Y as Yn}from"./chunks/vidstack-DiG3_DXK.js";import{L as ni,s as Jn,m as Zn}from"./chunks/vidstack-BixMusES.js";import{i as K,T as Q,a as We,p as Gt,g as Xe,w as Ye,b as tr,c as er}from"./chunks/vidstack-D0IjUeMf.js";import{i as Je,s as _,h as sr,r as wt,a as ri,o as vt,b as yt,c as oi,u as li,d as ir,e as ar,f as nr,g as hi,j as rr,k as ci,l as Ze,m as ts}from"./chunks/vidstack-CNFQhJsI.js";import{L as J}from"./chunks/vidstack-UVfmP_-r.js";import{Q as _t}from"./chunks/vidstack-DJbJpIrk.js";import{c as or,I as lr,a as hr,b as cr,d as di,e as dr,f as ur,i as ui}from"./chunks/vidstack-D_20QMRw.js";import{c as es,a as ut}from"./chunks/vidstack-Crcwig_k.js";import{c as pr,a as ss,i as pi,b as mi,d as gi,r as G,g as mr}from"./chunks/vidstack-DV8S-iAx.js";import{g as bi}from"./chunks/vidstack-D6I07ikT.js";import{lazyPaths as fi}from"https://cdn.jsdelivr.net/npm/media-icons@next/dist/lazy.js";const vi=lt();function y(){return I(vi)}function et(){return y().$state}class gr{constructor(t=void 0){this.tb=t,this.A=null,this.aa=null,this.Pc=-1}setTarget(t){this.A=t}getPlayer(t){return this.aa?this.aa:((t??this.A)?.dispatchEvent(new at("find-media-player",{detail:e=>void(this.aa=e),bubbles:!0,composed:!0})),this.aa)}setPlayer(t){this.aa=t}startLoading(t){this.s("media-start-loading",t)}startLoadingPoster(t){this.s("media-poster-start-loading",t)}requestAirPlay(t){this.s("media-airplay-request",t)}requestGoogleCast(t){this.s("media-google-cast-request",t)}play(t){this.s("media-play-request",t)}pause(t){this.s("media-pause-request",t)}mute(t){this.s("media-mute-request",t)}unmute(t){this.s("media-unmute-request",t)}enterFullscreen(t,e){this.s("media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){this.s("media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){this.s("media-orientation-lock-request",e,t)}unlockScreenOrientation(t){this.s("media-orientation-unlock-request",t)}enterPictureInPicture(t){this.s("media-enter-pip-request",t)}exitPictureInPicture(t){this.s("media-exit-pip-request",t)}seeking(t,e){this.s("media-seeking-request",e,t)}seek(t,e){this.s("media-seek-request",e,t)}seekToLiveEdge(t){this.s("media-live-edge-request",t)}changeVolume(t,e){this.s("media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){this.s("media-audio-track-change-request",e,t)}changeQuality(t,e){this.s("media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,s){this.s("media-text-track-change-request",s,{index:t,mode:e})}changePlaybackRate(t,e){this.s("media-rate-change-request",e,t)}resumeControls(t){this.s("media-resume-controls-request",t)}pauseControls(t){this.s("media-pause-controls-request",t)}togglePaused(t){const e=this.getPlayer(t?.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){const e=this.getPlayer(t?.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){const e=this.getPlayer(t?.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){const s=this.getPlayer(e?.target);s&&(s.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){const e=this.getPlayer(t?.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}disableCaptions(t){const e=this.getPlayer(t?.target);if(!e)return;const s=e.state.textTracks,i=e.state.textTrack;if(i){const n=s.indexOf(i);this.changeTextTrackMode(n,"disabled",t)}}toggleCaptions(t){const e=this.getPlayer(t?.target);if(!e)return;const s=e.state.textTracks,i=e.state.textTrack;if(i){const n=s.indexOf(i);this.changeTextTrackMode(n,"disabled",t),this.Pc=n}else{let n=this.Pc;(!s[n]||!K(s[n]))&&(n=-1),n===-1&&(n=s.findIndex(r=>K(r)&&r.default)),n===-1&&(n=s.findIndex(r=>K(r))),n>=0&&this.changeTextTrackMode(n,"showing",t),this.Pc=-1}}s(t,e,s){const i=new at(t,{bubbles:!0,composed:!0,cancelable:!0,detail:s,trigger:e});let n=e?.target||null;n&&n instanceof x&&(n=n.el),n=!n||n===document||n===window||n===document.body||this.aa?.el&&n instanceof Node&&!this.aa.el.contains(n)?this.A??this.getPlayer()?.el:n??this.A,this.aa?t==="media-play-request"&&!this.aa.state.canLoad?n?.dispatchEvent(i):this.aa.canPlayQueue.k(t,()=>n?.dispatchEvent(i)):n?.dispatchEvent(i)}za(t){}}class Tt extends ht{}class br extends Tt{constructor(){super(...arguments),this.Qc=-2,this.Xa=!1,this.ze=k(!1),this.Rc=k(!1),this.wb=null,this.defaultDelay=2e3}get hideOnMouseLeave(){const{hideControlsOnMouseLeave:t}=this.$props;return this.ze()||t()}set hideOnMouseLeave(t){this.ze.set(t)}get showing(){return this.$state.controlsVisible()}show(t=0,e){this.Sc(),this.Xa||this.bc(!0,t,e)}hide(t=this.defaultDelay,e){this.Sc(),this.Xa||this.bc(!1,t,e)}pause(t){this.Xa=!0,this.Sc(),this.bc(!0,0,t)}resume(t){this.Xa=!1,!this.$state.paused()&&this.bc(!1,this.defaultDelay,t)}onConnect(){h(this.bg.bind(this)),h(this.Tc.bind(this));const t=this.xb.bind(this),e=this.Aa.bind(this);this.listen("can-play",s=>this.show(0,s)),this.listen("play",t),this.listen("pause",e),this.listen("auto-play-fail",e)}bg(){const{started:t,pointer:e,paused:s}=this.$state;if(!t()||e()!=="fine")return;const i=this.hideOnMouseLeave;(!i||!this.Rc())&&h(()=>{s()||this.listen("pointermove",this.Ae.bind(this))}),i&&(this.listen("mouseenter",this.cg.bind(this)),this.listen("mouseleave",this.dg.bind(this)))}Tc(){const{paused:t,started:e,autoPlayError:s}=this.$state;if(t()||s()&&!e())return;const i=this.Ae.bind(this);h(()=>{const n=this.$state.pointer(),r=n==="coarse",o=[r?"touchend":"pointerup","keydown"];for(const l of o)this.listen(l,i,{passive:!1})})}xb(t){this.show(0,t),this.hide(void 0,t)}Aa(t){this.show(0,t)}cg(t){this.Rc.set(!1),this.show(0,t),this.hide(void 0,t)}dg(t){this.Rc.set(!0),this.hide(0,t)}Sc(){window.clearTimeout(this.Qc),this.Qc=-1}Ae(t){t.MEDIA_GESTURE||this.Xa||Je(t)||(Bt(t)&&(t.key==="Escape"?(this.el?.focus(),this.wb=null):this.wb&&(t.preventDefault(),requestAnimationFrame(()=>{this.wb?.focus(),this.wb=null}))),this.show(0,t),this.hide(this.defaultDelay,t))}bc(t,e,s){if(e===0){this.B(t,s);return}this.Qc=window.setTimeout(()=>{this.scope&&this.B(t&&!this.Xa,s)},e)}B(t,e){this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&this.el?.contains(document.activeElement)&&(this.wb=document.activeElement,requestAnimationFrame(()=>this.el?.focus())),this.dispatch("controls-change",{detail:t,trigger:e}))}}var Ut=fr;function fr(a,t,e){var s=null,i=null,n=e&&e.leading,r=e&&e.trailing;n==null&&(n=!0),r==null&&(r=!n),n==!0&&(r=!1);var o=function(){s&&(clearTimeout(s),s=null)},l=function(){var d=i;o(),d&&d()},c=function(){var d=n&&!s,g=this,p=arguments;if(i=function(){return a.apply(g,p)},s||(s=setTimeout(function(){if(s=null,r)return i()},t)),d)return d=!1,i()};return c.cancel=o,c.flush=l,c}class vr{constructor(){this.playerId="vds-player",this.mediaId=null,this.Qk={volume:null,muted:null,time:null,lang:null,captions:null,rate:null,quality:null},this.saveTime=Ut(()=>{if(!this.mediaId)return;const t=(this.Qk.time??0).toString();localStorage.setItem(this.mediaId,t)},1e3)}async getVolume(){return this.Qk.volume}async setVolume(t){this.Qk.volume=t,this.save()}async getMuted(){return this.Qk.muted}async setMuted(t){this.Qk.muted=t,this.save()}async getTime(){return this.Qk.time}async setTime(t){this.Qk.time=t,this.saveTime()}async getLang(){return this.Qk.lang}async setLang(t){this.Qk.lang=t,this.save()}async getCaptions(){return this.Qk.captions}async setCaptions(t){this.Qk.captions=t,this.save()}async getPlaybackRate(){return this.Qk.rate}async setPlaybackRate(t){this.Qk.rate=t,this.save()}async getVideoQuality(){return this.Qk.quality}async setVideoQuality(t){this.Qk.quality=t,this.save()}onChange(t,e,s="vds-player"){const i=s?localStorage.getItem(s):null,n=e?localStorage.getItem(e):null;this.playerId=s,this.mediaId=e,this.Qk={volume:null,muted:null,lang:null,captions:null,rate:null,quality:null,...i?JSON.parse(i):{},time:n?+n:null}}save(){if(!this.playerId)return;const t=JSON.stringify({...this.Qk,time:void 0});localStorage.setItem(this.playerId,t)}}class yr{constructor(){this.priority=0,this.Be=!0,this.m=null,this.z=null,this.yb=new Set}canRender(t,e){return!!e}attach(t){this.m=t,t&&(t.textTracks.onchange=this.B.bind(this))}addTrack(t){this.yb.add(t),this.eg(t)}removeTrack(t){t[Q.T]?.remove?.(),t[Q.T]=null,this.yb.delete(t)}changeTrack(t){const e=t?.[Q.T];e&&e.track.mode!=="showing"&&(e.track.mode="showing"),this.z=t}setDisplay(t){this.Be=t,this.B()}detach(){this.m&&(this.m.textTracks.onchange=null);for(const t of this.yb)this.removeTrack(t);this.yb.clear(),this.m=null,this.z=null}eg(t){var e;if(!this.m)return;const s=t[e=Q.T]??(t[e]=this.fg(t));s instanceof HTMLElement&&(this.m.append(s),s.track.mode=s.default?"showing":"hidden")}fg(t){const e=document.createElement("track"),s=t.default||t.mode==="showing",i=t.src&&t.type==="vtt";return e.id=t.id,e.src=i?t.src:"https://cdn.jsdelivr.net/npm/vidstack@next/empty.vtt",e.label=t.label,e.kind=t.kind,e.default=s,t.language&&(e.srclang=t.language),s&&!i&&this.Ce(t,e.track),e}Ce(t,e){if(!(t.src&&t.type==="vtt"||e.cues?.length))for(const s of t.cues)e.addCue(s)}B(t){for(const e of this.yb){const s=e[Q.T]?.track;if(!s)continue;if(!this.Be){s.mode="disabled";continue}const i=s.mode==="showing";i&&this.Ce(e,s),e.setMode(i?"showing":"disabled",t)}}}class $r{constructor(t){this.a=t,this.m=null,this.cc=[],this.De=!1,this.ba=null,this.Ba=null;const e=t.textTracks;this.Uc=e,h(this.Vc.bind(this)),P(this.Ee.bind(this)),f(e,"add",this.Wc.bind(this)),f(e,"remove",this.gg.bind(this)),f(e,"mode-change",this.ea.bind(this))}Vc(){const{$state:t,$iosControls:e}=this.a;this.De=t.controls()||e(),this.ea()}add(t){this.cc.push(t),this.ea()}remove(t){t.detach(),this.cc.splice(this.cc.indexOf(t),1),this.ea()}Fe(t){requestAnimationFrame(()=>{if(this.m=t,t){this.ba=new yr,this.ba.attach(t);for(const e of this.Uc)this.Ge(e)}this.ea()})}Ge(t){K(t)&&this.ba?.addTrack(t)}hg(t){K(t)&&this.ba?.removeTrack(t)}Wc(t){this.Ge(t.detail)}gg(t){this.hg(t.detail)}ea(){const t=this.Uc.selected;if(this.m&&(this.De||t?.[Q.te])){this.Ba?.changeTrack(null),this.ba?.setDisplay(!0),this.ba?.changeTrack(t);return}if(this.ba?.setDisplay(!1),this.ba?.changeTrack(null),!t){this.Ba?.changeTrack(null);return}const e=this.cc.sort((s,i)=>s.priority-i.priority).find(s=>s.canRender(t,this.m));this.Ba!==e&&(this.Ba?.detach(),e?.attach(this.m),this.Ba=e??null),e?.changeTrack(t)}Ee(){this.ba?.detach(),this.ba=null,this.Ba?.detach(),this.Ba=null}}var is=kr;function kr(a,t,e){var s=null,i=null,n=function(){s&&(clearTimeout(s),i=null,s=null)},r=function(){var l=i;n(),l&&l()},o=function(){if(!t)return a.apply(this,arguments);var l=this,c=arguments,d=e&&!s;if(n(),i=function(){a.apply(l,c)},s=setTimeout(function(){if(s=null,!d){var g=i;return i=null,g()}},t),d)return i()};return o.cancel=n,o.flush=r,o}class wr extends ni{constructor(){super(),this.P=!1,this.dc={},this.Sk=null,this.Rk=null,this.un=is(async()=>{if(!this.P)return;!this.Rk&&this.Sk&&(this.Rk=await this.Sk.getLang());const t=await this.Sk?.getCaptions(),e=[["captions","subtitles"],"chapters","descriptions","metadata"];for(const s of e){const i=this.getByKind(s);if(i.find(c=>c.mode==="showing"))continue;const n=this.Rk?i.find(c=>c.language===this.Rk):null,r=X(s)?this.dc[s.find(c=>this.dc[c])||""]:this.dc[s],o=n??r,l=o&&K(o);o&&(!l||t!==!1)&&(o.mode="showing",l&&this.vn(o))}},300),this.Je=this.ig.bind(this)}get selected(){return this.r.find(t=>t.mode==="showing"&&K(t))??null}get preferredLang(){return this.Rk}set preferredLang(t){this.Rk=t,this.tn(t)}add(t,e){const s=t instanceof We,i=s?t:new We(t),n=t.kind==="captions"||t.kind==="subtitles"?"captions":t.kind;return this.dc[n]&&t.default&&delete t.default,i.addEventListener("mode-change",this.Je),this[J.oa](i,e),i[Q.al]=this[Q.al],this.P&&i[Q.P](),t.default&&(this.dc[n]=i),this.un(),this}remove(t,e){if(this.r.includes(t))return t===this.dc[t.kind]&&delete this.dc[t.kind],t.mode="disabled",t[Q.Ua]=null,t.removeEventListener("mode-change",this.Je),this[J.Yb](t,e),this}clear(t){for(const e of[...this.r])this.remove(e,t);return this}getById(t){return this.r.find(e=>e.id===t)??null}getByKind(t){const e=Array.isArray(t)?t:[t];return this.r.filter(s=>e.includes(s.kind))}[Q.P](){if(!this.P){for(const t of this.r)t[Q.P]();this.P=!0,this.un()}}ig(t){const e=t.detail;if(this.Sk&&K(e)&&e.mode!=="disabled"&&this.vn(e),e.mode==="showing"){const s=K(e)?["captions","subtitles"]:[e.kind];for(const i of this.r)i.mode==="showing"&&i!=e&&s.includes(i.kind)&&(i.mode="disabled")}this.dispatchEvent(new at("mode-change",{detail:t.detail,trigger:t}))}vn(t){this.tn(t.language),this.Sk?.setCaptions?.(t.mode==="showing")}tn(t){this.Sk?.setLang?.(this.Rk=t)}setStorage(t){this.Sk=t}}const zt=Symbol(0);class yi extends ni{get selected(){return this.r.find(t=>t.selected)??null}get selectedIndex(){return this.r.findIndex(t=>t.selected)}[J.oe](t,e){this[J.pa](t,!1,e)}[J.oa](t,e){t[zt]=!1,Object.defineProperty(t,"selected",{get(){return this[zt]},set:s=>{this.readonly||(this[J.pe]?.(),this[J.pa](t,s))}}),super[J.oa](t,e)}[J.pa](t,e,s){if(e===t?.[zt])return;const i=this.selected;t&&(t[zt]=e),(e?i!==t:i===t)&&(i&&(i[zt]=!1),this.dispatchEvent(new at("change",{detail:{prev:i,current:this.selected},trigger:s})))}}class Tr extends yi{getById(t){return t===""?null:this.r.find(e=>e.id===t)??null}}class xr extends yi{constructor(){super(...arguments),this.fc=!1,this.switch="current"}get auto(){return this.fc||this.readonly}[J.pe](){this[_t.Ya](!1)}[J.ne](t){this[_t.Ya](!1,t)}autoSelect(t){this.readonly||this.fc||!this[_t.Za]||(this[_t.Za]?.(),this[_t.Ya](!0,t))}[_t.Ya](t,e){this.fc!==t&&(this.fc=t,this.dispatchEvent(new at("auto-change",{detail:t,trigger:e})))}}function Pr(a){return a instanceof HTMLAudioElement}function Sr(a){return a instanceof HTMLVideoElement}function Cr(a){return Pr(a)||Sr(a)}const Er={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},$i=new Set(["Shift","Alt","Meta","Control"]),Mr='button, [role="button"]',ki='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]';class Ar extends Tt{constructor(t){super(),this.a=t,this.ct=null}onConnect(){h(this.mg.bind(this))}mg(){const{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;const s=e()==="player"?this.el:document,i=k(!1);s===this.el?(this.listen("focusin",()=>i.set(!0)),this.listen("focusout",n=>{this.el.contains(n.target)||i.set(!1)})):(b(i)||i.set(document.querySelector("[data-media-player]")===this.el),f(document,"focusin",n=>{const r=n.composedPath().find(o=>o instanceof Element&&o.localName==="media-player");r!==void 0&&i.set(this.el===r)})),h(()=>{i()&&(f(s,"keyup",this.zb.bind(this)),f(s,"keydown",this.Ab.bind(this)),f(s,"keydown",this.ng.bind(this),{capture:!0}))})}zb(t){const e=document.activeElement;if(!t.key||!this.$state.canSeek()||e?.matches(ki))return;let{method:s,value:i}=this.Zc(t);if(!C(i)&&!X(i)){i?.onKeyUp?.({event:t,player:this.a.player,remote:this.a.remote}),i?.callback?.(t,this.a.remote);return}s?.startsWith("seek")&&(t.preventDefault(),t.stopPropagation(),this.ct?(this.Ne(t,s==="seekForward"),this.ct=null):(this.a.remote.seek(this.gc,t),this.gc=void 0)),s?.startsWith("volume")&&this.el.querySelector("[data-media-volume-slider]")?.dispatchEvent(new KeyboardEvent("keyup",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}Ab(t){if(!t.key||$i.has(t.key))return;const e=document.activeElement;if(e?.matches(ki)||Ke(t)&&e?.matches(Mr))return;let{method:s,value:i}=this.Zc(t),n=!t.metaKey&&/^[0-9]$/.test(t.key);if(!C(i)&&!X(i)&&!n){i?.onKeyDown?.({event:t,player:this.a.player,remote:this.a.remote}),i?.callback?.(t,this.a.remote);return}if(!s&&n){t.preventDefault(),t.stopPropagation(),this.a.remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(s){switch(t.preventDefault(),t.stopPropagation(),s){case"seekForward":case"seekBackward":this.qa(t,s,s==="seekForward");break;case"volumeUp":case"volumeDown":const r=this.el.querySelector("[data-media-volume-slider]");if(r)r.dispatchEvent(new KeyboardEvent("keydown",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{const l=t.shiftKey?.1:.05;this.a.remote.changeVolume(this.$state.volume()+(s==="volumeUp"?+l:-l),t)}break;case"toggleFullscreen":this.a.remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":const o=this.$state.playbackRate();this.a.remote.changePlaybackRate(Math.max(.25,Math.min(2,o+(s==="speedUp"?.25:-.25))),t);break;default:this.a.remote[s]?.(t)}this.$state.lastKeyboardAction.set({action:s,event:t})}}ng(t){Cr(t.target)&&this.Zc(t).method&&t.preventDefault()}Zc(t){const e={...this.$props.keyShortcuts(),...this.a.ariaKeys},s=Object.keys(e).find(i=>{const n=e[i],r=X(n)?n.join(" "):C(n)?n:n?.keys;return(X(r)?r:r?.split(" "))?.some(o=>jr(o).replace(/Control/g,"Ctrl").split("+").every(l=>$i.has(l)?t[l.toLowerCase()+"Key"]:t.key===l.replace("Space"," ")))});return{method:s,value:s?e[s]:null}}og(t,e){const s=t.shiftKey?10:5;return this.gc=Math.max(0,Math.min((this.gc??this.$state.currentTime())+(e==="seekForward"?+s:-s),this.$state.duration()))}Ne(t,e){this.ct?.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}qa(t,e,s){this.$state.canSeek()&&(this.ct||(this.ct=this.el.querySelector("[data-media-time-slider]")),this.ct?this.Ne(t,s):this.a.remote.seeking(this.og(t,e),t))}}const Lr=["!","@","#","$","%","^","&","*","(",")"];function jr(a){return a.replace(/Shift\+(\d)/g,(t,e)=>Lr[e-1])}class _r extends ht{constructor(t){super(),this.$t=t}onAttach(t){const{$props:e,ariaKeys:s}=y(),i=t.getAttribute("aria-keyshortcuts");if(i){s[this.$t]=i,P(()=>{delete s[this.$t]});return}const n=e.keyShortcuts()[this.$t];if(n){const r=X(n)?n.join(" "):C(n)?n:n?.keys;t.setAttribute("aria-keyshortcuts",X(r)?r.join(" "):r)}}}const as=Symbol(0),qr=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"],Or={artist:"",autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:Er,storage:null};class wi extends Tt{constructor(t,e){super(),this.vb=t,this.Ca=e}async onAttach(t){const e=this.$props[this.vb]();if(e==="eager")requestAnimationFrame(this.Ca);else if(e==="idle")Bn(this.Ca);else if(e==="visible"){let s,i=new IntersectionObserver(n=>{this.scope&&n[0].isIntersecting&&(s?.(),s=void 0,this.Ca())});i.observe(t),s=P(()=>i.disconnect())}}}class Nr{constructor(t,e){this.X=t,this.a=e,this.c=(s,...i)=>{this.X(new at(s,{detail:i?.[0],trigger:i?.[1]}))}}async jc(t,e){return Kn(async()=>{this.a;const{autoPlay:s,canPlay:i,started:n,duration:r,seekable:o,buffered:l,remotePlaybackInfo:c,playsInline:d}=this.a.$state;if(i())return;const g={duration:t?.duration??r(),seekable:t?.seekable??o(),buffered:t?.buffered??l(),provider:this.a.$provider()};this.c("can-play",g,e),kt();let p=this.a.$provider(),{storage:v,qualities:M}=this.a,{muted:V,volume:F,clipStartTime:ot,playbackRate:W}=this.a.$props;const dt=c()?.savedState?.currentTime,it=c()?.savedState?.paused===!1,Lt=dt??await v?.getTime()??ot(),ce=it||s();p&&(p.setVolume(await v?.getVolume()??F()),p.setMuted(await v?.getMuted()??V()),p.setPlaybackRate?.(await v?.getPlaybackRate()??W()),p.setPlaysInline?.(d()),Lt>0&&p.setCurrentTime(Lt));const Ht=await v?.getVideoQuality();if(Ht&&M.length){let Be=null,Ys=1/0;for(const de of M){const Js=Math.abs(Ht.width-de.width)+Math.abs(Ht.height-de.height)+(Ht.bitrate?Math.abs(Ht.bitrate-de.bitrate):0);Js<Ys&&(Be=de,Ys=Js)}Be&&(Be.selected=!0)}i()&&ce&&!n()&&await this.oh(e),c.set(null)})}async oh(t){const{player:e,$state:{autoPlaying:s,muted:i}}=this.a;s.set(!0);const n=new at("auto-play-attempt",{trigger:t});try{await e.play(n)}catch{}}}var Z={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},Ti=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],xi=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],Pi=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],U=typeof window<"u"&&typeof window.document<"u"?window.document:{},st="fullscreenEnabled"in U&&Object.keys(Z)||Ti[0]in U&&Ti||xi[0]in U&&xi||Pi[0]in U&&Pi||[],xt={requestFullscreen:function(a){return a[st[Z.requestFullscreen]]()},requestFullscreenFunction:function(a){return a[st[Z.requestFullscreen]]},get exitFullscreen(){return U[st[Z.exitFullscreen]].bind(U)},get fullscreenPseudoClass(){return":"+st[Z.fullscreen]},addEventListener:function(a,t,e){return U.addEventListener(st[Z[a]],t,e)},removeEventListener:function(a,t,e){return U.removeEventListener(st[Z[a]],t,e)},get fullscreenEnabled(){return!!U[st[Z.fullscreenEnabled]]},set fullscreenEnabled(a){},get fullscreenElement(){return U[st[Z.fullscreenElement]]},set fullscreenElement(a){},get onfullscreenchange(){return U[("on"+st[Z.fullscreenchange]).toLowerCase()]},set onfullscreenchange(a){return U[("on"+st[Z.fullscreenchange]).toLowerCase()]=a},get onfullscreenerror(){return U[("on"+st[Z.fullscreenerror]).toLowerCase()]},set onfullscreenerror(a){return U[("on"+st[Z.fullscreenerror]).toLowerCase()]=a}};const ge=xt.fullscreenEnabled;class Dr extends ht{constructor(){super(...arguments),this.ub=!1,this.Nc=!1}get active(){return this.Nc}get supported(){return ge}onConnect(){f(xt,"fullscreenchange",this.Oc.bind(this)),f(xt,"fullscreenerror",this.mt.bind(this)),P(this.ya.bind(this))}async ya(){ge&&await this.exit()}Oc(t){const e=ns(this.el);e!==this.Nc&&(e||(this.ub=!1),this.Nc=e,this.dispatch("fullscreen-change",{detail:e,trigger:t}))}mt(t){this.ub&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),this.ub=!1)}async enter(){try{return this.ub=!0,!this.el||ns(this.el)?void 0:(Si(),xt.requestFullscreen(this.el))}catch(t){throw this.ub=!1,t}}async exit(){if(!(!this.el||!ns(this.el)))return Si(),xt.exitFullscreen()}}function Ir(){return ge}function ns(a){if(xt.fullscreenElement===a)return!0;try{return a.matches(xt.fullscreenPseudoClass)}catch{return!1}}function Si(){if(!ge)throw Error("[vidstack] no fullscreen API")}const Ci=class Vn extends ht{constructor(){super(...arguments),this.vb=k(this.qe()),this.Ra=k(!1)}get type(){return this.vb()}get locked(){return this.Ra()}get portrait(){return this.vb().startsWith("portrait")}get landscape(){return this.vb().startsWith("landscape")}get supported(){return Vn.supported}onConnect(){if(this.supported)f(screen.orientation,"change",this.re.bind(this));else{const t=window.matchMedia("(orientation: landscape)");t.onchange=this.re.bind(this),P(()=>t.onchange=null)}P(this.ya.bind(this))}async ya(){this.supported&&this.Ra()&&await this.unlock()}re(t){this.vb.set(this.qe()),this.dispatch("orientation-change",{detail:{orientation:b(this.vb),lock:this.$b},trigger:t})}async lock(t){b(this.Ra)||this.$b===t||(this.se(),await screen.orientation.lock(t),this.Ra.set(!0),this.$b=t)}async unlock(){b(this.Ra)&&(this.se(),this.$b=void 0,await screen.orientation.unlock(),this.Ra.set(!1))}se(){if(!this.supported)throw Error("[vidstack] no orientation API")}qe(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}};Ci.supported=or();let Ei=Ci;class Rr{constructor(){this.e=new Map}k(t,e){this.e.set(t,e)}td(t){const e=this.kl(t);return this.e.delete(t),e}kl(t){return this.e.get(t)}qc(t){this.e.delete(t)}pl(){this.e.clear()}}class Mi{constructor(){this.Mb=!1,this.Ed=Zs(),this.e=new Map}get ph(){return this.e.size}get Rj(){return this.Mb}async Sj(){this.Mb||await this.Ed.promise}k(t,e){if(this.Mb){e();return}this.e.delete(t),this.e.set(t,e)}td(t){this.e.get(t)?.(),this.e.delete(t)}Bb(){this.jf(),this.Mb=!0,this.e.size>0&&this.jf()}ra(){this.Mb=!1}H(){this.ra(),this.e.clear(),this.kf()}jf(){for(const t of this.e.keys())this.td(t);this.kf()}kf(){this.Ed.resolve(),this.Ed=Zs()}}class Vr extends Tt{constructor(t,e,s){super(),this.ga=t,this.f=e,this.a=s,this.vk=new Mi,this.vd=!1,this.uk=s.$provider,this.Ib=new br,this.rc=new Dr,this.ta=new Ei}onAttach(){this.listen("fullscreen-change",this.Oc.bind(this))}onConnect(){const t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),e=this.qh.bind(this);for(const s of t)s.startsWith("media-")&&this.listen(s,e);this.Mk(),h(this.wk.bind(this)),h(this.rh.bind(this)),h(this.ll.bind(this)),h(this.Ll.bind(this)),h(this.sh.bind(this)),h(this.th.bind(this))}onDestroy(){this.vk.H()}Mk(){const{load:t}=this.$props,{canLoad:e}=this.$state;if(t()!=="play"||e())return;const s=this.listen("media-play-request",i=>{this.Lk(i),s()})}wk(){const t=this.uk(),e=this.$state.canPlay();return t&&e&&this.vk.Bb(),()=>{this.vk.ra()}}qh(t){t.stopPropagation(),!t.defaultPrevented&&this[t.type]&&(b(this.uk)?this[t.type](t):this.vk.k(t.type,()=>{b(this.uk)&&this[t.type](t)}))}async sc(t){const{canPlay:e,paused:s,autoPlaying:i}=this.$state;if(!this.Lk(t)&&b(s)){t&&this.f.e.k("media-play-request",t);try{const n=b(this.uk);return rs(n,b(e)),await n.play()}catch(n){const r=this.createEvent("play-fail",{detail:es(n),trigger:t});throw r.autoPlay=i(),this.ga.X(r),n}}}Lk(t){const{load:e}=this.$props,{canLoad:s}=this.$state;if(e()==="play"&&!s()){const i=this.createEvent("media-start-loading",{trigger:t});return this.dispatchEvent(i),this.vk.k("media-play-request",async()=>{try{await this.sc(i)}catch{}}),!0}return!1}async ud(t){const{canPlay:e,paused:s}=this.$state;if(!b(s)){t&&this.f.e.k("media-pause-request",t);try{const i=b(this.uk);return rs(i,b(e)),await i.pause()}catch(i){throw this.f.e.qc("media-pause-request"),i}}}Ze(t){const{canPlay:e,live:s,liveEdge:i,canSeek:n,liveSyncPosition:r,seekableEnd:o,userBehindLiveEdge:l}=this.$state;if(l.set(!1),b(()=>!s()||i()||!n()))return;const c=b(this.uk);rs(c,b(e)),t&&this.f.e.k("media-seek-request",t);const d=o()-2;c.setCurrentTime(Math.min(d,r()??d))}async Pt(t="prefer-media",e){const s=this.$e(t);if(Ai(t,s),!s.active)return b(this.$state.pictureInPicture)&&(this.vd=!0,await this.wd(e)),e&&this.f.e.k("media-enter-fullscreen-request",e),s.enter()}async af(t="prefer-media",e){const s=this.$e(t);if(Ai(t,s),!!s.active){e&&this.f.e.k("media-exit-fullscreen-request",e);try{const i=await s.exit();return this.vd&&b(this.$state.canPictureInPicture)&&await this.xd(),i}finally{this.vd=!1}}}$e(t){const e=b(this.uk);return t==="prefer-media"&&this.rc.supported||t==="media"?this.rc:e?.fullscreen}async xd(t){if(this.bf(),!this.$state.pictureInPicture())return t&&this.f.e.k("media-enter-pip-request",t),await this.uk().pictureInPicture.enter()}async wd(t){if(this.bf(),!!this.$state.pictureInPicture())return t&&this.f.e.k("media-exit-pip-request",t),await this.uk().pictureInPicture.exit()}bf(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}rh(){this.Ib.defaultDelay=this.$props.controlsDelay()}ll(){const{canAirPlay:t}=this.$state,e=!!this.uk()?.airPlay?.supported;t.set(e)}Ll(){const{canGoogleCast:t,source:e}=this.$state,s=lr&&!hr&&pr(e());t.set(s)}sh(){const{canFullscreen:t}=this.$state,e=this.rc.supported||!!this.uk()?.fullscreen?.supported;t.set(e)}th(){const{canPictureInPicture:t}=this.$state,e=!!this.uk()?.pictureInPicture?.supported;t.set(e)}async"media-airplay-request"(t){try{await this.ol(t)}catch{}}async ol(t){try{const e=this.uk()?.airPlay;if(!e?.supported)throw Error("No AirPlay adapter.");return t&&this.f.e.k("media-airplay-request",t),await e.prompt()}catch(e){throw this.f.e.qc("media-airplay-request"),e}}async"media-google-cast-request"(t){try{await this.ul(t)}catch{}}async ul(t){try{const{canGoogleCast:e}=this.$state;if(!b(e))throw new Error("Cast not available.");if(Gt("https://www.gstatic.com"),!this.om){const i=await import("./chunks/vidstack-CtxoQEQE.js");this.om=new i.GoogleCastLoader}await this.om.prompt(this.a),t&&this.f.e.k("media-google-cast-request",t);const s=b(this.$state.remotePlaybackState)!=="disconnected";s&&this.$state.remotePlaybackInfo.set(i=>({...i,savedState:{paused:b(this.$state.paused),currentTime:b(this.$state.currentTime)}})),this.$state.remotePlaybackLoader.set(s?this.om:null)}catch(e){throw this.f.e.qc("media-google-cast-request"),e}}"media-audio-track-change-request"(t){const{logger:e,audioTracks:s}=this.a;if(s.readonly)return;const i=t.detail,n=s[i];if(n){const r=t.type;this.f.e.k(r,t),n.selected=!0}}async"media-enter-fullscreen-request"(t){try{await this.Pt(t.detail,t)}catch(e){this.mt(e,t)}}async"media-exit-fullscreen-request"(t){try{await this.af(t.detail,t)}catch(e){this.mt(e,t)}}async Oc(t){const e=b(this.$props.fullscreenOrientation),s=t.detail;if(!(Qe(e)||!this.ta.supported))if(s){if(this.ta.locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else this.ta.locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}mt(t,e){this.ga.X(this.createEvent("fullscreen-error",{detail:es(t)}))}async"media-orientation-lock-request"(t){const e=t.type;try{this.f.e.k(e,t),await this.ta.lock(t.detail)}catch{this.f.e.qc(e)}}async"media-orientation-unlock-request"(t){const e=t.type;try{this.f.e.k(e,t),await this.ta.unlock()}catch{this.f.e.qc(e)}}async"media-enter-pip-request"(t){try{await this.xd(t)}catch(e){this.cf(e,t)}}async"media-exit-pip-request"(t){try{await this.wd(t)}catch(e){this.cf(e,t)}}cf(t,e){this.ga.X(this.createEvent("picture-in-picture-error",{detail:es(t)}))}"media-live-edge-request"(t){const{live:e,liveEdge:s,canSeek:i}=this.$state;if(!(!e()||s()||!i())){this.f.e.k("media-seek-request",t);try{this.Ze()}catch{this.f.e.qc("media-seek-request")}}}async"media-loop-request"(t){try{this.f.Ha=!0,this.f.gb=!0,await this.sc(t)}catch{this.f.Ha=!1}}async"media-pause-request"(t){if(!this.$state.paused())try{await this.ud(t)}catch{}}async"media-play-request"(t){if(this.$state.paused())try{await this.sc(t)}catch{}}"media-rate-change-request"(t){const{playbackRate:e,canSetPlaybackRate:s}=this.$state;if(e()===t.detail||!s())return;const i=this.uk();i?.setPlaybackRate&&(this.f.e.k("media-rate-change-request",t),i.setPlaybackRate(t.detail))}"media-quality-change-request"(t){const{qualities:e,storage:s,logger:i}=this.a;if(e.readonly)return;this.f.e.k("media-quality-change-request",t);const n=t.detail;if(n<0)e.autoSelect(t),t.isOriginTrusted&&s?.setVideoQuality?.(null);else{const r=e[n];r&&(r.selected=!0,t.isOriginTrusted&&s?.setVideoQuality?.({id:r.id,width:r.width,height:r.height,bitrate:r.bitrate}))}}"media-pause-controls-request"(t){const e=t.type;this.f.e.k(e,t),this.Ib.pause(t)}"media-resume-controls-request"(t){const e=t.type;this.f.e.k(e,t),this.Ib.resume(t)}"media-seek-request"(t){const{seekableStart:e,seekableEnd:s,ended:i,canSeek:n,live:r,userBehindLiveEdge:o,clipStartTime:l}=this.$state;i()&&(this.f.gb=!0);const c=t.type;this.f.qa=!1,this.f.e.qc(c);const d=Math.min(Math.max(e()+.1,t.detail+l()),s()-.1);!Number.isFinite(d)||!n()||(this.f.e.k(c,t),this.uk().setCurrentTime(d),r()&&t.isOriginTrusted&&Math.abs(s()-d)>=2&&o.set(!0))}"media-seeking-request"(t){const e=t.type;this.f.e.k(e,t),this.$state.seeking.set(!0),this.f.qa=!0}"media-start-loading"(t){if(this.$state.canLoad())return;const e=t.type;this.f.e.k(e,t),this.ga.X(this.createEvent("can-load"))}"media-poster-start-loading"(t){if(this.$state.canLoadPoster())return;const e=t.type;this.f.e.k(e,t),this.ga.X(this.createEvent("can-load-poster"))}"media-text-track-change-request"(t){const{index:e,mode:s}=t.detail,i=this.a.textTracks[e];if(i){const n=t.type;this.f.e.k(n,t),i.setMode(s,t)}}"media-mute-request"(t){if(this.$state.muted())return;const e=t.type;this.f.e.k(e,t),this.uk().setMuted(!0)}"media-unmute-request"(t){const{muted:e,volume:s}=this.$state;if(!e())return;const i=t.type;this.f.e.k(i,t),this.a.$provider().setMuted(!1),s()===0&&(this.f.e.k(i,t),this.uk().setVolume(.25))}"media-volume-change-request"(t){const{muted:e,volume:s}=this.$state,i=t.detail;if(s()===i)return;const n=t.type;this.f.e.k(n,t),this.uk().setVolume(i),i>0&&e()&&(this.f.e.k(n,t),this.uk().setMuted(!1))}ql(t,e,s){}}function rs(a,t){if(!(a&&t))throw Error("[vidstack] media not ready")}function Ai(a,t){if(!t?.supported)throw Error("[vidstack] no fullscreen support")}class Fr{constructor(){this.qa=!1,this.Ha=!1,this.gb=!1,this.e=new Rr}}const Hr=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);class Br extends Tt{constructor(t,e){super(),this.f=t,this.a=e,this.p=new Map,this.Kk=!1,this.tc=!1,this.Jb=!1,this.seeking=Ut(s=>{const{seeking:i,realCurrentTime:n,paused:r}=this.$state;i.set(!0),n.set(s.detail),this.F("media-seeking-request",s),r()&&(this.hb=s,this.zd())},150,{leading:!0}),this.zd=is(()=>{if(!this.hb)return;this.tc=!0;const{waiting:s,playing:i}=this.$state;s.set(!0),i.set(!1);const n=this.createEvent("waiting",{trigger:this.hb});this.p.set("waiting",n),this.dispatch(n),this.hb=void 0,this.tc=!1},300)}onAttach(t){t.setAttribute("aria-busy","true"),this.listen("fullscreen-change",this["fullscreen-change"].bind(this)),this.listen("fullscreen-error",this["fullscreen-error"].bind(this)),this.listen("orientation-change",this["orientation-change"].bind(this))}onConnect(t){h(this.nm.bind(this)),this.uh(),this.vh(),this.wh(),this.xh(),P(this.yh.bind(this))}X(t){if(!this.scope)return;const e=t.type;this[t.type]?.(t),Hr.has(e)&&this.p.set(e,t),this.dispatch(t)}xh(){this.Jb&&(requestAnimationFrame(()=>{this.scope&&this.a.remote.play(new at("dom-connect"))}),this.Jb=!1)}yh(){this.Jb||(this.Jb=!this.a.$state.paused(),this.a.$provider()?.pause())}ib(){this.df(),this.Kk=!1,this.f.gb=!1,this.f.Ha=!1,this.tc=!1,this.hb=void 0,this.p.clear()}F(t,e){const s=this.f.e.td(t);s&&(e.request=s,e.triggers.add(s))}uh(){this.yd(),this.ef();const t=this.a.textTracks;f(t,"add",this.yd.bind(this)),f(t,"remove",this.yd.bind(this)),f(t,"mode-change",this.ef.bind(this))}vh(){const t=this.a.qualities;f(t,"add",this.pc.bind(this)),f(t,"remove",this.pc.bind(this)),f(t,"change",this.fb.bind(this)),f(t,"auto-change",this.zh.bind(this)),f(t,"readonly-change",this.Ah.bind(this))}wh(){const t=this.a.audioTracks;f(t,"add",this.ff.bind(this)),f(t,"remove",this.ff.bind(this)),f(t,"change",this.Bh.bind(this))}yd(t){const{textTracks:e}=this.$state;e.set(this.a.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}ef(t){t&&this.F("media-text-track-change-request",t);const e=this.a.textTracks.selected,{textTrack:s}=this.$state;s()!==e&&(s.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}ff(t){const{audioTracks:e}=this.$state;e.set(this.a.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}Bh(t){const{audioTrack:e}=this.$state;e.set(this.a.audioTracks.selected),t&&this.F("media-audio-track-change-request",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}pc(t){const{qualities:e}=this.$state;e.set(this.a.qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}fb(t){const{quality:e}=this.$state;e.set(this.a.qualities.selected),t&&this.F("media-quality-change-request",t),this.dispatch("quality-change",{detail:e(),trigger:t})}zh(){this.$state.autoQuality.set(this.a.qualities.auto)}Ah(){this.$state.canSetQuality.set(!this.a.qualities.readonly)}nm(){const{canSetVolume:t,isGoogleCastConnected:e}=this.$state;if(e()){t.set(!1);return}cr().then(t.set)}"provider-change"(t){const e=this.a.$provider(),s=t.detail;e?.type!==s?.type&&(e?.destroy?.(),e?.scope?.dispose(),this.a.$provider.set(t.detail),e&&t.detail===null&&this.gf(t))}"provider-loader-change"(t){}"auto-play"(t){this.$state.autoPlayError.set(null)}"auto-play-fail"(t){this.$state.autoPlayError.set(t.detail),this.ib()}"can-load"(t){this.$state.canLoad.set(!0),this.p.set("can-load",t),this.a.textTracks[Q.P](),this.F("media-start-loading",t)}"can-load-poster"(t){this.$state.canLoadPoster.set(!0),this.p.set("can-load-poster",t),this.F("media-poster-start-loading",t)}"media-type-change"(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const s=this.$state.viewType();this.$state.mediaType.set(t.detail);const i=this.$state.providedViewType(),n=i==="unknown"?t.detail:i;s!==n&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:n,trigger:t}))})},0)}"stream-type-change"(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const{streamType:s,inferredStreamType:i}=this.$state;i.set(t.detail),t.detail=s()}"rate-change"(t){const{storage:e}=this.a,{canPlay:s}=this.$state;this.$state.playbackRate.set(t.detail),this.F("media-rate-change-request",t),s()&&e?.setPlaybackRate?.(t.detail)}"remote-playback-change"(t){const{remotePlaybackState:e,remotePlaybackType:s}=this.$state,{type:i,state:n}=t.detail,r=n==="connected";s.set(i),e.set(n);const o=i==="airplay"?"media-airplay-request":"media-google-cast-request";if(r)this.F(o,t);else{const l=this.f.e.kl(o);l&&(t.request=l,t.triggers.add(l))}}"sources-change"(t){this.$state.sources.set(t.detail)}"source-change"(t){const e=this.p.get("sources-change");e&&t.triggers.add(e),this.gf(t),this.p.set(t.type,t),this.$state.source.set(t.detail),this.el?.setAttribute("aria-busy","true")}gf(t){this.a.audioTracks[J.H](t),this.a.qualities[J.H](t),this.ib(),Jn(this.a.$state)}abort(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const s=this.p.get("can-load");s&&!t.triggers.hasType("can-load")&&t.triggers.add(s)}"load-start"(t){const e=this.p.get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);const e=this.p.get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){const e=this.p.get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){const e=this.p.get("load-start");e&&t.triggers.add(e)}"can-play"(t){const e=this.p.get("loaded-metadata");e&&t.triggers.add(e),this.hf(t.detail),this.el?.setAttribute("aria-busy","false")}"can-play-through"(t){this.hf(t.detail);const e=this.p.get("can-play");e&&t.triggers.add(e)}hf(t){const{seekable:e,buffered:s,intrinsicDuration:i,canPlay:n}=this.$state;n.set(!0),s.set(t.buffered),e.set(t.seekable);const r=bi(t.seekable)??1/0;i.set(r)}"duration-change"(t){const{live:e,intrinsicDuration:s}=this.$state,i=t.detail;e()||s.set(Number.isNaN(i)?0:i)}progress(t){const{buffered:e,seekable:s,live:i,intrinsicDuration:n}=this.$state,r=t.detail;if(e.set(r.buffered),s.set(r.seekable),i()){const o=bi(r.seekable)??1/0;n.set(o),this.dispatch("duration-change",{detail:o,trigger:t})}}play(t){const{paused:e,autoPlayError:s,ended:i,autoPlaying:n,playsInline:r,pointer:o,muted:l,viewType:c,live:d,userBehindLiveEdge:g}=this.$state;if(this.Gk(),!e()){t.stopImmediatePropagation();return}t.autoPlay=n();const p=this.p.get("waiting");p&&t.triggers.add(p),this.F("media-play-request",t),this.p.set("play",t),e.set(!1),s.set(null),t.autoPlay&&(this.X(this.createEvent("auto-play",{detail:{muted:l()},trigger:t})),n.set(!1)),(i()||this.f.gb)&&(this.f.gb=!1,i.set(!1),this.X(this.createEvent("replay",{trigger:t}))),!r()&&c()==="video"&&o()==="coarse"&&this.a.remote.enterFullscreen("prefer-media",t),d()&&!g()&&this.a.remote.seekToLiveEdge(t)}Gk(t){if(!b(this.a.$provider))return;const{ended:e,seekableStart:s,clipStartTime:i,clipEndTime:n,realCurrentTime:r,duration:o}=this.$state,l=r()<i()||n()>0&&r()>=n()||Math.abs(r()-o())<.1||e();return l&&this.dispatch("media-seek-request",{detail:(i()>0?0:s())+.1,trigger:t}),l}"play-fail"(t){const{muted:e,autoPlaying:s}=this.$state,i=this.p.get("play");i&&t.triggers.add(i),this.F("media-play-request",t);const{paused:n,playing:r}=this.$state;n.set(!0),r.set(!1),this.ib(),this.p.set("play-fail",t),t.autoPlay&&(this.X(this.createEvent("auto-play-fail",{detail:{muted:e(),error:t.detail},trigger:t})),s.set(!1))}playing(t){const e=this.p.get("play"),s=this.p.get("seeked");e?t.triggers.add(e):s&&t.triggers.add(s),setTimeout(()=>this.ib(),0);const{paused:i,playing:n,live:r,liveSyncPosition:o,seekableEnd:l,started:c,currentTime:d,seeking:g,ended:p}=this.$state;if(i.set(!1),n.set(!0),g.set(!1),p.set(!1),this.f.Ha){this.f.Ha=!1;return}if(r()&&!c()&&d()===0){const v=o()??l()-2;Number.isFinite(v)&&this.a.$provider().setCurrentTime(v)}this.started(t)}started(t){const{started:e}=this.$state;e()||(e.set(!0),this.X(this.createEvent("started",{trigger:t})))}pause(t){this.el?.isConnected||(this.Jb=!0),this.F("media-pause-request",t);const e=this.p.get("seeked");e&&t.triggers.add(e);const{paused:s,playing:i}=this.$state;s.set(!0),i.set(!1),this.Kk&&setTimeout(()=>{this.X(this.createEvent("end",{trigger:t})),this.Kk=!1},0),this.ib()}"time-update"(t){if(this.f.Ha){t.stopImmediatePropagation();return}const{realCurrentTime:e,played:s,waiting:i,clipEndTime:n}=this.$state,r=n(),o=t.detail;e.set(o.currentTime),s.set(o.played),i.set(!1);for(const l of this.a.textTracks)l[Q.Ta](o.currentTime,t);r>0&&o.currentTime>=r&&(this.Kk=!0,this.dispatch("media-pause-request",{trigger:t})),this.Nk()}Nk(){const{storage:t}=this.a,{canPlay:e,realCurrentTime:s}=this.$state;e()&&t?.setTime?.(s())}"volume-change"(t){const{storage:e}=this.a,{volume:s,muted:i,canPlay:n}=this.$state,r=t.detail;s.set(r.volume),i.set(r.muted||r.volume===0),this.F("media-volume-change-request",t),this.F(r.muted?"media-mute-request":"media-unmute-request",t),n()&&(e?.setVolume?.(s()),e?.setMuted?.(i()))}seeked(t){const{seeking:e,currentTime:s,realCurrentTime:i,paused:n,duration:r,ended:o}=this.$state;if(this.f.qa)e.set(!0),t.stopImmediatePropagation();else if(e()){const l=this.p.get("waiting");l&&t.triggers.add(l);const c=this.p.get("seeking");c&&!t.triggers.has(c)&&t.triggers.add(c),n()&&this.df(),e.set(!1),t.detail!==r()&&o.set(!1),i.set(t.detail),this.F("media-seek-request",t);const d=t?.originEvent;d?.isTrusted&&!/seek/.test(d.type)&&this.started(t)}Math.abs(r()-s())>=.1&&o.set(!1)}waiting(t){this.tc||this.f.qa||(t.stopImmediatePropagation(),this.hb=t,this.zd())}end(t){const{loop:e}=this.$state;if(e()){setTimeout(()=>{requestAnimationFrame(()=>{this.dispatch("media-loop-request",{trigger:t})})},10);return}this.Db(t)}Db(t){const{paused:e,seeking:s,ended:i,duration:n}=this.$state;e()||this.dispatch("pause",{trigger:t}),s()&&this.dispatch("seeked",{detail:n(),trigger:t}),i.set(!0),this.ib(),this.dispatch("ended",{trigger:t})}df(){this.zd.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(t){const e=t.detail;this.$state.fullscreen.set(e),this.F(e?"media-enter-fullscreen-request":"media-exit-fullscreen-request",t)}"fullscreen-error"(t){this.F("media-enter-fullscreen-request",t),this.F("media-exit-fullscreen-request",t)}"orientation-change"(t){const e=t.detail.lock;this.F(e?"media-orientation-lock-request":"media-orientation-unlock-request",t)}"picture-in-picture-change"(t){const e=t.detail;this.$state.pictureInPicture.set(e),this.F(e?"media-enter-pip-request":"media-exit-pip-request",t)}"picture-in-picture-error"(t){this.F("media-enter-pip-request",t),this.F("media-exit-pip-request",t)}"title-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail))}"poster-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail))}}class Kr extends Tt{onSetup(){this.Ch(),h(this.Om.bind(this)),h(this.Fh.bind(this)),h(this.Ek.bind(this)),h(this.Vc.bind(this)),h(this.Hh.bind(this)),h(this.pn.bind(this)),h(this.Jh.bind(this)),h(this.Kh.bind(this)),h(this.Ih.bind(this)),h(this.Gh.bind(this)),h(this.Vm.bind(this)),h(this.ld.bind(this)),h(this.Eh.bind(this)),h(this.uc.bind(this))}Ch(){const t={duration:"providedDuration",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},e=new Set(["currentTime","paused","playbackRate","volume"]);for(const s of Object.keys(this.$props))e.has(s)||this.$state[t[s]??s]?.set(this.$props[s]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)}Eh(){const{viewType:t,streamType:e,title:s,poster:i}=this.$props;this.$state.providedPoster.set(i()),this.$state.providedStreamType.set(e()),this.$state.providedViewType.set(t()),this.$state.providedTitle.set(s())}Dh(){}Om(){const{artist:t}=this.$props;this.$state.artist.set(t())}uc(){const{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}Fh(){const t=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(t),this.dispatch("auto-play-change",{detail:t})}Gh(){const t=this.$props.loop();this.$state.loop.set(t),this.dispatch("loop-change",{detail:t})}Vc(){const t=this.$props.controls();this.$state.controls.set(t)}ld(){const{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}Hh(){const t=this.$props.crossOrigin()??this.$props.crossorigin(),e=t===!0?"":t;this.$state.crossOrigin.set(e)}pn(){const{providedDuration:t}=this.$state;t.set(this.$props.duration())}Vm(){const t=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(t),this.dispatch("plays-inline-change",{detail:t})}Ek(){const{clipStartTime:t,clipEndTime:e}=this.$props;this.$state.clipStartTime.set(t()),this.$state.clipEndTime.set(e())}Jh(){this.dispatch("live-change",{detail:this.$state.live()})}Ih(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}Kh(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}}const Li=class Ws extends Tt{constructor(){super()}onConnect(){h(this.Pm.bind(this)),h(this.Qm.bind(this));const t=this.Rm.bind(this);for(const e of Ws.Nm)navigator.mediaSession.setActionHandler(e,t);P(this.ya.bind(this))}ya(){for(const t of Ws.Nm)navigator.mediaSession.setActionHandler(t,null)}Pm(){const{title:t,artist:e,poster:s}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:t(),artist:e(),artwork:[{src:s()}]})}Qm(){const{canPlay:t,paused:e}=this.$state;navigator.mediaSession.playbackState=t()?e()?"paused":"playing":"none"}Rm(t){const e=new at("media-session-action",{detail:t});switch(t.action){case"play":this.dispatch("media-play-request",{trigger:e});break;case"pause":this.dispatch("media-pause-request",{trigger:e});break;case"seekto":case"seekforward":case"seekbackward":this.dispatch("media-seek-request",{detail:bt(t.seekTime)?t.seekTime:this.$state.currentTime()+(t.seekOffset??10),trigger:e});break}}};Li.Nm=["play","pause","seekforward","seekbackward","seekto"];let Qr=Li,be=k(!1);f(document,"pointerdown",()=>{be.set(!1)}),f(document,"keydown",a=>{a.metaKey||a.altKey||a.ctrlKey||be.set(!0)});class rt extends ht{constructor(){super(...arguments),this.Kb=k(!1)}onConnect(t){h(()=>{if(!be()){this.Kb.set(!1),fe(t,!1),this.listen("pointerenter",this.Cd.bind(this)),this.listen("pointerleave",this.Dd.bind(this));return}const e=document.activeElement===t;this.Kb.set(e),fe(t,e),this.listen("focus",this.Lb.bind(this)),this.listen("blur",this.Nh.bind(this))})}focused(){return this.Kb()}Lb(){this.Kb.set(!0),fe(this.el,!0)}Nh(){this.Kb.set(!1),fe(this.el,!1)}Cd(){ji(this.el,!0)}Dd(){ji(this.el,!1)}}function fe(a,t){$(a,"data-focus",t),$(a,"data-hocus",t)}function ji(a,t){$(a,"data-hocus",t),$(a,"data-hover",t)}var Gr=Object.defineProperty,Ur=Object.getOwnPropertyDescriptor,q=(a,t,e,s)=>{for(var i=s>1?void 0:s?Ur(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Gr(t,e,i),i};const A=class He extends x{constructor(){super(),this.canPlayQueue=new Mi,this.wc=!1,new Kr;const t={player:this,qualities:new xr,audioTracks:new Tr,storage:null,$provider:k(null),$providerSetup:k(!1),$props:this.$props,$state:this.$state};t.remote=new gr(void 0),t.remote.setPlayer(this),t.$iosControls=j(this.Oh.bind(this)),t.textTracks=new wr,t.textTracks[Q.al]=this.$state.crossOrigin,t.textRenderers=new $r(t),t.ariaKeys={},this.a=t,Y(vi,t),this.orientation=new Ei,new rt,new Ar(t);const e=new Fr;this.ga=new Br(e,t),this.Y=new Vr(this.ga,e,t),t.delegate=new Nr(this.ga.X.bind(this.ga),t),new Qr,new wi("load",this.startLoading.bind(this)),new wi("posterLoad",this.startLoadingPoster.bind(this))}get i(){return this.a.$provider()}get sn(){return this.$props}onSetup(){this.Ph(),h(this.Qh.bind(this)),h(this.Rh.bind(this)),h(this.Tc.bind(this)),h(this.Fd.bind(this)),h(this.jb.bind(this)),h(this.Vm.bind(this)),h(this.Sh.bind(this))}onAttach(t){t.setAttribute("data-media-player",""),_(t,"tabindex","0"),_(t,"role","region"),h(this.Tm.bind(this)),h(this.uc.bind(this)),h(this.lf.bind(this)),f(t,"find-media-player",this.Th.bind(this))}onConnect(t){di&&$(t,"data-iphone","");const e=window.matchMedia("(pointer: coarse)");this.mf(e),e.onchange=this.mf.bind(this);const s=new ResizeObserver(ft(this.O.bind(this)));s.observe(t),h(this.O.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),P(()=>{s.disconnect(),e.onchange=null})}onDestroy(){this.a.player=null,this.canPlayQueue.H()}uc(){const t=this.$el,{title:e,live:s,viewType:i,providedTitle:n}=this.$state,r=s(),o=Ge(i()),l=o!=="Unknown"?`${r?"Live ":""}${o}`:r?"Live":"Media",c=e();$(this.el,"aria-label",c?`${l} - ${c}`:l+" Player"),t?.hasAttribute("title")&&(this.wc=!0,t?.removeAttribute("title"))}lf(){const t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),$(this.el,"data-orientation",t),this.O()}Qh(){this.$state.canPlay()&&this.i?this.canPlayQueue.Bb():this.canPlayQueue.ra()}Ph(){if(He[as]){this.setAttributes(He[as]);return}const t={"data-load":function(){return this.$props.load()},"data-captions":function(){const s=this.$state.textTrack();return!!s&&K(s)},"data-ios-controls":function(){return this.a.$iosControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canLoad:s,canPlay:i,waiting:n}=this.$state;return s()&&(!i()||n())},"data-error":function(){const{error:s}=this.$state;return!!s()},"data-autoplay-error":function(){const{autoPlayError:s}=this.$state;return!!s()}},e={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(const s of qr){const i="data-"+(e[s]??ti(s));t[i]=function(){return this.$state[s]()}}delete t.title,He[as]=t,this.setAttributes(t)}Th(t){t.detail(this)}O(){if(!this.el)return;const t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),nt(this.el,"--player-width",t+"px"),nt(this.el,"--player-height",e+"px")}mf(t){const e=t.matches?"coarse":"fine";$(this.el,"data-pointer",e),this.$state.pointer.set(e),this.O()}Oh(){const{playsInline:t,fullscreen:e}=this.$state;return di&&!Ir()&&this.$state.mediaType()==="video"&&(!t()||e())}get provider(){return this.i}get controls(){return this.Y.Ib}set controls(t){this.sn.controls.set(t)}get title(){return b(this.$state.providedTitle)}set title(t){if(this.wc){this.wc=!1;return}this.$state.providedTitle.set(t)}get qualities(){return this.a.qualities}get audioTracks(){return this.a.audioTracks}get textTracks(){return this.a.textTracks}get textRenderers(){return this.a.textRenderers}get duration(){return this.$state.duration()}set duration(t){this.sn.duration.set(t)}get paused(){return b(this.$state.paused)}set paused(t){this.nf(t)}Tc(){this.nf(this.$props.paused())}nf(t){t?this.canPlayQueue.k("paused",()=>this.Y.ud()):this.canPlayQueue.k("paused",()=>this.Y.sc())}get muted(){return b(this.$state.muted)}set muted(t){this.sn.muted.set(t)}Rh(){this.Uh(this.$props.muted())}Uh(t){this.canPlayQueue.k("muted",()=>{this.i&&this.i.setMuted(t)})}get currentTime(){return b(this.$state.currentTime)}set currentTime(t){this.of(t)}jb(){this.of(this.$props.currentTime())}of(t){this.canPlayQueue.k("currentTime",()=>{const{currentTime:e,clipStartTime:s,seekableStart:i,seekableEnd:n}=this.$state;t!==b(e)&&b(()=>{if(!this.i)return;const r=Math.min(Math.max(i()+.1,t+s()),n()-.1);Number.isFinite(r)&&this.i.setCurrentTime(r)})})}get volume(){return b(this.$state.volume)}set volume(t){this.sn.volume.set(t)}Fd(){this.Vh(this.$props.volume())}Vh(t){const e=ss(0,t,1);this.canPlayQueue.k("volume",()=>{this.i&&this.i.setVolume(e)})}get playbackRate(){return b(this.$state.playbackRate)}set playbackRate(t){this.pf(t)}Sh(){this.pf(this.$props.playbackRate())}pf(t){this.canPlayQueue.k("rate",()=>{this.i&&this.i.setPlaybackRate?.(t)})}Vm(){this.Wm(this.$props.playsInline())}Wm(t){this.canPlayQueue.k("playsinline",()=>{this.i&&this.i.setPlaysInline?.(t)})}Tm(){let t=this.$props.storage(),e=C(t)?new vr:t;if(e?.onChange){const{source:s}=this.$state,i=C(t)?t:this.el?.id,n=j(this.Um.bind(this));h(()=>e.onChange(s(),n(),i))}this.a.storage=e,this.a.textTracks.setStorage(e),P(()=>{e?.onDestroy?.(),this.a.storage=null,this.a.textTracks.setStorage(null)})}Um(){const{clipStartTime:t,clipEndTime:e}=this.$props,{source:s}=this.$state,i=s();return i.src?`${i.src}:${t()}:${e()}`:null}async play(t){return this.Y.sc(t)}async pause(t){return this.Y.ud(t)}async enterFullscreen(t,e){return this.Y.Pt(t,e)}async exitFullscreen(t,e){return this.Y.af(t,e)}enterPictureInPicture(t){return this.Y.xd(t)}exitPictureInPicture(t){return this.Y.wd(t)}seekToLiveEdge(t){this.Y.Ze(t)}startLoading(t){this.a.delegate.c("can-load",void 0,t)}startLoadingPoster(t){this.a.delegate.c("can-load-poster",void 0,t)}requestAirPlay(t){return this.Y.ol(t)}requestGoogleCast(t){return this.Y.ul(t)}destroy(){this.a.remote.setPlayer(null),this.dispatch("destroy")}};A.props=Or,A.state=Zn,q([S],A.prototype,"canPlayQueue",2),q([S],A.prototype,"provider",1),q([S],A.prototype,"controls",1),q([S],A.prototype,"orientation",2),q([S],A.prototype,"title",1),q([S],A.prototype,"qualities",1),q([S],A.prototype,"audioTracks",1),q([S],A.prototype,"textTracks",1),q([S],A.prototype,"textRenderers",1),q([S],A.prototype,"duration",1),q([S],A.prototype,"paused",1),q([S],A.prototype,"muted",1),q([S],A.prototype,"currentTime",1),q([S],A.prototype,"volume",1),q([S],A.prototype,"playbackRate",1),q([R],A.prototype,"play",1),q([R],A.prototype,"pause",1),q([R],A.prototype,"enterFullscreen",1),q([R],A.prototype,"exitFullscreen",1),q([R],A.prototype,"enterPictureInPicture",1),q([R],A.prototype,"exitPictureInPicture",1),q([R],A.prototype,"seekToLiveEdge",1),q([R],A.prototype,"startLoading",1),q([R],A.prototype,"startLoadingPoster",1),q([R],A.prototype,"requestAirPlay",1),q([R],A.prototype,"requestGoogleCast",1);let zr=A;class Wr{constructor(){this.name="audio"}canPlay(t){return pi(t)?!C(t.src)||t.type==="?"||dr(this.target,t.type):!1}mediaType(){return"audio"}async load(t){return new(await import("./providers/vidstack-audio.js")).AudioProvider(this.target,t)}}class _i{constructor(){this.name="video"}canPlay(t){return mi(t)?!C(t.src)||t.type==="?"||ur(this.target,t.type):!1}mediaType(){return"video"}async load(t){return new(await import("./providers/vidstack-video.js")).VideoProvider(this.target,t)}}const qi=class Fn extends _i{constructor(){super(...arguments),this.name="hls"}canPlay(t){return Fn.supported&&gi(t)}async load(t){return new(await import("./providers/vidstack-hls.js")).HLSProvider(this.target,t)}};qi.supported=ui();let Xr=qi;class Yr{constructor(){this.name="vimeo"}preconnect(){const t=["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"];for(const e of t)Gt(e)}canPlay(t){return C(t.src)&&t.type==="video/vimeo"}mediaType(){return"video"}async load(t){return new(await import("./providers/vidstack-vimeo.js")).VimeoProvider(this.target,t)}async loadPoster(t,e,s){const{resolveVimeoVideoId:i,getVimeoVideoInfo:n}=await import("./chunks/vidstack-CkRBgWXZ.js");if(!C(t.src))return null;const{videoId:r}=i(t.src);return r?n(r,s).then(o=>o?o.poster:null):null}}class Jr{constructor(){this.name="youtube"}preconnect(){const t=["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];for(const e of t)Gt(e)}canPlay(t){return C(t.src)&&t.type==="video/youtube"}mediaType(){return"video"}async load(t){return new(await import("./providers/vidstack-youtube.js")).YouTubeProvider(this.target,t)}async loadPoster(t,e,s){const{findYouTubePoster:i,resolveYouTubeVideoId:n}=await import("./chunks/vidstack-BgqyPBzt.js"),r=C(t.src)&&n(t.src);return r?i(r,s):null}}function Oi(a,t){return fetch(a,t).then(e=>e.text()).then(e=>{const s=Zr(e);if(s)return Oi(/^https?:/.test(s)?s:new URL(s,a).href,t);const i=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(e)?"on-demand":"live";return i==="live"&&to(e)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(e)||e.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":i})}function Zr(a){const t=a.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return t?t[0].split(`
`)[1].trim():null}function to(a){const t=a.split(`
`);for(const e of t)if(e.startsWith("#EXT-X-TARGETDURATION")){const s=parseFloat(e.split(":")[1]);if(!isNaN(s))return s}return-1}const Ni=new Map;class eo{constructor(t,e,s,i=[]){this.xc=t,this.a=e,this.ha=s,this.Gd=!1;const n=new Xr,r=new _i,o=new Wr,l=new Jr,c=new Yr,d=[l,c];this.Hd=j(()=>{const p=e.$state.remotePlaybackLoader(),v=e.$props.preferNativeHLS()?[r,o,n,...d,...i]:[n,r,o,...d,...i];return p?[p,...v]:v});const{$state:g}=e;g.sources.set(Di(e.$props.src()));for(const p of g.sources()){const v=this.Hd().find(V=>V.canPlay(p));if(!v)continue;const M=v.mediaType(p);this.a.$state.source.set(p),this.a.$state.mediaType.set(M),this.a.$state.inferredViewType.set(M),this.ha.set(v),this.Gd=!0}}get c(){return this.a.delegate.c}connect(){const t=this.ha();this.Gd&&(this.qf(this.a.$state.source(),t),this.rf(t),this.Gd=!1),h(this.Xh.bind(this)),h(this.Yh.bind(this)),h(this.Zh.bind(this)),h(this.Lt.bind(this)),h(this.Ok.bind(this))}Xh(){this.c("sources-change",[...Di(this.a.$props.src()),...this.xc()])}Yh(){const{$state:t}=this.a,e=t.sources(),s=b(t.source),i=this.sf(s,e);if(e[0]?.src&&!i.src&&!i.type){const{crossOrigin:n}=t,r=Xe(n()),o=new AbortController;return Promise.all(e.map(l=>C(l.src)&&l.type==="?"?fetch(l.src,{method:"HEAD",credentials:r,signal:o.signal}).then(c=>(l.type=c.headers.get("content-type")||"??",Ni.set(l.src,l.type),l)).catch(()=>l):l)).then(l=>{o.signal.aborted||(this.sf(b(t.source),l),kt())}),()=>o.abort()}kt()}sf(t,e){let s={src:"",type:""},i=null,n=this.Hd();for(const r of e){const o=n.find(l=>l.canPlay(r));if(o){s=r,i=o;break}}return Ii(t,s)||this.qf(s,i),i!==b(this.ha)&&this.rf(i),s}qf(t,e){this.c("source-change",t),this.c("media-type-change",e?.mediaType(t)||"unknown")}rf(t){this.a.$providerSetup.set(!1),this.c("provider-change",null),t&&b(()=>t.preconnect?.(this.a)),this.ha.set(t),this.c("provider-loader-change",t)}Zh(){const t=this.a.$provider();if(!(!t||b(this.a.$providerSetup))){if(this.a.$state.canLoad()){ue(()=>t.setup(),t.scope),this.a.$providerSetup.set(!0);return}b(()=>t.preconnect?.())}}Lt(){if(!this.a.$providerSetup())return;const t=this.a.$provider(),e=this.a.$state.source(),s=b(this.a.$state.crossOrigin),i=b(this.a.$props.preferNativeHLS);if(!Ii(t?.currentSrc,e)){if(this.a.$state.canLoad()){const n=new AbortController;return gi(e)?(i||!ui())&&Oi(e.src,{credentials:Xe(s),signal:n.signal}).then(r=>{this.c("stream-type-change",r)}).catch(ei):this.c("stream-type-change","on-demand"),b(()=>{const r=b(this.a.$state.preload);return t?.loadSource(e,r).catch(o=>{})}),()=>n.abort()}try{C(e.src)&&Gt(new URL(e.src).origin)}catch{}}}Ok(){const t=this.ha(),{providedPoster:e,source:s,canLoadPoster:i}=this.a.$state;if(!t||!t.loadPoster||!s()||!i()||e())return;const n=new AbortController,r=new at("source-change",{detail:s});return t.loadPoster(s(),this.a,n).then(o=>{this.c("poster-change",o||"",r)}).catch(()=>{this.c("poster-change","",r)}),()=>{n.abort()}}}function Di(a){return(X(a)?a:[a&&!C(a)&&"src"in a?a:{src:a||""}]).map(({src:t,type:e,...s})=>({src:t,type:e??(C(t)?Ni.get(t):null)??(!C(t)||t.startsWith("blob:")?"video/object":t.includes("youtube")?"video/youtube":t.includes("vimeo")&&!t.includes("progressive_redirect")&&!t.includes(".m3u8")?"video/vimeo":"?"),...s})).sort(t=>t.type==="?"?1:-1)}function Ii(a,t){return a?.src===t?.src&&a?.type===t?.type}class so{constructor(t,e){this.yc=t,this.a=e,this.tf=[],h(this.$h.bind(this))}$h(){const t=this.yc();for(const e of this.tf)if(!t.some(s=>s.id===e.id)){const s=e.id&&this.a.textTracks.getById(e.id);s&&this.a.textTracks.remove(s)}for(const e of t){const s=e.id||We.createId(e);this.a.textTracks.getById(s)||(e.id=s,this.a.textTracks.add(e))}this.tf=t}}var io=Object.defineProperty,ao=Object.getOwnPropertyDescriptor,no=(a,t,e,s)=>{for(var i=s>1?void 0:s?ao(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&io(t,e,i),i};class ve extends x{constructor(){super(...arguments),this.xc=k([]),this.yc=k([]),this.ha=null,this.Id=-1}onSetup(){this.a=y(),this.uf=new eo(this.xc,this.a,this.$state.loader,this.$props.loaders())}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){this.uf.connect(),new so(this.yc,this.a);const e=new ResizeObserver(ft(this.O.bind(this)));e.observe(t);const s=new MutationObserver(this.vf.bind(this));s.observe(t,{attributes:!0,childList:!0}),this.O(),this.vf(),P(()=>{e.disconnect(),s.disconnect()})}load(t){window.cancelAnimationFrame(this.Id),this.Id=requestAnimationFrame(()=>this.ai(t)),P(()=>{window.cancelAnimationFrame(this.Id)})}ai(t){if(!this.scope)return;const e=this.$state.loader(),{$provider:s}=this.a;this.ha===e&&e?.target===t&&b(s)||(this.wf(),this.ha=e,e&&(e.target=t||null),!(!e||!t)&&e.load(this.a).then(i=>{this.scope&&b(this.$state.loader)===e&&this.a.delegate.c("provider-change",i)}))}onDestroy(){this.ha=null,this.wf()}wf(){this.a.delegate.c("provider-change",null)}O(){if(!this.el)return;const t=this.a.player,e=this.el.offsetWidth,s=this.el.offsetHeight;t&&(t.$state.mediaWidth.set(e),t.$state.mediaHeight.set(s),t.el&&(nt(t.el,"--media-width",e+"px"),nt(t.el,"--media-height",s+"px")))}vf(){const t=[],e=[],s=this.el.children;for(const i of s)i.hasAttribute("data-vds")||(i instanceof HTMLSourceElement?t.push({src:i.src,type:i.type}):i instanceof HTMLTrackElement&&e.push({id:i.id,src:i.src,kind:i.track.kind,language:i.srclang,label:i.label,default:i.default,type:i.getAttribute("data-type")}));this.xc.set(t),this.yc.set(e),kt()}}ve.props={loaders:[]},ve.state=new jt({loader:null}),no([R],ve.prototype,"load",1);class Ri extends x{onSetup(){this.a=y(),h(this.bi.bind(this))}onAttach(t){const{pictureInPicture:e,fullscreen:s}=this.a.$state;nt(t,"pointer-events","none"),_(t,"role","group"),this.setAttributes({"data-visible":this.xf.bind(this),"data-fullscreen":s,"data-pip":e}),h(()=>{this.dispatch("change",{detail:this.xf()})}),h(this.ci.bind(this)),h(()=>{const i=s();for(const n of["top","right","bottom","left"])nt(t,`padding-${n}`,i&&`env(safe-area-inset-${n})`)})}ci(){if(!this.el)return;const{$iosControls:t}=this.a,{controls:e}=this.a.$state,s=e()||t();$(this.el,"aria-hidden",s?"true":null),nt(this.el,"display",s?"none":null)}bi(){const{controls:t}=this.a.player,{hideDelay:e,hideOnMouseLeave:s}=this.$props;t.defaultDelay=e()===2e3?this.a.$props.controlsDelay():e(),t.hideOnMouseLeave=s()}xf(){const{controlsVisible:t}=this.a.$state;return t()}}Ri.props={hideDelay:2e3,hideOnMouseLeave:!1};class ro extends x{onAttach(t){t.style.pointerEvents||nt(t,"pointer-events","auto")}}class Vi extends ht{constructor(t){super(),this.j=t,this.Ac=-1,this.Bc=-1,this.Ia=null,h(this.di.bind(this))}onDestroy(){this.Ia?.(),this.Ia=null}di(){const t=this.j.C();if(!t){this.hide();return}const e=this.show.bind(this),s=this.hide.bind(this);this.j.zc(t,e,s)}show(t){this.nn(),window.cancelAnimationFrame(this.Bc),this.Bc=-1,this.Ia?.(),this.Ia=null,this.Ac=window.setTimeout(()=>{this.Ac=-1;const e=this.j.u();e&&e.style.removeProperty("display"),b(()=>this.j.B(!0,t))},this.j.yf?.()??0)}hide(t){this.nn(),b(()=>this.j.B(!1,t)),this.Bc=requestAnimationFrame(()=>{this.nn(),this.Bc=-1;const e=this.j.u();if(e){const s=()=>{e.style.display="none",this.Ia=null};if(sr(e)){this.Ia?.();const i=f(e,"animationend",s,{once:!0});this.Ia=i}else s()}})}nn(){window.clearTimeout(this.Ac),this.Ac=-1}}const qt=lt();let oo=0;class Fi extends x{constructor(){super(),this.ca=`media-tooltip-${++oo}`,this.C=k(null),this.u=k(null),new rt;const{showDelay:t}=this.$props;new Vi({C:this.C,u:this.u,yf:t,zc(e,s,i){f(e,"touchstart",n=>n.preventDefault(),{passive:!1}),h(()=>{be()&&f(e,"focus",s),f(e,"blur",i)}),f(e,"mouseenter",s),f(e,"mouseleave",i)},B:this.ei.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onSetup(){Y(qt,{C:this.C,u:this.u,Jd:this.Jd.bind(this),Kd:this.Kd.bind(this),Ld:this.Ld.bind(this),Md:this.Md.bind(this)})}Jd(t){this.C.set(t);let e=t.getAttribute("data-media-tooltip");e&&this.el?.setAttribute(`data-media-${e}-tooltip`,""),$(t,"data-describedby",this.ca)}Kd(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),this.C.set(null)}Ld(t){t.setAttribute("id",this.ca),t.style.display="none",_(t,"role","tooltip"),this.u.set(t)}Md(t){t.removeAttribute("id"),t.removeAttribute("role"),this.u.set(null)}ei(t){const e=this.C(),s=this.u();e&&$(e,"aria-describedby",t?this.ca:null);for(const i of[this.el,e,s])i&&$(i,"data-visible",t)}}Fi.props={showDelay:700};class lo extends x{constructor(){super(),new rt}onConnect(t){P(wt(()=>{if(!this.connectScope)return;this.Ja();const e=I(qt);P(()=>{const s=this.Cc();s&&e.Kd(s)})}))}Ja(){const t=this.Cc(),e=I(qt);t&&e.Jd(t)}Cc(){const t=this.el.firstElementChild;return t?.localName==="button"||t?.getAttribute("role")==="button"?t:this.el}}class Hi extends x{constructor(){super(),new rt;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){this.Ja(t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){this.Ja(t);const e=I(qt);P(()=>e.Md(t)),P(wt(()=>{this.connectScope&&h(this.Nd.bind(this))}))}Ja(t){I(qt).Ld(t)}Nd(){const{placement:t,offset:e,alignOffset:s}=this.$props;return ri(this.el,this.fi(),t(),{offsetVarName:"media-tooltip",xOffset:s(),yOffset:e()})}fi(){return I(qt).C()}}Hi.props={placement:"top center",offset:0,alignOffset:0};class B extends ht{constructor(t){super(),this.j=t,new rt,t.kb&&new _r(t.kb)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.j.n,"aria-pressed":this.gi.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){_(t,"tabindex","0"),_(t,"role","button"),_(t,"type","button")}onConnect(t){vt(t,this.hi.bind(this));for(const e of["click","touchstart"])this.listen(e,this.ii.bind(this))}gi(){return pe(this.j.n())}ji(t){Qn(this.j.n)&&this.j.n.set(e=>!e)}hi(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(this.j.v??this.ji).call(this,t)}ii(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}}B.props={disabled:!1};var ho=Object.defineProperty,co=Object.getOwnPropertyDescriptor,uo=(a,t,e,s)=>{for(var i=s>1?void 0:s?co(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&ho(t,e,i),i};class os extends x{constructor(){super(),this.zf=k(!1),new B({n:this.zf})}get pressed(){return this.zf()}}os.props={disabled:!1,defaultPressed:!1},uo([S],os.prototype,"pressed",1);function po(a){return a?"true":"false"}function z(a){return()=>po(a())}class Bi extends x{constructor(){super(),new B({n:this.n.bind(this),v:this.v.bind(this)})}onSetup(){this.a=y();const{canAirPlay:t,isAirPlayConnected:e}=this.a.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.ki.bind(this),"aria-hidden":z(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),yt(t,this.zl.bind(this))}v(t){this.a.remote.requestAirPlay(t)}n(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="airplay"&&e()!=="disconnected"}ki(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="airplay"&&e()}zl(){const{remotePlaybackState:t}=this.a.$state;return`AirPlay ${t()}`}}Bi.props=B.props;class Ki extends x{constructor(){super(),new B({n:this.n.bind(this),v:this.v.bind(this)})}onSetup(){this.a=y();const{canGoogleCast:t,isGoogleCastConnected:e}=this.a.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.ki.bind(this),"aria-hidden":z(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","google-cast"),yt(t,this.zl.bind(this))}v(t){this.a.remote.requestGoogleCast(t)}n(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="google-cast"&&e()!=="disconnected"}ki(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="google-cast"&&e()}zl(){const{remotePlaybackState:t}=this.a.$state;return`Google Cast ${t()}`}}Ki.props=B.props;class Qi extends x{constructor(){super(),new B({n:this.n.bind(this),kb:"togglePaused",v:this.v.bind(this)})}onSetup(){this.a=y();const{paused:t,ended:e}=this.a.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),yt(t,"Play")}v(t){const e=this.a.remote;this.n()?e.pause(t):e.play(t)}n(){const{paused:t}=this.a.$state;return!t()}}Qi.props=B.props;class Gi extends x{constructor(){super(),new B({n:this.n.bind(this),kb:"toggleCaptions",v:this.v.bind(this)})}onSetup(){this.a=y(),this.setAttributes({"data-active":this.n.bind(this),"data-supported":()=>!this.lb(),"aria-hidden":z(this.lb.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),yt(t,"Captions")}v(t){this.a.remote.toggleCaptions(t)}n(){const{textTrack:t}=this.a.$state,e=t();return!!e&&K(e)}lb(){const{hasCaptions:t}=this.a.$state;return!t()}}Gi.props=B.props;class Ui extends x{constructor(){super(),new B({n:this.n.bind(this),kb:"toggleFullscreen",v:this.v.bind(this)})}onSetup(){this.a=y();const{fullscreen:t}=this.a.$state,e=this.Nb.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":z(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),yt(t,"Fullscreen")}v(t){const e=this.a.remote,s=this.$props.target();this.n()?e.exitFullscreen(s,t):e.enterFullscreen(s,t)}n(){const{fullscreen:t}=this.a.$state;return t()}Nb(){const{canFullscreen:t}=this.a.$state;return t()}}Ui.props={...B.props,target:"prefer-media"};class zi extends x{constructor(){super(),new B({n:this.n.bind(this),kb:"toggleMuted",v:this.v.bind(this)})}onSetup(){this.a=y(),this.setAttributes({"data-muted":this.n.bind(this),"data-state":this.ki.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),yt(t,"Mute")}v(t){const e=this.a.remote;this.n()?e.unmute(t):e.mute(t)}n(){const{muted:t,volume:e}=this.a.$state;return t()||e()===0}ki(){const{muted:t,volume:e}=this.a.$state,s=e();if(t()||s===0)return"muted";if(s>=.5)return"high";if(s<.5)return"low"}}zi.props=B.props;class Wi extends x{constructor(){super(),new B({n:this.n.bind(this),kb:"togglePictureInPicture",v:this.v.bind(this)})}onSetup(){this.a=y();const{pictureInPicture:t}=this.a.$state,e=this.Nb.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":z(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),yt(t,"PiP")}v(t){const e=this.a.remote;this.n()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}n(){const{pictureInPicture:t}=this.a.$state;return t()}Nb(){const{canPictureInPicture:t}=this.a.$state;return t()}}Wi.props=B.props;class Xi extends x{constructor(){super(),new rt}onSetup(){this.a=y();const{seeking:t}=this.a.$state,{seconds:e}=this.$props,s=this.Nb.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":s,"aria-hidden":z(()=>!s())})}onAttach(t){_(t,"tabindex","0"),_(t,"role","button"),_(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),yt(t,this.zl.bind(this))}onConnect(t){vt(t,this.v.bind(this))}Nb(){const{canSeek:t}=this.a.$state;return t()}zl(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`}v(t){const{seconds:e,disabled:s}=this.$props;if(s())return;const{currentTime:i}=this.a.$state,n=i()+e();this.a.remote.seek(n,t)}}Xi.props={disabled:!1,seconds:30};class Yi extends x{constructor(){super(),new rt}onSetup(){this.a=y();const{disabled:t}=this.$props,{live:e,liveEdge:s}=this.a.$state,i=()=>!e();this.setAttributes({"data-edge":s,"data-hidden":i,"aria-disabled":z(()=>t()||s()),"aria-hidden":z(i)})}onAttach(t){_(t,"tabindex","0"),_(t,"role","button"),_(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){vt(t,this.v.bind(this))}v(t){const{disabled:e}=this.$props,{liveEdge:s}=this.a.$state;e()||s()||this.a.remote.seekToLiveEdge(t)}}Yi.props={disabled:!1};const ls=new jt({min:0,max:100,value:0,pointerValue:0,focused:!1,dragging:!1,pointing:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return Ji(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return Ji(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});function Ji(a,t,e){const s=t-a,i=e-a;return s>0?i/s:0}function mo(a,t,e,s){return ss(a,G(e,mr(s)),t)}function go(a,t,e,s){const i=ss(0,e,1),n=t-a,r=n*i,o=r/s,l=s*o;return a+l}const Zi={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class bo extends ht{constructor(t,e){super(),this.j=t,this.a=e,this.i=null,this.ua=null,this.mb=null,this.ti=Ut(s=>{this.va(this.Dc(s),s)},20,{leading:!0})}onConnect(){h(this.li.bind(this)),h(this.mi.bind(this)),this.j.ni&&h(this.xn.bind(this))}xn(){const{pointer:t}=this.a.$state;if(t()!=="coarse"||!this.j.ni()){this.i=null;return}this.i=this.a.player.el?.querySelector("media-provider,[data-media-provider]"),this.i&&(f(this.i,"touchstart",this.oi.bind(this),{passive:!0}),f(this.i,"touchmove",this.pi.bind(this),{passive:!1}))}oi(t){this.ua=t.touches[0]}pi(t){if(Kt(this.ua)||Je(t))return;const e=t.touches[0],s=e.clientX-this.ua.clientX,i=e.clientY-this.ua.clientY,n=this.$state.dragging();!n&&Math.abs(i)>5||n||(t.preventDefault(),Math.abs(s)>20&&(this.ua=e,this.mb=this.$state.value(),this.Od(this.mb,t)))}li(){this.j.K()||(this.listen("focus",this.Lb.bind(this)),this.listen("pointerenter",this.Cd.bind(this)),this.listen("pointermove",this.qi.bind(this)),this.listen("pointerleave",this.Dd.bind(this)),this.listen("pointerdown",this.ri.bind(this)),this.listen("keydown",this.Ab.bind(this)),this.listen("keyup",this.zb.bind(this)))}mi(){this.j.K()||!this.$state.dragging()||(f(document,"pointerup",this.si.bind(this)),f(document,"pointermove",this.ti.bind(this)),f(document,"touchmove",this.ui.bind(this),{passive:!1}))}Lb(){this.va(this.$state.value())}Pd(t,e){const{value:s,min:i,max:n,dragging:r}=this.$state,o=Math.max(i(),Math.min(t,n()));s.set(o);const l=this.createEvent("value-change",{detail:o,trigger:e});if(this.dispatch(l),this.j.o?.(l),r()){const c=this.createEvent("drag-value-change",{detail:o,trigger:e});this.dispatch(c),this.j.nb?.(c)}}va(t,e){const{pointerValue:s,dragging:i}=this.$state;s.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),i()&&this.Pd(t,e)}Dc(t){let e,s=this.el.getBoundingClientRect(),{min:i,max:n}=this.$state;if(this.$props.orientation()==="vertical"){const{bottom:r,height:o}=s;e=(r-t.clientY)/o}else if(this.ua&&bt(this.mb)){const{width:r}=this.i.getBoundingClientRect(),o=(t.clientX-this.ua.clientX)/r,l=n()-i(),c=l*Math.abs(o);e=(o<0?this.mb-c:this.mb+c)/l}else{const{left:r,width:o}=s;e=(t.clientX-r)/o}return Math.max(i(),Math.min(n(),this.j.Ob(go(i(),n(),e,this.j.Ka()))))}Cd(t){this.$state.pointing.set(!0)}qi(t){const{dragging:e}=this.$state;e()||this.va(this.Dc(t),t)}Dd(t){this.$state.pointing.set(!1)}ri(t){if(t.button!==0)return;const e=this.Dc(t);this.Od(e,t),this.va(e,t)}Od(t,e){const{dragging:s}=this.$state;if(s())return;s.set(!0),this.a.remote.pauseControls(e);const i=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(i),this.j.Qd?.(i)}Af(t,e){const{dragging:s}=this.$state;if(!s())return;s.set(!1),this.a.remote.resumeControls(e);const i=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(i),this.j.Ec?.(i),this.ua=null,this.mb=null}Ab(t){const{key:e}=t,{min:s,max:i}=this.$state;let n;if(e==="Home"||e==="PageUp"?n=s():e==="End"||e==="PageDown"?n=i():!t.metaKey&&/^[0-9]$/.test(e)&&(n=(i()-s())/10*Number(e)),!Qe(n)){this.va(n,t),this.Pd(n,t);return}const r=this.Bf(t);if(Qe(r))return;const o=e===this.Rd;!this.$state.dragging()&&o&&this.Od(r,t),this.va(r,t),o||this.Pd(r,t),this.Rd=e}zb(t){this.Rd="";const{dragging:e,value:s}=this.$state;if(!e())return;const i=this.Bf(t)??s();this.va(i),this.Af(i,t)}Bf(t){const{key:e,shiftKey:s}=t;if(!Object.keys(Zi).includes(e))return;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:i}=this.$props,{value:n,min:r,max:o}=this.$state,l=this.j.Ka(),c=this.j.Pb(),d=s?c*i():c,g=Number(Zi[e]),p=d*g,v=(n()+p)/l;return Math.max(r(),Math.min(o(),Number((l*v).toFixed(3))))}si(t){if(t.button!==0)return;const e=this.Dc(t);this.va(e,t),this.Af(e,t)}ui(t){t.preventDefault()}}const Wt=lt(()=>({})),hs=lt();class Pt extends ht{constructor(t){super(),this.j=t,this.xi=ft((e,s)=>{this.el?.style.setProperty("--slider-fill",e+"%"),this.el?.style.setProperty("--slider-pointer",s+"%")})}onSetup(){this.a=y();const t=new rt;t.attach(this),this.$state.focused=t.focused.bind(t),ct(Wt)||Y(Wt,{default:"value"}),Y(hs,{ta:this.$props.orientation,Fc:this.j.K,Cf:k(null)}),h(this.D.bind(this)),h(this.Qb.bind(this)),this.vi(),new bo(this.j,this.a).attach(this)}onAttach(t){_(t,"role","slider"),_(t,"tabindex","0"),_(t,"autocomplete","off"),h(this.Df.bind(this))}D(){const{dragging:t,value:e,min:s,max:i}=this.$state;b(t)||e.set(mo(s(),i(),e(),this.j.Ka()))}Qb(){if(!this.j.K())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}wi(){return pe(this.j.K())}vi(){const{orientation:t}=this.$props,{dragging:e,active:s,pointing:i}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":i,"data-active":s,"aria-disabled":this.wi.bind(this),"aria-valuemin":this.$state.min,"aria-valuemax":this.$state.max,"aria-valuenow":this.j.ia,"aria-valuetext":this.j.ja,"aria-orientation":t})}Df(){const{fillPercent:t,pointerPercent:e}=this.$state;this.xi(G(t(),3),G(e(),3))}}Pt.props={disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};class St extends x{constructor(){super(),new Pt({Ka:this.$props.step,Pb:this.$props.keyStep,Ob:Math.round,K:this.$props.disabled,ia:this.ia.bind(this),ja:this.ja.bind(this)})}onSetup(){h(this.D.bind(this)),h(this.yi.bind(this))}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const{value:t,max:e}=this.$state;return G(t()/e()*100,2)+"%"}D(){const{value:t}=this.$props;this.$state.value.set(t())}yi(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}}St.props={...Pt.props,min:0,max:100,value:0},St.state=ls;const pt=new Map,ye=new Map;class Xs{constructor(t,e,s){this.$src=t,this.$crossOrigin=e,this.a=s,this.$images=k([]),h(this.zi.bind(this))}static create(t,e){const s=y();return new Xs(t,e,s)}zi(){const{canLoad:t}=this.a.$state;if(!t())return;const e=this.$src(),s=new AbortController;if(e){if(C(e)&&pt.has(e)){const i=pt.get(e);if(pt.delete(e),pt.set(e,i),pt.size>30){const n=pt.keys().next().value;pt.delete(n)}this.$images.set(pt.get(e))}else if(C(e)){const i=this.$crossOrigin(),n=e+"::"+i;if(!ye.has(n)){const r=new Promise(async(o,l)=>{try{const c=await fetch(e,{signal:s.signal,credentials:Xe(i)});if(c.headers.get("content-type")==="application/json"){const d=await c.json();if(X(d))if(d[0]&&"text"in d[0])o(this.bl(d));else{for(let g=0;g<d.length;g++){const p=d[g];ut(Gn(p),!1),ut("url"in p&&C(p.url),!1),ut("startTime"in p&&bt(p.startTime),!1)}o(d)}else o(this.cl(d));return}import("https://cdn.jsdelivr.net/npm/media-captions@next/dist/prod.js").then(async({parseResponse:d})=>{try{const{cues:g}=await d(c);o(this.bl(g))}catch(g){l(g)}})}catch(c){l(c)}}).then(o=>(s.signal.aborted||pt.set(n,o),o)).catch(o=>{s.signal.aborted||this.U(e,o)}).finally(()=>{C(n)&&ye.delete(n)});ye.set(n,r)}ye.get(n)?.then(r=>{s.signal.aborted||this.$images.set(r||[])})}else if(X(e))try{this.$images.set(this.jl(e))}catch(i){this.U(e,i)}else try{this.$images.set(this.cl(e))}catch(i){this.U(e,i)}return()=>{s.abort(),this.$images.set([])}}}jl(t){const e=this.dl();return t.map((s,i)=>(ut(s.url&&C(s.url),!1),ut("startTime"in s&&bt(s.startTime),!1),{...s,url:C(s.url)?this.gl(s.url,e):s.url}))}cl(t){ut(C(t.url),!1),ut(X(t.tiles)&&t.tiles?.length,!1);const e=new URL(t.url),s=[],i="tile_width"in t?t.tile_width:t.tileWidth,n="tile_height"in t?t.tile_height:t.tileHeight;for(const r of t.tiles)s.push({url:e,startTime:"start"in r?r.start:r.startTime,width:i,height:n,coords:{x:r.x,y:r.y}});return s}bl(t){for(let i=0;i<t.length;i++){const n=t[i];ut("startTime"in n&&bt(n.startTime),!1),ut("text"in n&&C(n.text),!1)}const e=[],s=this.dl();for(const i of t){const[n,r]=i.text.split("#"),o=this.fl(r);e.push({url:this.gl(n,s),startTime:i.startTime,endTime:i.endTime,width:o?.w,height:o?.h,coords:o&&bt(o.x)&&bt(o.y)?{x:o.x,y:o.y}:void 0})}return e}dl(){let t=b(this.$src);return!C(t)||!/^https?:/.test(t)?location.href:t}gl(t,e){return/^https?:/.test(t)?new URL(t):new URL(t,e)}fl(t){if(!t)return{};const[e,s]=t.split("="),i=s?.split(","),n={};if(!e||!i)return null;for(let r=0;r<e.length;r++){const o=+i[r];isNaN(o)||(n[e[r]]=o)}return n}U(t,e){}}class cs extends x{constructor(){super(...arguments),this.Td=[]}onSetup(){this.a=y(),this.ha=Xs.create(this.$props.src,this.$state.crossOrigin),this.Hh(),this.setAttributes({"data-loading":this.Rb.bind(this),"data-error":this.wa.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":z(this.$state.hidden)})}onConnect(t){h(this.Ud.bind(this)),h(this.ob.bind(this)),h(this.Hh.bind(this)),h(this.Ea.bind(this)),h(this.il.bind(this)),h(this.Fi.bind(this))}Ud(){const t=this.$state.img();t&&(f(t,"load",this.qd.bind(this)),f(t,"error",this.U.bind(this)))}Hh(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s}=this.a.$state,i=t()!==null?t():s();e.set(i===!0?"anonymous":i)}Ea(){const{src:t,loading:e,error:s}=this.$state;return t()&&(e.set(!0),s.set(null)),()=>{this.Ci(),e.set(!1),s.set(null)}}qd(){const{loading:t,error:e}=this.$state;this.Fi(),t.set(!1),e.set(null)}U(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}Rb(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}wa(){const{error:t}=this.$state;return!Kt(t())}ob(){const{hidden:t}=this.$state,{duration:e}=this.a.$state,s=this.ha.$images();t.set(this.wa()||!Number.isFinite(e())||s.length===0)}Gf(){return this.$props.time()}il(){let t=this.ha.$images();if(!t.length)return;let e=this.Gf(),{src:s,activeThumbnail:i}=this.$state,n=-1,r=null;for(let o=t.length-1;o>=0;o--){const l=t[o];if(e>=l.startTime&&(!l.endTime||e<l.endTime)){n=o;break}}t[n]&&(r=t[n]),i.set(r),s.set(r?.url.href||"")}Fi(){if(!this.scope||this.$state.hidden())return;const t=this.el,e=this.$state.img(),s=this.$state.activeThumbnail();if(!e||!s||!t)return;let i=s.width??e.naturalWidth,n=s?.height??e.naturalHeight,{maxWidth:r,maxHeight:o,minWidth:l,minHeight:c,width:d,height:g}=getComputedStyle(this.el);l==="100%"&&(l=parseFloat(d)+""),c==="100%"&&(c=parseFloat(g)+"");let p=Math.max(parseInt(l)/i,parseInt(c)/n),v=Math.min(Math.max(parseInt(l),parseInt(r))/i,Math.max(parseInt(c),parseInt(o))/n),M=!isNaN(v)&&v<1?v:p>1?p:1;this.pb(t,"--thumbnail-width",`${i*M}px`),this.pb(t,"--thumbnail-height",`${n*M}px`),this.pb(e,"width",`${e.naturalWidth*M}px`),this.pb(e,"height",`${e.naturalHeight*M}px`),this.pb(e,"transform",s.coords?`translate(-${s.coords.x*M}px, -${s.coords.y*M}px)`:""),this.pb(e,"max-width","none")}pb(t,e,s){t.style.setProperty(e,s),this.Td.push(()=>t.style.removeProperty(e))}Ci(){for(const t of this.Td)t();this.Td=[]}}cs.props={src:null,time:0,crossOrigin:null},cs.state=new jt({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1});var fo=Object.defineProperty,vo=Object.getOwnPropertyDescriptor,yo=(a,t,e,s)=>{for(var i=s>1?void 0:s?vo(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&fo(t,e,i),i};class $e extends x{get video(){return this.$state.video()}onSetup(){this.a=y(),this.Q=Qt(St.state),this.Hh(),this.setAttributes({"data-loading":this.Rb.bind(this),"data-hidden":this.$state.hidden,"data-error":this.wa.bind(this),"aria-hidden":z(this.$state.hidden)})}onAttach(t){h(this.Gi.bind(this)),h(this.fd.bind(this)),h(this.Hh.bind(this)),h(this.ob.bind(this)),h(this.Hi.bind(this)),h(this.Ii.bind(this))}Gi(){const t=this.$state.video();t&&(t.readyState>=2&&this.hc(),f(t,"canplay",this.hc.bind(this)),f(t,"error",this.U.bind(this)))}fd(){const{src:t}=this.$state,{canLoad:e}=this.a.$state;t.set(e()?this.$props.src():null)}Hh(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s}=this.a.$state,i=t()!==null?t():s();e.set(i===!0?"anonymous":i)}Rb(){const{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}wa(){const{error:t}=this.$state;return!Kt(t)}ob(){const{src:t,hidden:e}=this.$state,{canLoad:s,duration:i}=this.a.$state;e.set(s()&&(!t()||this.wa()||!Number.isFinite(i())))}Hi(){const{src:t,canPlay:e,error:s}=this.$state;t(),e.set(!1),s.set(null)}hc(t){const{canPlay:e,error:s}=this.$state;e.set(!0),s.set(null),this.dispatch("can-play",{trigger:t})}U(t){const{canPlay:e,error:s}=this.$state;e.set(!1),s.set(t),this.dispatch("error",{trigger:t})}Ii(){const{video:t,canPlay:e}=this.$state,{duration:s}=this.a.$state,{pointerRate:i}=this.Q,n=t();e()&&n&&Number.isFinite(s())&&Number.isFinite(i())&&(n.currentTime=i()*s())}}$e.props={src:null,crossOrigin:null},$e.state=new jt({video:null,src:null,crossOrigin:null,canPlay:!1,error:null,hidden:!1}),yo([S],$e.prototype,"video",1);function ds(a,t){const e=String(a),s=e.length;if(s<t){const i=t-s;return`${"0".repeat(i)}${a}`}return e}function ta(a){const t=Math.trunc(a/3600),e=Math.trunc(a%3600/60),s=Math.trunc(a%60),i=Number((a-Math.trunc(a)).toPrecision(3));return{hours:t,minutes:e,seconds:s,fraction:i}}function ke(a,{padHrs:t=null,padMins:e=null,showHrs:s=!1,showMs:i=!1}={}){const{hours:n,minutes:r,seconds:o,fraction:l}=ta(a),c=t?ds(n,2):n,d=e||Kt(e)&&a>=3600?ds(r,2):r,g=ds(o,2),p=i&&l>0?`.${String(l).replace(/^0?\./,"")}`:"",v=`${d}:${g}${p}`;return n>0||s?`${c}:${v}`:v}function us(a){const t=[],{hours:e,minutes:s,seconds:i}=ta(a);return e>0&&t.push(`${e} hour`),s>0&&t.push(`${s} min`),(i>0||t.length===0)&&t.push(`${i} sec`),t.join(" ")}var $o=Object.defineProperty,ko=Object.getOwnPropertyDescriptor,wo=(a,t,e,s)=>{for(var i=s>1?void 0:s?ko(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&$o(t,e,i),i};class ps extends x{onSetup(){this.Q=Qt(St.state),this.Sb=I(Wt),this.Ji=j(this.getValueText.bind(this))}getValueText(){const{type:t,format:e,decimalPlaces:s,padHours:i,padMinutes:n,showHours:r,showMs:o}=this.$props,{value:l,pointerValue:c,min:d,max:g}=this.Q,p=e()??this.Sb.default,v=t()==="current"?l():c();if(p==="percent"){const M=g()-d(),V=v/M*100;return(this.Sb.percent??G)(V,s())+"\uFE6A"}else return p==="time"?(this.Sb.time??ke)(v,{padHrs:i(),padMins:n(),showHrs:r(),showMs:o()}):this.Sb.value?.(v)??v.toFixed(2)}}ps.props={type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2},wo([R],ps.prototype,"getValueText",1);class ea extends x{constructor(){super(...arguments),this.Hf=ft(()=>{const{Fc:t,ta:e}=this.Q;if(t())return;const s=this.el,{offset:i,noClamp:n}=this.$props;To(s,{clamp:!n(),offset:i(),orientation:e()})})}onSetup(){this.Q=I(hs);const{active:t}=Qt(St.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{Cf:e}=this.Q;e.set(t),P(()=>e.set(null)),h(this.Hf.bind(this));const s=new ResizeObserver(this.Hf.bind(this));s.observe(t),P(()=>s.disconnect())}}ea.props={offset:0,noClamp:!1};function To(a,{clamp:t,offset:e,orientation:s}){const i=getComputedStyle(a),n=parseFloat(i.width),r=parseFloat(i.height),o={top:null,right:null,bottom:null,left:null};if(o[s==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${e}px))`,s==="horizontal"){const l=n/2;if(!t)o.left=`calc(var(--slider-pointer) - ${l}px)`;else{const c=`max(0px, calc(var(--slider-pointer) - ${l}px))`,d=`calc(100% - ${n}px)`;o.left=`min(${c}, ${d})`}}else{const l=r/2;if(!t)o.bottom=`calc(var(--slider-pointer) - ${l}px)`;else{const c=`max(${l}px, calc(var(--slider-pointer) - ${l}px))`,d=`calc(100% - ${r}px)`;o.bottom=`min(${c}, ${d})`}}Object.assign(a.style,o)}class ms extends x{constructor(){super(...arguments),this.If=Ut(this.ab.bind(this),25)}onSetup(){this.a=y(),Y(Wt,{default:"percent"}),new Pt({Ka:this.$props.step,Pb:this.$props.keyStep,K:this.$props.disabled,Ob:Math.round,ia:this.ia.bind(this),ja:this.ja.bind(this),nb:this.nb.bind(this),o:this.o.bind(this)}).attach(this),h(this.Fd.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),_(t,"aria-label","Volume");const{canSetVolume:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":z(()=>!e())})}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const{value:t,max:e}=this.$state;return G(t()/e()*100,2)+"%"}Fd(){const{muted:t,volume:e}=this.a.$state,s=t()?0:e()*100;this.$state.value.set(s),this.dispatch("value-change",{detail:s})}ab(t){if(!t.trigger)return;const e=G(t.detail/100,3);this.a.remote.changeVolume(e,t)}o(t){this.If(t)}nb(t){this.If(t)}}ms.props={...Pt.props,keyStep:5,shiftKeyMultiplier:2},ms.state=ls;class we extends x{constructor(){super(),this.Jf=k(null),this.Wd=!1;const{noSwipeGesture:t}=this.$props;new Pt({ni:()=>!t(),Ka:this.Ka.bind(this),Pb:this.Pb.bind(this),K:this.K.bind(this),Ob:this.Ob,ia:this.ia.bind(this),ja:this.ja.bind(this),Qd:this.Qd.bind(this),nb:this.nb.bind(this),Ec:this.Ec.bind(this),o:this.o.bind(this)})}onSetup(){this.a=y(),Y(Wt,{default:"time",value:this.Ki.bind(this),time:this.Li.bind(this)}),this.setAttributes({"data-chapters":this.Mi.bind(this)}),this.setStyles({"--slider-progress":this.Ni.bind(this)}),h(this.jb.bind(this)),h(this.Oi.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),_(t,"aria-label","Seek")}onConnect(t){h(this.Pi.bind(this)),Ye(this.a.textTracks,"chapters",this.Jf.set)}Ni(){const{bufferedEnd:t,duration:e}=this.a.$state;return G(Math.min(t()/Math.max(e(),1),1)*100,3)+"%"}Mi(){const{duration:t}=this.a.$state;return this.Jf()?.cues.length&&Number.isFinite(t())&&t()>0}Oi(){this.Vd=Ut(this.qa.bind(this),this.$props.seekingRequestThrottle())}jb(){const{currentTime:t}=this.a.$state,{value:e,dragging:s}=this.$state,i=this.Qi(t());b(s)||(e.set(i),this.dispatch("value-change",{detail:i}))}Pi(){const t=this.a.player.el,{Cf:e}=I(hs);t&&e()&&$(t,"data-preview",this.$state.active())}qa(t,e){this.a.remote.seeking(t,e)}Ri(t,e,s){this.Vd.cancel();const{live:i}=this.a.$state;if(i()&&e>=99){this.a.remote.seekToLiveEdge(s);return}this.a.remote.seek(t,s)}Qd(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:s}=this.a.$state;this.Wd=!s(),this.a.remote.pause(t)}}nb(t){this.Vd(this.Tb(t.detail),t)}Ec(t){const e=t.detail;this.Ri(this.Tb(e),e,t);const{pauseWhileDragging:s}=this.$props;s()&&this.Wd&&(this.a.remote.play(t),this.Wd=!1)}o(t){const{dragging:e}=this.$state;e()||!t.trigger||this.Ec(t)}Ka(){const t=this.$props.step()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Pb(){const t=this.$props.keyStep()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Ob(t){return G(t,3)}K(){const{canSeek:t}=this.a.$state;return this.$props.disabled()||!t()}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const t=this.Tb(this.$state.value()),{duration:e}=this.a.$state;return Number.isFinite(t)?`${us(t)} out of ${us(e())}`:"live"}Tb(t){const{duration:e}=this.a.$state;return G(t/100*e(),5)}Qi(t){const{liveEdge:e,duration:s}=this.a.$state,i=Math.max(0,Math.min(1,e()?1:Math.min(t,s())/s()));return Number.isNaN(i)?0:Number.isFinite(i)?i*100:100}Ki(t){const e=this.Tb(t),{live:s,duration:i}=this.a.$state;return Number.isFinite(e)?(s()?e-i():e).toFixed(0):"LIVE"}Li(t,e){const s=this.Tb(t),{live:i,duration:n}=this.a.$state,r=i()?s-n():s;return Number.isFinite(s)?`${r<0?"-":""}${ke(Math.abs(r),e)}`:"LIVE"}}we.props={...Pt.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100},we.state=ls;var xo=Object.defineProperty,Po=Object.getOwnPropertyDescriptor,Te=(a,t,e,s)=>{for(var i=s>1?void 0:s?Po(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&xo(t,e,i),i};class Ot extends x{constructor(){super(...arguments),this.La=null,this.R=[],this.Gc=k(null),this.it=k([]),this.Ub=k(-1),this.Hc=k(-1),this.Zd=0,this.Xi=ft(t=>{let e,s=this.it(),{clipStartTime:i}=this.a.$state,n=i(),r=this.Hk(s);for(let o=this.Zd;o<this.R.length;o++)if(e=this.ae(s[o],t,n,r),this.R[o]?.style.setProperty("--chapter-progress",e+"%"),e<100){this.Zd=o;break}}),this.Yi=j(this.Zi.bind(this)),this.$i=is(()=>{const t=b(this.Gc);!this.scope||!t||!t.cues.length||(this.it.set(this.jt(t.cues)),this.Ub.set(0),this.Zd=0)},150,!0)}get cues(){return this.it()}get activeCue(){return this.it()[this.Ub()]||null}get activePointerCue(){return this.it()[this.Hc()]||null}onSetup(){this.a=y(),this.Xd=Qt(we.state)}onAttach(t){Ye(this.a.textTracks,"chapters",this.Kf.bind(this)),h(this.kt.bind(this))}onConnect(){P(()=>this.H.bind(this))}onDestroy(){this.Kf(null)}setRefs(t){if(this.R=t,this.Yd?.dispose(),this.R.length===1){const e=this.R[0];e.style.width="100%",e.style.setProperty("--chapter-fill","var(--slider-fill)"),e.style.setProperty("--chapter-progress","var(--slider-progress)")}else this.R.length>0&&ue(()=>this.Si(),this.Yd=Un())}Kf(t){b(this.Gc)!==t&&(this.H(),this.Gc.set(t))}H(){this.R=[],this.it.set([]),this.Ub.set(-1),this.Hc.set(-1),this.Zd=0,this.Yd?.dispose()}Si(){this.R.length&&(h(this.Ti.bind(this)),h(this.Ui.bind(this)),h(this.Vi.bind(this)),h(this.Wi.bind(this)))}Ti(){const t=this.it();if(!t.length)return;let e,{clipStartTime:s,clipEndTime:i}=this.a.$state,n=s(),r=i()||t[t.length-1].endTime,o=r-n,l=100;for(let c=0;c<t.length;c++)if(e=t[c],this.R[c]){const d=c===t.length-1?l:G((e.endTime-Math.max(n,e.startTime))/o*100,3);this.R[c].style.width=d+"%",l-=d}}Ui(){let{liveEdge:t,clipStartTime:e,duration:s}=this.a.$state,{fillPercent:i,value:n}=this.Xd,r=this.it(),o=t(),l=b(this.Ub),c=r[l],d=o?this.it.length-1:this.Lf(c&&c.startTime/s()*100<=b(n)?l:0,i());o||!c?this.$d(0,r.length,"100%"):d>l?this.$d(l,d,"100%"):d<l&&this.$d(d+1,l+1,"0%");const g=o?"100%":this.ae(r[d],i(),e(),this.Hk(r))+"%";this.Mf(this.R[d],g),this.Ub.set(d)}Vi(){let{pointing:t,pointerPercent:e}=this.Xd;if(!t()){this.Hc.set(-1);return}const s=this.Lf(0,e());this.Hc.set(s)}$d(t,e,s){for(let i=t;i<e;i++)this.Mf(this.R[i],s)}Mf(t,e){t&&t.style.setProperty("--chapter-fill",e)}Lf(t,e){let s=0,i=this.it();if(e===0)return 0;if(e===100)return i.length-1;let{clipStartTime:n}=this.a.$state,r=n(),o=this.Hk(i);for(let l=t;l<i.length;l++)if(s=this.ae(i[l],e,r,o),s>=0&&s<100)return l;return 0}Wi(){this.Xi(this.Yi())}Zi(){const{bufferedEnd:t,duration:e}=this.a.$state;return G(Math.min(t()/Math.max(e(),1),1),3)*100}Hk(t){const{clipEndTime:e}=this.a.$state,s=e();return s>0?s:t[t.length-1]?.endTime||0}ae(t,e,s,i){if(this.it().length===0)return 0;const n=i-s,r=Math.max(0,t.startTime-s),o=Math.min(i,t.endTime)-s,l=r/n,c=l*100,d=Math.min(1,l+(o-r)/n)*100;return Math.max(0,G(e>=d?100:(e-c)/(d-c)*100,3))}jt(t){let e=[],{clipStartTime:s,clipEndTime:i,duration:n}=this.a.$state,r=s(),o=i()||1/0;t=t.filter(d=>d.startTime<=o&&d.endTime>=r);const l=t[0];l&&l.startTime>r&&e.push(new window.VTTCue(r,l.startTime,""));for(let d=0;d<t.length-1;d++){const g=t[d],p=t[d+1];if(e.push(g),p){const v=p.startTime-g.endTime;v>0&&e.push(new window.VTTCue(g.endTime,g.endTime+v,""))}}const c=t[t.length-1];if(c){e.push(c);const d=n();d>=0&&d-c.endTime>1&&e.push(new window.VTTCue(c.endTime,n(),""))}return e}kt(){if(!this.scope)return;const{disabled:t}=this.$props;if(t()){this.it.set([]),this.Ub.set(0),this.Zd=0;return}const e=this.Gc();if(e){const s=this.$i.bind(this);s(),P(f(e,"add-cue",s)),P(f(e,"remove-cue",s)),h(this.Fk.bind(this))}return this.La=this.aj(),this.La&&h(this.bj.bind(this)),()=>{this.La&&(this.La.textContent="",this.La=null)}}Fk(){this.a.$state.duration(),this.$i()}bj(){const t=this.activePointerCue||this.activeCue;this.La&&(this.La.textContent=t?.text||"")}cj(){let t=this.el;for(;t&&t.getAttribute("role")!=="slider";)t=t.parentElement;return t}aj(){const t=this.cj();return t?t.querySelector('[data-part="chapter-title"]'):null}}Ot.props={disabled:!1},Te([S],Ot.prototype,"cues",1),Te([S],Ot.prototype,"activeCue",1),Te([S],Ot.prototype,"activePointerCue",1),Te([R],Ot.prototype,"setRefs",1);const H=lt(),So=["a[href]","[tabindex]","input","select","button"].map(a=>`${a}:not([aria-hidden='true'])`).join(","),sa=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class Co{constructor(t){this.j=t,this.ka=0,this.xa=null,this.da=[]}get r(){return this.da}Nf(t){return f(t,"focus",this.Lb.bind(this)),this.xa=t,P(()=>{this.xa=null}),this}zc(){this.xa&&(this.ea(),f(this.xa,"keyup",this.zb.bind(this)),f(this.xa,"keydown",this.Ab.bind(this)),P(()=>{this.ka=0,this.da=[]}))}ea(){this.ka=0,this.da=this.dj()}Of(t=this.Pf()){const e=this.da[t],s=this.j.ej();e&&s&&requestAnimationFrame(()=>{s.scrollTop=e.offsetTop-s.offsetHeight/2+e.offsetHeight/2})}qb(t){this.ka=t,this.da[t]?.focus(),this.Of(t)}Pf(){return this.da.findIndex(t=>t.getAttribute("aria-checked")==="true")}Lb(){this.ea(),setTimeout(()=>{const t=this.Pf();this.qb(t>=0?t:0)},100)}zb(t){sa.has(t.key)&&(t.stopPropagation(),t.preventDefault())}Ab(t){if(sa.has(t.key))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.j.fj(t);break;case"Tab":this.qb(this.be(t.shiftKey?-1:1));break;case"ArrowUp":this.qb(this.be(-1));break;case"ArrowDown":this.qb(this.be(1));break;case"Home":case"PageUp":this.qb(0);break;case"End":case"PageDown":this.qb(this.da.length-1);break}}be(t){let e=this.ka;do e=(e+t+this.da.length)%this.da.length;while(this.da[e]?.offsetParent===null);return e}dj(){if(!this.xa)return[];const t=this.xa.querySelectorAll(So),e=[],s=i=>i.getAttribute("role")==="menu";for(const i of t)i instanceof HTMLElement&&i.offsetParent!==null&&oi(this.xa,i,s)&&e.push(i);return e}}var Eo=Object.defineProperty,Mo=Object.getOwnPropertyDescriptor,Xt=(a,t,e,s)=>{for(var i=s>1?void 0:s?Mo(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Eo(t,e,i),i};let Ao=0;class Ct extends x{constructor(){super(),this.L=k(!1),this.Fc=k(!1),this.C=k(null),this.u=k(null),this.Qf=k(!1),this.Vb=new Set,this.Ic=null,this.rj=this.sj.bind(this),this.pj=this.tj.bind(this),this.qj=this.uj.bind(this),this.O=ft(()=>{const e=b(this.u);if(!e)return;let s=0,i=getComputedStyle(e),n=[...e.children];for(const r of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])s+=parseFloat(i[r])||0;for(const r of n)if(r instanceof HTMLElement&&r.style.display==="contents")n.push(...r.children);else if(r.nodeType===3)s+=parseFloat(getComputedStyle(r).fontSize);else if(r instanceof HTMLElement){const o=getComputedStyle(r);if(o.display==="none")continue;s+=r.offsetHeight+(parseFloat(o.marginTop)||0)+(parseFloat(o.marginBottom)||0)}nt(e,"--menu-height",s+"px")});const{showDelay:t}=this.$props;this.Jc=new Vi({C:this.C,u:this.u,yf:t,zc:(e,s,i)=>{vt(e,r=>{this.L()?i(r):s(r)});const n=this.gj();n&&vt(n,r=>{r.stopPropagation(),i(r)})},B:this.hj.bind(this)})}get triggerElement(){return this.C()}get contentElement(){return this.u()}get isSubmenu(){return!!this.ee}onSetup(){this.a=y();const t=++Ao;this.ce=`media-menu-${t}`,this.de=`media-menu-button-${t}`,this.rb=new Co({ej:this.ij.bind(this),fj:this.close.bind(this)}),ct(H)&&(this.ee=I(H)),this.setAttributes({"data-open":this.L,"data-submenu":this.isSubmenu,"data-disabled":this.K.bind(this)}),Y(H,{jj:this.C,L:this.L,Wb:k(""),Ma:this.Ma.bind(this),fe:this.fe.bind(this),ge:this.ge.bind(this),he:this.he.bind(this),ie:this.ie.bind(this),je:this.je.bind(this)})}onAttach(t){t.style.setProperty("display","contents"),this.rb.Nf(t)}onConnect(t){h(this.kj.bind(this)),this.isSubmenu&&this.ee?.je(this)}onDestroy(){this.C.set(null),this.u.set(null),this.Ic=null}kj(){const t=this.lj();this.isSubmenu||this.O(),this.Rf(t),t&&(h(()=>{const{height:e}=this.a.$state,s=this.u();s&&nt(s,"--player-height",e()+"px")}),this.rb.zc(),this.listen("pointerup",this.mj.bind(this)),f(window,"pointerup",this.nj.bind(this)))}fe(t){const e=t.el,s=this.isSubmenu,i=z(this.K.bind(this));_(e,"tabindex",s?"-1":"0"),_(e,"role",s?"menuitem":"button"),$(e,"id",this.de),$(e,"aria-haspopup","menu"),$(e,"aria-expanded","false"),$(e,"data-submenu",this.isSubmenu),this.isSubmenu||this.Sf(e),h(()=>{$(e,"data-open",this.L()),$(e,"aria-disabled",i())}),this.C.set(e),P(()=>{this.C.set(null)})}ge(t){const e=t.el;if(e.style.setProperty("display","none"),$(e,"id",this.ce),_(e,"role","menu"),_(e,"tabindex","-1"),$(e,"data-submenu",this.isSubmenu),this.u.set(e),P(()=>this.u.set(null)),h(()=>$(e,"data-open",this.L())),this.rb.Nf(e),this.Rf(!1),!this.isSubmenu){const s=this.Xm.bind(this);t.listen("transitionstart",s),t.listen("transitionend",s),t.listen("animationend",this.O),t.listen("vds-menu-resize",this.O)}}he(t){this.Ic=t}Sf(t){f(t,"click",e=>e.stopPropagation()),f(t,"pointerup",e=>e.stopPropagation())}Rf(t){const e=b(this.u);e&&$(e,"aria-hidden",pe(!t))}ie(t){this.Qf.set(t)}hj(t,e){if(e?.stopPropagation(),this.L()===t)return;if(this.K()){t&&this.Jc.hide(e);return}this.el?.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));const s=this.C(),i=this.u();if(s&&($(s,"aria-controls",t&&this.ce),$(s,"aria-expanded",pe(t))),i&&$(i,"aria-labelledby",t&&this.de),this.L.set(t),this.oj(e),kt(),Bt(e)){t?i?.focus():s?.focus();for(const n of[this.el,i])n&&n.setAttribute("data-keyboard","")}else for(const n of[this.el,i])n&&n.removeAttribute("data-keyboard");this.dispatch(t?"open":"close",{trigger:e}),t?(!this.isSubmenu&&this.a.activeMenu!==this&&(this.a.activeMenu?.close(e),this.a.activeMenu=this),this.Ic?.ke?.(e)):(this.isSubmenu?setTimeout(()=>{for(const n of this.Vb)n.close(e)},300):this.a.activeMenu=null,this.Ic?.Tj?.(e)),t&&!Bt(e)&&requestAnimationFrame(()=>{this.rb.ea(),setTimeout(()=>{this.rb.Of()},100)})}lj(){return!this.K()&&this.L()}K(){return this.Fc()||this.Qf()}Ma(t){this.Fc.set(t)}mj(t){t.stopPropagation()}nj(t){if(!(!(t.target instanceof Node)||this.u()?.contains(t.target))){if(this.isSubmenu)return setTimeout(this.close.bind(this,t),800);this.close(t)}}gj(){const t=this.el?.querySelector('[data-part="close-target"]');return this.el&&t&&oi(this.el,t,e=>e.getAttribute("role")==="menu")?t:null}ij(){if(this.isSubmenu){let t=this.el;for(;t&&t.tagName!=="media-menu"&&t.hasAttribute("data-submenu");)t=t.parentNode;return t}else return b(this.u)||null}oj(t){this.isSubmenu||(this.L()?this.a.remote.pauseControls(t):this.a.remote.resumeControls(t))}je(t){this.Vb.add(t),f(t,"open",this.pj),f(t,"close",this.qj),P(this.rj)}sj(t){this.Vb.delete(t)}tj(t){this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","true");for(const e of this.Vb)if(e!==t.target)for(const s of[e.el,e.triggerElement])s?.setAttribute("aria-hidden","true")}uj(){this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","false");for(const t of this.Vb)for(const e of[t.el,t.triggerElement])e?.setAttribute("aria-hidden","false")}Xm(t){const e=this.u();if(e&&t.propertyName==="height"){const s=t.type==="transitionstart";$(e,"data-resizing",s)}}open(t){b(this.L)||(this.Jc.show(t),kt())}close(t){b(this.L)&&(this.Jc.hide(t),kt())}}Ct.props={showDelay:0},Xt([S],Ct.prototype,"triggerElement",1),Xt([S],Ct.prototype,"contentElement",1),Xt([S],Ct.prototype,"isSubmenu",1),Xt([R],Ct.prototype,"open",1),Xt([R],Ct.prototype,"close",1);var Lo=Object.defineProperty,jo=Object.getOwnPropertyDescriptor,_o=(a,t,e,s)=>{for(var i=s>1?void 0:s?jo(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Lo(t,e,i),i};class xe extends x{constructor(){super(),this.zn=k(null),new rt}get expanded(){return this.l?.L()??!1}onSetup(){this.l=I(H)}onAttach(t){this.l.fe(this),h(this.Qb.bind(this)),_(t,"type","button")}onConnect(t){h(this.An.bind(this)),this.vf();const e=new MutationObserver(this.vf.bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),P(()=>e.disconnect()),vt(t,s=>{this.dispatch("select",{trigger:s})})}Qb(){this.l.ie(this.$props.disabled())}An(){const t=this.zn();t&&h(()=>{const e=this.l.Wb();e&&(t.textContent=e)})}vf(){const t=this.el?.querySelector('[data-part="hint"]');this.zn.set(t??null)}}xe.props={disabled:!1},_o([S],xe.prototype,"expanded",1);class qo extends xe{}class ia extends x{constructor(){super(...arguments),this.A=null}onSetup(){this.a=y(),Y(Pe,{Ja:this.vj.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){this.A?.remove(),this.A=null}vj(t){this.Tf(!1),this.A=t,wt(()=>{wt(()=>{this.connectScope&&h(this.Qb.bind(this))})})}Qb(){const{fullscreen:t}=this.a.$state,{disabled:e}=this.$props,s=e();this.Tf(s==="fullscreen"?!t():!s)}Tf(t){if(!this.A)return;let e=this.wj(this.$props.container());if(!e)return;const s=this.A.parentElement===e;$(this.A,"data-portal",t),t?s||(this.A.remove(),e.append(this.A)):s&&this.A.parentElement===e&&(this.A.remove(),this.el?.append(this.A))}wj(t){return t instanceof HTMLElement?t:t?document.querySelector(t):document.body}}ia.props={container:null,disabled:!1};const Pe=lt();class aa extends x{constructor(){super(),new rt;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(this.l=I(H),this.l.ge(this),ct(Pe)){const e=I(Pe);e&&(Y(Pe,null),e.Ja(t),P(()=>e.Ja(null)))}}onConnect(t){h(this.Nd.bind(this))}Nd(){if(!this.el)return;const t=this.$props.placement();if(t){Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:e,alignOffset:s}=this.$props;return ri(this.el,this.Cc(),t,{offsetVarName:"media-menu",xOffset:s(),yOffset:e()})}else this.el.removeAttribute("style"),this.el.style.display="none"}Cc(){return this.l.jj()}}aa.props={placement:null,offset:0,alignOffset:0};const gs=lt();class Nt extends ht{constructor(){super(...arguments),this.sb=new Set,this.la=k(""),this.d=null,this.Aj=this.B.bind(this)}get xj(){return Array.from(this.sb).map(t=>t.la())}get value(){return this.la()}set value(t){this.B(t)}onSetup(){Y(gs,{add:this.yj.bind(this),remove:this.zj.bind(this)})}onAttach(t){ct(H)||_(t,"role","radiogroup"),this.setAttributes({value:this.la})}onDestroy(){this.sb.clear()}yj(t){this.sb.has(t)||(this.sb.add(t),t.Kc=this.Aj,t.Xb(t.la()===this.la()))}zj(t){t.Kc=null,this.sb.delete(t)}B(t,e){const s=b(this.la);if(!t||t===s)return;const i=this.Uf(s),n=this.Uf(t);i?.Xb(!1,e),n?.Xb(!0,e),this.la.set(t),this.o?.(t,e)}Uf(t){for(const e of this.sb)if(t===b(e.la))return e;return null}}var Oo=Object.defineProperty,No=Object.getOwnPropertyDescriptor,na=(a,t,e,s)=>{for(var i=s>1?void 0:s?No(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Oo(t,e,i),i};class Se extends x{get values(){return this.d.xj}get value(){return this.d.value}set value(t){this.d.value=t}constructor(){super(),this.d=new Nt,this.d.o=this.o.bind(this)}onSetup(){h(this.D.bind(this))}D(){this.d.value=this.$props.value()}o(t,e){const s=this.createEvent("change",{detail:t,trigger:e});this.dispatch(s)}}Se.props={value:""},na([S],Se.prototype,"values",1),na([S],Se.prototype,"value",1);var Do=Object.defineProperty,Io=Object.getOwnPropertyDescriptor,Ro=(a,t,e,s)=>{for(var i=s>1?void 0:s?Io(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Do(t,e,i),i};class bs extends x{constructor(){super(),this.Na=k(!1),this.d={la:this.$props.value,Xb:this.Xb.bind(this),Kc:null},new rt}get checked(){return this.Na()}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.Na,"aria-checked":z(this.Na)})}onAttach(t){const e=ct(H);_(t,"tabindex",e?"-1":"0"),_(t,"role",e?"menuitemradio":"radio"),h(this.D.bind(this))}onConnect(t){this.Bj(),vt(t,this.v.bind(this)),P(this.ya.bind(this))}ya(){ue(()=>{I(gs).remove(this.d)},this.connectScope)}Bj(){I(gs).add(this.d)}D(){const{value:t}=this.$props,e=t();b(this.Na)&&this.d.Kc?.(e)}v(t){b(this.Na)||(this.B(!0,t),this.Cj(t),this.d.Kc?.(b(this.$props.value),t))}Xb(t,e){b(this.Na)!==t&&this.B(t,e)}B(t,e){this.Na.set(t),this.dispatch("change",{detail:t,trigger:e})}Cj(t){this.dispatch("select",{trigger:t})}}bs.props={value:""},Ro([S],bs.prototype,"checked",1);var Vo=Object.defineProperty,Fo=Object.getOwnPropertyDescriptor,fs=(a,t,e,s)=>{for(var i=s>1?void 0:s?Fo(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Vo(t,e,i),i};class Yt extends x{constructor(){super(),this.ka=k(0),this.z=k(null),this.J=k([]),this.d=new Nt,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){return!this.J()?.length}onSetup(){this.a=y(),ct(H)&&(this.l=I(H));const{thumbnails:t}=this.$props;this.setAttributes({"data-thumbnails":()=>!!t()})}onAttach(t){this.l?.he({ke:this.ke.bind(this)})}getOptions(){const{clipStartTime:t,clipEndTime:e}=this.a.$state,s=t(),i=e()||1/0;return this.J().map((n,r)=>({cue:n,value:r.toString(),label:n.text,startTime:ke(Math.max(0,n.startTime-s)),duration:us(Math.min(i,n.endTime)-Math.max(s,n.startTime))}))}ke(){b(()=>this.jb())}onConnect(t){h(this.D.bind(this)),h(this.jb.bind(this)),h(this.ma.bind(this)),h(this.tk.bind(this)),Ye(this.a.textTracks,"chapters",this.z.set)}tk(){const t=this.z();if(!t)return;const e=this.$i.bind(this,t);return e(),f(t,"add-cue",e),f(t,"remove-cue",e),()=>{this.J.set([])}}$i(t){const{clipStartTime:e,clipEndTime:s}=this.a.$state,i=e(),n=s()||1/0;this.J.set([...t.cues].filter(r=>r.startTime<=n&&r.endTime>=i))}D(){this.d.value=this.na()}jb(){if(!this.l?.L())return;if(!this.z()){this.ka.set(-1);return}const{realCurrentTime:t,clipStartTime:e,clipEndTime:s}=this.a.$state,i=e(),n=s()||1/0,r=t(),o=this.J().findIndex(l=>tr(l,r));if(this.ka.set(o),o>=0){const l=this.J()[o],c=this.el.querySelector("[aria-checked='true']"),d=Math.max(i,l.startTime),g=Math.min(n,l.endTime)-d,p=Math.max(0,r-d)/g*100;c&&nt(c,"--progress",G(p,3)+"%")}}ma(){this.l?.Ma(this.disabled)}na(){return this.ka().toString()}o(t,e){if(this.disabled||!e)return;const s=+t,i=this.J(),{clipStartTime:n}=this.a.$state;bt(s)&&i?.[s]&&(this.ka.set(s),this.a.remote.seek(i[s].startTime-n(),e),this.dispatch("change",{detail:i[s],trigger:e}))}}Yt.props={thumbnails:null},fs([S],Yt.prototype,"value",1),fs([S],Yt.prototype,"disabled",1),fs([R],Yt.prototype,"getOptions",1);var Ho=Object.defineProperty,Bo=Object.getOwnPropertyDescriptor,vs=(a,t,e,s)=>{for(var i=s>1?void 0:s?Bo(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Ho(t,e,i),i};class Jt extends x{get value(){return this.d.value}get disabled(){const{audioTracks:t}=this.a.$state;return t().length<=1}constructor(){super(),this.d=new Nt,this.d.o=this.o.bind(this)}onSetup(){this.a=y(),ct(H)&&(this.l=I(H))}onConnect(t){h(this.D.bind(this)),h(this.ma.bind(this)),h(this.Oa.bind(this))}getOptions(){const{audioTracks:t}=this.a.$state;return t().map(e=>({track:e,label:e.label,value:e.label.toLowerCase()}))}D(){this.d.value=this.na()}Oa(){const{emptyLabel:t}=this.$props,{audioTrack:e}=this.a.$state,s=e();this.l?.Wb.set(s?.label??t())}ma(){this.l?.Ma(this.disabled)}na(){const{audioTrack:t}=this.a.$state,e=t();return e?e.label.toLowerCase():""}o(t,e){if(this.disabled)return;const s=this.a.audioTracks.toArray().findIndex(i=>i.label.toLowerCase()===t);if(s>=0){const i=this.a.audioTracks[s];this.a.remote.changeAudioTrack(s,e),this.dispatch("change",{detail:i,trigger:e})}}}Jt.props={emptyLabel:"Default"},vs([S],Jt.prototype,"value",1),vs([S],Jt.prototype,"disabled",1),vs([R],Jt.prototype,"getOptions",1);var Ko=Object.defineProperty,Qo=Object.getOwnPropertyDescriptor,ys=(a,t,e,s)=>{for(var i=s>1?void 0:s?Qo(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Ko(t,e,i),i};class Zt extends x{get value(){return this.d.value}get disabled(){const{hasCaptions:t}=this.a.$state;return!t()}constructor(){super(),this.d=new Nt,this.d.o=this.o.bind(this)}onSetup(){this.a=y(),ct(H)&&(this.l=I(H))}onConnect(t){super.onConnect?.(t),h(this.D.bind(this)),h(this.ma.bind(this)),h(this.Oa.bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=this.a.$state;return[{value:"off",label:t},...e().filter(K).map(s=>({track:s,label:s.label,value:this.xk(s)}))]}D(){this.d.value=this.na()}Oa(){const{offLabel:t}=this.$props,{textTrack:e}=this.a.$state,s=e();this.l?.Wb.set(s&&K(s)&&s.mode==="showing"?s.label:t())}ma(){this.l?.Ma(this.disabled)}na(){const{textTrack:t}=this.a.$state,e=t();return e&&K(e)&&e.mode==="showing"?this.xk(e):"off"}o(t,e){if(this.disabled)return;if(t==="off"){const i=this.a.textTracks.selected;if(i){const n=this.a.textTracks.toArray().indexOf(i);this.a.remote.changeTextTrackMode(n,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const s=this.a.textTracks.toArray().findIndex(i=>this.xk(i)===t);if(s>=0){const i=this.a.textTracks[s];this.a.remote.changeTextTrackMode(s,"showing",e),this.dispatch("change",{detail:i,trigger:e})}}xk(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()}}Zt.props={offLabel:"Off"},ys([S],Zt.prototype,"value",1),ys([S],Zt.prototype,"disabled",1),ys([R],Zt.prototype,"getOptions",1);var Go=Object.defineProperty,Uo=Object.getOwnPropertyDescriptor,$s=(a,t,e,s)=>{for(var i=s>1?void 0:s?Uo(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Go(t,e,i),i};const ra=[.25,.5,.75,1,1.25,1.5,1.75,2];class te extends x{get value(){return this.d.value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return!e()||t().length===0}constructor(){super(),this.d=new Nt,this.d.o=this.o.bind(this)}onSetup(){this.a=y(),ct(H)&&(this.l=I(H))}onConnect(t){h(this.D.bind(this)),h(this.Oa.bind(this)),h(this.ma.bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map(s=>({label:s===1?e:s+"\xD7",value:s.toString()}))}D(){this.d.value=this.na()}Oa(){const{normalLabel:t}=this.$props,{playbackRate:e}=this.a.$state,s=e();this.l?.Wb.set(s===1?t():s+"\xD7")}ma(){this.l?.Ma(this.disabled)}na(){const{playbackRate:t}=this.a.$state;return t().toString()}o(t,e){if(this.disabled)return;const s=+t;this.a.remote.changePlaybackRate(s,e),this.dispatch("change",{detail:s,trigger:e})}}te.props={normalLabel:"Normal",rates:ra},$s([S],te.prototype,"value",1),$s([S],te.prototype,"disabled",1),$s([R],te.prototype,"getOptions",1);var zo=Object.defineProperty,Wo=Object.getOwnPropertyDescriptor,ks=(a,t,e,s)=>{for(var i=s>1?void 0:s?Wo(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&zo(t,e,i),i};class ee extends x{constructor(){super(),this.Dj=j(()=>{const{qualities:t}=this.a.$state;return[...t()].sort((e,s)=>s.height===e.height?s.bitrate-e.bitrate:s.height-e.height)}),this.d=new Nt,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{canSetQuality:t,qualities:e}=this.a.$state;return!t()||e().length===0}onSetup(){this.a=y(),ct(H)&&(this.l=I(H))}onConnect(t){h(this.D.bind(this)),h(this.ma.bind(this)),h(this.Oa.bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.Dj().map(s=>{const i=s.bitrate>=0?`${G(s.bitrate/1e6,2)} Mbps`:null;return{quality:s,label:s.height+"p",value:this.le(s),bitrate:()=>e()?null:i}})]}D(){this.d.value=this.na()}Oa(){const{autoLabel:t}=this.$props,{autoQuality:e,quality:s}=this.a.$state,i=s()?s().height+"p":"";this.l?.Wb.set(e()?t()+(i?` (${i})`:""):i)}ma(){this.l?.Ma(this.disabled)}o(t,e){if(this.disabled)return;if(t==="auto"){this.a.remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}const{qualities:s}=this.a.$state,i=b(s).findIndex(n=>this.le(n)===t);if(i>=0){const n=b(s)[i];this.a.remote.changeQuality(i,e),this.dispatch("change",{detail:n,trigger:e})}}na(){const{quality:t,autoQuality:e}=this.a.$state;if(e())return"auto";const s=t();return s?this.le(s):"auto"}le(t){return t.height+"_"+t.bitrate}}ee.props={autoLabel:"Auto",hideBitrate:!1},ks([S],ee.prototype,"value",1),ks([S],ee.prototype,"disabled",1),ks([R],ee.prototype,"getOptions",1);class oa extends x{constructor(){super(...arguments),this.i=null,this.Pa=0,this.Vf=-1}onSetup(){this.a=y();const{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){this.i=this.a.player.el?.querySelector("[data-media-provider]"),h(this.Ej.bind(this))}Ej(){let t=this.$props.event(),e=this.$props.disabled();!this.i||!t||e||(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),(t==="pointerup"||t==="pointerdown")&&this.a.$state.pointer()==="coarse"&&(t=t==="pointerup"?"touchend":"touchstart"),f(this.i,t,this.Fj.bind(this),{passive:!1}))}Fj(t){if(!(this.$props.disabled()||si(t)&&(t.button!==0||this.a.activeMenu)||Ue(t)&&this.a.activeMenu||Je(t)||!this.Gj(t))){if(t.MEDIA_GESTURE=!0,t.preventDefault(),!b(this.$props.event)?.startsWith("dbl"))this.Pa===0&&setTimeout(()=>{this.Pa===1&&this.Wf(t)},250);else if(this.Pa===1){queueMicrotask(()=>this.Wf(t)),clearTimeout(this.Vf),this.Pa=0;return}this.Pa===0&&(this.Vf=window.setTimeout(()=>{this.Pa=0},275)),this.Pa++}}Wf(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{this.Hj()&&this.Ij(b(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}Gj(t){if(!this.el)return!1;if(si(t)||zn(t)||Ue(t)){const e=Ue(t)?t.changedTouches[0]??t.touches[0]:void 0,s=e?.clientX??t.clientX,i=e?.clientY??t.clientY,n=this.el.getBoundingClientRect(),r=i>=n.top&&i<=n.bottom&&s>=n.left&&s<=n.right;return t.type.includes("leave")?!r:r}return!0}Hj(){const t=this.a.player.el.querySelectorAll("[data-media-gesture][data-triggered]");return Array.from(t).sort((e,s)=>+getComputedStyle(s).zIndex-+getComputedStyle(e).zIndex)[0]===this.el}Ij(t,e){if(!t)return;const s=new at("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(s),s.defaultPrevented)return;const[i,n]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?this.a.remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?this.a.remote.seek(b(this.a.$state.currentTime)+(+n||0),e):this.a.remote[Wn(i)](e),this.dispatch("trigger",{detail:t,trigger:e})}}oa.props={disabled:!1,event:void 0,action:void 0};class Xo{constructor(t){this.S=t,this.priority=10,this.z=null,this.sa=ii()}attach(){}canRender(){return!0}detach(){this.sa.empty(),this.S.reset(),this.z=null}changeTrack(t){!t||this.z===t||(this.sa.empty(),t.readyState<2?(this.S.reset(),this.sa.add(f(t,"load",()=>this.Xf(t),{once:!0}))):this.Xf(t),this.sa.add(f(t,"add-cue",e=>{this.S.addCue(e.detail)}),f(t,"remove-cue",e=>{this.S.removeCue(e.detail)})),this.z=t)}Xf(t){this.S.changeTrack({cues:[...t.cues],regions:[...t.regions]})}}class la extends x{onSetup(){this.a=y(),this.setAttributes({"aria-hidden":z(this.lb.bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){if(this.S){h(this.Yf.bind(this));return}import("https://cdn.jsdelivr.net/npm/media-captions@next/dist/prod.js").then(e=>{this.connectScope&&ue(()=>{this.W=e;const{CaptionsRenderer:s}=this.W;this.S=new s(t),this.Qa=new Xo(this.S),h(this.Yf.bind(this))},this.connectScope)})}onDestroy(){this.Qa&&(this.Qa.detach(),this.a.textRenderers.remove(this.Qa)),this.S?.destroy()}lb(){const{textTrack:t,remotePlaybackState:e}=this.a.$state,s=t();return this.a.$iosControls()||e()==="connected"||!s||!K(s)}Yf(){const{viewType:t}=this.a.$state;return t()==="audio"?this.Jj():this.Kj()}Jj(){return h(this.kt.bind(this)),()=>{this.el.textContent=""}}kt(){if(this.lb())return;const{textTrack:t}=this.a.$state;this.Zf(),f(t(),"cue-change",this.Zf.bind(this)),h(this.Lj.bind(this))}Zf(){this.el.textContent="";const{realCurrentTime:t,textTrack:e}=this.a.$state,s=b(t),i=b(e).activeCues,{renderVTTCueString:n}=this.W;for(const r of i){const o=document.createElement("div");o.setAttribute("data-part","cue"),o.innerHTML=n(r,s),this.el.append(o)}}Lj(){const{realCurrentTime:t}=this.a.$state,{updateTimedVTTCueNodes:e}=this.W;e(this.el,t())}Kj(){return h(this.Mj.bind(this)),h(this.Nj.bind(this)),this.a.textRenderers.add(this.Qa),()=>{this.el.textContent="",this.Qa.detach(),this.a.textRenderers.remove(this.Qa)}}Mj(){this.S.dir=this.$props.textDir()}Nj(){if(this.lb())return;const{realCurrentTime:t}=this.a.$state;this.S.currentTime=t()}}la.props={textDir:"ltr"};class ws extends x{constructor(){super(...arguments),this.wn=""}onSetup(){this.a=y(),this.fd(),this.$k(),this.Hh(),this.ob()}onAttach(t){t.style.setProperty("pointer-events","none"),h(this.Ud.bind(this)),h(this.fd.bind(this)),h(this.$k.bind(this)),h(this.Hh.bind(this)),h(this.ob.bind(this));const{started:e}=this.a.$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":this.Rb.bind(this),"data-error":this.wa.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){h(this.Pk.bind(this)),h(this.Ea.bind(this))}wa(){const{error:t}=this.$state;return!Kt(t())}Pk(){const{canLoadPoster:t,poster:e}=this.a.$state;!t()&&e()&&Gt(e(),"preconnect")}ob(){const{src:t}=this.$props,{$iosControls:e}=this.a,{poster:s}=this.a.$state;this.el&&$(this.el,"display",e()?"none":null),this.$state.hidden.set(this.wa()||!(t()||s())||e())}Rb(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}Ud(){const t=this.$state.img();t&&(f(t,"load",this.lc.bind(this)),f(t,"error",this.U.bind(this)))}fd(){const{poster:t}=this.a.$props,{canLoadPoster:e,providedPoster:s,inferredPoster:i}=this.a.$state,n=this.$props.src()||"",r=n||t()||i();this.wn===s()&&s.set(n),this.$state.src.set(e()&&r.length?r:null),this.wn=n}$k(){const{src:t}=this.$props,{alt:e}=this.$state,{poster:s}=this.a.$state;e.set(t()||s()?this.$props.alt():null)}Hh(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s,poster:i}=this.a.$state,n=t()!==null?t():s();e.set(/ytimg\.com|vimeo/.test(i()||"")?null:n===!0?"anonymous":n)}Ea(){const{loading:t,error:e}=this.$state,{canLoadPoster:s,poster:i}=this.a.$state;t.set(s()&&!!i()),e.set(null)}lc(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}U(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}}ws.props={src:null,alt:null,crossOrigin:null},ws.state=new jt({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});class Ts extends x{constructor(){super(...arguments),this.cn=k(null)}onSetup(){this.a=y(),this.ag();const{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":this.fn.bind(this)})}onAttach(t){t.hasAttribute("role")||h(this.hn.bind(this)),h(this.ag.bind(this))}onConnect(t){h(()=>{if(!this.$props.toggle()){this.cn.set(null);return}vt(t,this.gn.bind(this))})}ag(){const{type:t,padHours:e,padMinutes:s,showHours:i}=this.$props,n=this.Oj(t()),r=this.a.$state.duration(),o=this.fn();if(!Number.isFinite(n+r)){this.$state.timeText.set("LIVE");return}const l=o?Math.max(0,r-n):n,c=ke(l,{padHrs:e(),padMins:s(),showHrs:i()});this.$state.timeText.set((o?"-":"")+c)}hn(){if(!this.el)return;const{toggle:t}=this.$props;$(this.el,"role",t()?"timer":null),$(this.el,"tabindex",t()?0:null)}Oj(t){const{bufferedEnd:e,duration:s,currentTime:i}=this.a.$state;switch(t){case"buffered":return e();case"duration":return s();default:return i()}}fn(){return this.$props.remainder()&&this.cn()!==!1}gn(t){if(t.preventDefault(),this.cn()===null){this.cn.set(!this.$props.remainder());return}this.cn.set(e=>!e)}}Ts.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1},Ts.state=new jt({timeText:""});const ha=lt();function O(){return I(ha)}const Yo={clickToPlay:!0,clickToFullscreen:!0,controls:["play-large","play","progress","current-time","mute+volume","captions","settings","pip","airplay","fullscreen"],customIcons:!1,displayDuration:!1,download:null,markers:null,invertTime:!0,thumbnails:null,toggleTime:!0,translations:null,seekTime:10,speed:[.5,.75,1,1.25,1.5,1.75,2,4]};class ca extends x{onSetup(){this.a=y(),Y(ha,{...this.$props,previewTime:k(0)})}}ca.props=Yo;function Jo(a,t){const{fullscreen:e,canFullscreen:s,canPictureInPicture:i,pictureInPicture:n,hasCaptions:r,textTrack:o,canAirPlay:l,isAirPlayConnected:c,viewType:d,playing:g,paused:p,controlsVisible:v,pointer:M,waiting:V,currentTime:F,poster:ot}=t.$state;a.classList.add("plyr"),a.classList.add("plyr--full-ui");const W={"plyr--airplay-active":c,"plyr--airplay-supported":l,"plyr--fullscreen-active":e,"plyr--fullscreen-enabled":s,"plyr--hide-controls":()=>!v(),"plyr--is-touch":()=>M()==="coarse","plyr--loading":V,"plyr--paused":p,"plyr--pip-active":n,"plyr--pip-enabled":i,"plyr--playing":g,"plyr__poster-enabled":ot,"plyr--stopped":()=>p()&&F()===0,"plyr--captions-active":o,"plyr--captions-enabled":r},dt=ii();for(const it of Object.keys(W))dt.add(h(()=>void a.classList.toggle(it,!!W[it]())));return dt.add(h(()=>{const it=`plyr--${d()}`;return a.classList.add(it),()=>a.classList.remove(it)}),h(()=>{const{$provider:it}=t,Lt=it()?.type,ce=`plyr--${Zo(Lt)?"html5":Lt}`;return a.classList.toggle(ce,!!Lt),()=>a.classList.remove(ce)})),()=>dt.empty()}function Zo(a){return a==="audio"||a==="video"}class xs extends T(HTMLElement,zr){}xs.tagName="media-player",xs.attrs={autoPlay:"autoplay",crossOrigin:"crossorigin",playsInline:"playsinline",preferNativeHLS:"prefer-native-hls",minLiveDVRWindow:"min-live-dvr-window"};class da extends T(HTMLElement,ve){constructor(){super(...arguments),this.A=null,this.Vj=null}onSetup(){this.a=y(),this.setAttribute("keep-alive","")}onDestroy(){this.Vj?.remove(),this.Vj=null,this.A?.remove(),this.A=null}onConnect(){h(()=>{const t=this.$state.loader(),e=t?.name==="youtube",s=t?.name==="vimeo",i=e||s,n=t?.name==="google-cast",r=t?n?this.Sm():i?this.ek():t.mediaType()==="audio"?this.fk():this.Yj():null;if(this.A!==r){const o=this.A?.parentElement??this;this.A?.remove(),this.A=r,r&&o.prepend(r),i&&r&&h(()=>{const{$iosControls:l}=this.a,{controls:c}=this.a.$state,d=c()||l();d?(this.Vj?.remove(),this.Vj=null):(this.Vj=this.querySelector(".vds-blocker")??document.createElement("div"),this.Vj.classList.add("vds-blocker"),r.after(this.Vj)),$(r,"data-no-controls",!d)})}e?r?.classList.add("vds-youtube"):s&&r?.classList.add("vds-vimeo"),i||(this.Vj?.remove(),this.Vj=null),this.load(r)})}fk(){const t=this.A instanceof HTMLAudioElement?this.A:document.createElement("audio");$(t,"preload","none"),$(t,"aria-hidden","true");const{controls:e,crossOrigin:s}=this.a.$state;return h(()=>{$(t,"controls",e()),$(t,"crossorigin",s())}),t}Yj(){const t=this.A instanceof HTMLVideoElement?this.A:document.createElement("video"),{controls:e,crossOrigin:s,poster:i}=this.a.$state,{$iosControls:n}=this.a,r=j(()=>e()||n()?"true":null),o=j(()=>i()&&(e()||n())?i():null);return h(()=>{$(t,"controls",r()),$(t,"crossorigin",s()),$(t,"poster",o())}),t}ek(){const t=this.A instanceof HTMLIFrameElement?this.A:document.createElement("iframe"),{controls:e}=this.a.$state,{$iosControls:s}=this.a,i=j(()=>e()||s());return h(()=>$(t,"tabindex",i()?null:-1)),t}Sm(){if(this.A?.classList.contains("vds-google-cast"))return this.A;const t=document.createElement("div");return t.classList.add("vds-google-cast"),import("./chunks/vidstack-2B8pHiNO.js").then(({insertContent:e})=>{e(t,this.a.$state)}),t}}da.tagName="media-provider",w(xs),w(da);var Ps;const Ce=window,Dt=Ce.trustedTypes,ua=Dt?Dt.createPolicy("lit-html",{createHTML:a=>a}):void 0,Ss="$lit$",$t=`lit$${(Math.random()+"").slice(9)}$`,pa="?"+$t,tl=`<${pa}>`,Et=document,se=()=>Et.createComment(""),ie=a=>a===null||typeof a!="object"&&typeof a!="function",ma=Array.isArray,el=a=>ma(a)||typeof a?.[Symbol.iterator]=="function",Cs=`[ 	
\f\r]`,ae=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ga=/-->/g,ba=/>/g,Mt=RegExp(`>|${Cs}(?:([^\\s"'>=/]+)(${Cs}*=${Cs}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),fa=/'/g,va=/"/g,ya=/^(?:script|style|textarea|title)$/i,sl=a=>(t,...e)=>({gt:a,strings:t,values:e}),u=sl(1),It=Symbol.for("lit-noChange"),N=Symbol.for("lit-nothing"),$a=new WeakMap,At=Et.createTreeWalker(Et,129,null,!1);function ka(a,t){if(!Array.isArray(a)||!a.hasOwnProperty("raw"))throw Error("invalid template strings array");return ua!==void 0?ua.createHTML(t):t}const il=(a,t)=>{const e=a.length-1,s=[];let i,n=t===2?"<svg>":"",r=ae;for(let o=0;o<e;o++){const l=a[o];let c,d,g=-1,p=0;for(;p<l.length&&(r.lastIndex=p,d=r.exec(l),d!==null);)p=r.lastIndex,r===ae?d[1]==="!--"?r=ga:d[1]!==void 0?r=ba:d[2]!==void 0?(ya.test(d[2])&&(i=RegExp("</"+d[2],"g")),r=Mt):d[3]!==void 0&&(r=Mt):r===Mt?d[0]===">"?(r=i??ae,g=-1):d[1]===void 0?g=-2:(g=r.lastIndex-d[2].length,c=d[1],r=d[3]===void 0?Mt:d[3]==='"'?va:fa):r===va||r===fa?r=Mt:r===ga||r===ba?r=ae:(r=Mt,i=void 0);const v=r===Mt&&a[o+1].startsWith("/>")?" ":"";n+=r===ae?l+tl:g>=0?(s.push(c),l.slice(0,g)+Ss+l.slice(g)+$t+v):l+$t+(g===-2?(s.push(void 0),o):v)}return[ka(a,n+(a[e]||"<?>")+(t===2?"</svg>":"")),s]};let Es=class Hn{constructor({strings:t,gt:e},s){let i;this.parts=[];let n=0,r=0;const o=t.length-1,l=this.parts,[c,d]=il(t,e);if(this.el=Hn.createElement(c,s),At.currentNode=this.el.content,e===2){const g=this.el.content,p=g.firstChild;p.remove(),g.append(...p.childNodes)}for(;(i=At.nextNode())!==null&&l.length<o;){if(i.nodeType===1){if(i.hasAttributes()){const g=[];for(const p of i.getAttributeNames())if(p.endsWith(Ss)||p.startsWith($t)){const v=d[r++];if(g.push(p),v!==void 0){const M=i.getAttribute(v.toLowerCase()+Ss).split($t),V=/([.?@])?(.*)/.exec(v);l.push({type:1,index:n,name:V[2],strings:M,ctor:V[1]==="."?nl:V[1]==="?"?ol:V[1]==="@"?ll:Ee})}else l.push({type:6,index:n})}for(const p of g)i.removeAttribute(p)}if(ya.test(i.tagName)){const g=i.textContent.split($t),p=g.length-1;if(p>0){i.textContent=Dt?Dt.emptyScript:"";for(let v=0;v<p;v++)i.append(g[v],se()),At.nextNode(),l.push({type:2,index:++n});i.append(g[p],se())}}}else if(i.nodeType===8)if(i.data===pa)l.push({type:2,index:n});else{let g=-1;for(;(g=i.data.indexOf($t,g+1))!==-1;)l.push({type:7,index:n}),g+=$t.length-1}n++}}static createElement(t,e){const s=Et.createElement("template");return s.innerHTML=t,s}};function Rt(a,t,e=a,s){var i,n,r,o;if(t===It)return t;let l=s!==void 0?(i=e.St)===null||i===void 0?void 0:i[s]:e._t;const c=ie(t)?void 0:t.qt;return l?.constructor!==c&&((n=l?.Ct)===null||n===void 0||n.call(l,!1),c===void 0?l=void 0:(l=new c(a),l.wt(a,e,s)),s!==void 0?((r=(o=e).St)!==null&&r!==void 0?r:o.St=[])[s]=l:e._t=l),l!==void 0&&(t=Rt(a,l.Ot(a,t.values),l,s)),t}let al=class{constructor(t,e){this.Et=[],this.at=void 0,this.Mt=t,this.st=e}get parentNode(){return this.st.parentNode}get nt(){return this.st.nt}u(t){var e;const{el:{content:s},parts:i}=this.Mt,n=((e=t?.creationScope)!==null&&e!==void 0?e:Et).importNode(s,!0);At.currentNode=n;let r=At.nextNode(),o=0,l=0,c=i[0];for(;c!==void 0;){if(o===c.index){let d;c.type===2?d=new he(r,r.nextSibling,this,t):c.type===1?d=new c.ctor(r,c.name,c.strings,this,t):c.type===6&&(d=new hl(r,this,t)),this.Et.push(d),c=i[++l]}o!==c?.index&&(r=At.nextNode(),o++)}return At.currentNode=Et,n}v(t){let e=0;for(const s of this.Et)s!==void 0&&(s.strings!==void 0?(s.ht(t,s,e),e+=s.strings.length-2):s.ht(t[e])),e++}};class he{constructor(t,e,s,i){var n;this.type=2,this.tt=N,this.at=void 0,this.ut=t,this.bt=e,this.st=s,this.options=i,this.At=(n=i?.isConnected)===null||n===void 0||n}get nt(){var t,e;return(e=(t=this.st)===null||t===void 0?void 0:t.nt)!==null&&e!==void 0?e:this.At}get parentNode(){let t=this.ut.parentNode;const e=this.st;return e!==void 0&&t?.nodeType===11&&(t=e.parentNode),t}get startNode(){return this.ut}get endNode(){return this.bt}ht(t,e=this){t=Rt(this,t,e),ie(t)?t===N||t==null||t===""?(this.tt!==N&&this.vt(),this.tt=N):t!==this.tt&&t!==It&&this.it(t):t.gt!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):el(t)?this.T(t):this.it(t)}k(t){return this.ut.parentNode.insertBefore(t,this.bt)}$(t){this.tt!==t&&(this.vt(),this.tt=this.k(t))}it(t){this.tt!==N&&ie(this.tt)?this.ut.nextSibling.data=t:this.$(Et.createTextNode(t)),this.tt=t}g(t){var e;const{values:s,gt:i}=t,n=typeof i=="number"?this.Nt(t):(i.el===void 0&&(i.el=Es.createElement(ka(i.h,i.h[0]),this.options)),i);if(((e=this.tt)===null||e===void 0?void 0:e.Mt)===n)this.tt.v(s);else{const r=new al(n,this),o=r.u(this.options);r.v(s),this.$(o),this.tt=r}}Nt(t){let e=$a.get(t.strings);return e===void 0&&$a.set(t.strings,e=new Es(t)),e}T(t){ma(this.tt)||(this.tt=[],this.vt());const e=this.tt;let s,i=0;for(const n of t)i===e.length?e.push(s=new he(this.k(se()),this.k(se()),this,this.options)):s=e[i],s.ht(n),i++;i<e.length&&(this.vt(s&&s.bt.nextSibling,i),e.length=i)}vt(t=this.ut.nextSibling,e){var s;for((s=this.Tt)===null||s===void 0||s.call(this,!1,!0,e);t&&t!==this.bt;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var e;this.st===void 0&&(this.At=t,(e=this.Tt)===null||e===void 0||e.call(this,t))}}class Ee{constructor(t,e,s,i,n){this.type=1,this.tt=N,this.at=void 0,this.element=t,this.name=e,this.st=i,this.options=n,s.length>2||s[0]!==""||s[1]!==""?(this.tt=Array(s.length-1).fill(new String),this.strings=s):this.tt=N}get tagName(){return this.element.tagName}get nt(){return this.st.nt}ht(t,e=this,s,i){const n=this.strings;let r=!1;if(n===void 0)t=Rt(this,t,e,0),r=!ie(t)||t!==this.tt&&t!==It,r&&(this.tt=t);else{const o=t;let l,c;for(t=n[0],l=0;l<n.length-1;l++)c=Rt(this,o[s+l],e,l),c===It&&(c=this.tt[l]),r||(r=!ie(c)||c!==this.tt[l]),c===N?t=N:t!==N&&(t+=(c??"")+n[l+1]),this.tt[l]=c}r&&!i&&this.j(t)}j(t){t===N?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}let nl=class extends Ee{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===N?void 0:t}};const rl=Dt?Dt.emptyScript:"";class ol extends Ee{constructor(){super(...arguments),this.type=4}j(t){t&&t!==N?this.element.setAttribute(this.name,rl):this.element.removeAttribute(this.name)}}let ll=class extends Ee{constructor(t,e,s,i,n){super(t,e,s,i,n),this.type=5}ht(t,e=this){var s;if((t=(s=Rt(this,t,e,0))!==null&&s!==void 0?s:N)===It)return;const i=this.tt,n=t===N&&i!==N||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,r=t!==N&&(i===N||n);n&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,t),this.tt=t}handleEvent(t){var e,s;typeof this.tt=="function"?this.tt.call((s=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&s!==void 0?s:this.element,t):this.tt.handleEvent(t)}},hl=class{constructor(t,e,s){this.element=t,this.type=6,this.at=void 0,this.st=e,this.options=s}get nt(){return this.st.nt}ht(t){Rt(this,t)}};const wa=Ce.litHtmlPolyfillSupport;wa?.(Es,he),((Ps=Ce.litHtmlVersions)!==null&&Ps!==void 0?Ps:Ce.litHtmlVersions=[]).push("2.8.0");const Ta=(a,t,e)=>{var s,i;const n=(s=e?.renderBefore)!==null&&s!==void 0?s:t;let r=n.Dt;if(r===void 0){const o=(i=e?.renderBefore)!==null&&i!==void 0?i:null;n.Dt=r=new he(t.insertBefore(se(),o),o,void 0,e??{})}return r.ht(a),r},xa=lt();function L(){return I(xa)}const cl={customIcons:!1,disableTimeSlider:!1,menuGroup:"bottom",noGestures:!1,noKeyboardActionDisplay:!1,noModal:!1,noScrubGesture:!1,playbackRates:ra,seekStep:10,sliderChaptersMinWidth:325,smallWhen:!1,thumbnails:null,translations:null,when:!1};var dl=Object.defineProperty,ul=Object.getOwnPropertyDescriptor,Ms=(a,t,e,s)=>{for(var i=s>1?void 0:s?ul(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&dl(t,e,i),i};class Vt extends x{constructor(){super(...arguments),this.xt=j(()=>{const t=this.$props.when();return this.$m(t)}),this.Ym=j(()=>{const t=this.$props.smallWhen();return this.$m(t)}),this.menuContainer=null}get isMatch(){return this.xt()}get isSmallLayout(){return this.Ym()}onSetup(){this.a=y(),this.setAttributes({"data-match":this.xt,"data-size":()=>this.Ym()?"sm":null,"data-no-scrub-gesture":this.$props.noScrubGesture});const t=this;Y(xa,{...this.$props,when:this.xt,smallWhen:this.Ym,get menuContainer(){return t.menuContainer}})}$m(t){return t!=="never"&&(ai(t)?t:j(()=>t(this.a.player.state))())}}Vt.props=cl,Ms([S],Vt.prototype,"menuContainer",2),Ms([S],Vt.prototype,"isMatch",1),Ms([S],Vt.prototype,"isSmallLayout",1);var pl=Object.getPrototypeOf,ml=Reflect.get,gl=(a,t,e)=>ml(pl(a),e,t);const Me=class extends Vt{};Me.props={...gl(Me,Me,"props"),when:({viewType:a})=>a==="audio",smallWhen:({width:a})=>a<576};let bl=Me;const fl=a=>a.strings===void 0,vl={},yl=(a,t=vl)=>a.tt=t;const Ae={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},ne=a=>(...t)=>({qt:a,values:t});let As=class{constructor(t){}get nt(){return this.st.nt}wt(t,e,s){this.yt=t,this.st=e,this.It=s}Ot(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};const re=(a,t)=>{var e,s;const i=a.at;if(i===void 0)return!1;for(const n of i)(s=(e=n).Ct)===null||s===void 0||s.call(e,t,!1),re(n,t);return!0},Le=a=>{let t,e;do{if((t=a.st)===void 0)break;e=t.at,e.delete(a),a=t}while(e?.size===0)},Pa=a=>{for(let t;t=a.st;a=t){let e=t.at;if(e===void 0)t.at=e=new Set;else if(e.has(a))break;e.add(a),wl(t)}};function $l(a){this.at!==void 0?(Le(this),this.st=a,Pa(this)):this.st=a}function kl(a,t=!1,e=0){const s=this.tt,i=this.at;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(s))for(let n=e;n<s.length;n++)re(s[n],!1),Le(s[n]);else s!=null&&(re(s,!1),Le(s));else re(this,a)}const wl=a=>{var t,e,s,i;a.type==Ae.CHILD&&((t=(s=a).Tt)!==null&&t!==void 0||(s.Tt=kl),(e=(i=a).Rt)!==null&&e!==void 0||(i.Rt=$l))};class Sa extends As{constructor(){super(...arguments),this.at=void 0}wt(t,e,s){super.wt(t,e,s),Pa(this),this.isConnected=t.nt}Ct(t,e=!0){var s,i;t!==this.isConnected&&(this.isConnected=t,t?(s=this.reconnected)===null||s===void 0||s.call(this):(i=this.disconnected)===null||i===void 0||i.call(this)),e&&(re(this,t),Le(this))}setValue(t){if(fl(this.yt))this.yt.ht(t,this);else{const e=[...this.yt.tt];e[this.It]=t,this.yt.ht(e,this,0)}}disconnected(){}reconnected(){}}const Ls=a=>a??N;let Tl=class extends Sa{constructor(t){super(t),this.h=null,this.w=!1,this.ra=null,this.w=t.type===Ae.ATTRIBUTE||t.type===Ae.BOOLEAN_ATTRIBUTE}render(t){return t!==this.h&&(this.disconnected(),this.h=t,this.isConnected&&this.Si()),this.h?this.el(b(this.h)):N}reconnected(){this.Si()}disconnected(){this.ra?.(),this.ra=null}Si(){this.h&&(this.ra=h(this.o.bind(this)))}el(t){return this.w?Ls(t):t}hl(t){this.setValue(this.el(t))}o(){this.hl(this.h?.())}};function m(a){return ne(Tl)(j(a))}class je extends HTMLElement{constructor(){super(...arguments),this.rootPart=null}connectedCallback(){this.rootPart=Ta(this.render(),this,{renderBefore:this.firstChild}),this.rootPart.setConnected(!0)}disconnectedCallback(){this.rootPart?.setConnected(!1),this.rootPart=null}}class Ca{constructor(t,e){this.Wj=t,this.Ca=e,this.elements=new Set,this.vf=ft(this.ea.bind(this))}connect(){this.ea();const t=new MutationObserver(this.vf);t.observe(this.Wj,{childList:!0,subtree:!0}),P(()=>t.disconnect()),P(this.disconnect.bind(this))}disconnect(){this.elements.clear()}assign(t,e){t instanceof Node?(e.textContent="",e.append(t)):Ta(t,e),e.style.display||(e.style.display="contents");const s=e.firstElementChild;if(!s)return;const i=e.getAttribute("data-class");i&&s.classList.add(...i.split(" "))}ea(t){if(t&&!t.some(i=>i.addedNodes.length))return;let e=!1,s=this.Wj.querySelectorAll("slot");for(const i of s)!i.hasAttribute("name")||this.elements.has(i)||(this.elements.add(i),e=!0);e&&this.Ca(this.elements)}}let xl=0,_e="data-slot-id";class js{constructor(t){this.Wj=t,this.vf=ft(this.ea.bind(this)),this.slots=new Ca(t,this.ea.bind(this))}connect(){this.slots.connect(),this.ea();const t=new MutationObserver(this.vf);t.observe(this.Wj,{childList:!0}),P(()=>t.disconnect())}ea(){for(const t of this.Wj.children){if(t.nodeType!==1)continue;const e=t.getAttribute("slot");if(!e)continue;t.style.display="none";let s=t.getAttribute(_e);s||t.setAttribute(_e,s=++xl+"");for(const i of this.slots.elements){if(i.getAttribute("name")!==e||i.getAttribute(_e)===s)continue;const n=document.importNode(t,!0);e.includes("-icon")&&n.classList.add("vds-icon"),n.style.display="",n.removeAttribute("slot"),this.slots.assign(n,i),i.setAttribute(_e,s)}}}}const _s=new WeakMap,oe=ne(class extends Sa{render(a){return N}update(a,[t]){var e;const s=t!==this.G;return s&&this.G!==void 0&&this.ot(void 0),(s||this.rt!==this.lt)&&(this.G=t,this.dt=(e=a.options)===null||e===void 0?void 0:e.host,this.ot(this.lt=a.element)),N}ot(a){var t;if(typeof this.G=="function"){const e=(t=this.dt)!==null&&t!==void 0?t:globalThis;let s=_s.get(e);s===void 0&&(s=new WeakMap,_s.set(e,s)),s.get(this.G)!==void 0&&this.G.call(this.dt,void 0),s.set(this.G,a),a!==void 0&&this.G.call(this.dt,a)}else this.G.value=a}get rt(){var a,t,e;return typeof this.G=="function"?(t=_s.get((a=this.dt)!==null&&a!==void 0?a:globalThis))===null||t===void 0?void 0:t.get(this.G):(e=this.G)===null||e===void 0?void 0:e.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}});function tt(a,t){return a()?.[t]??t}function Ft({label:a,icon:t,hint:e}){return u`
    <media-menu-button class="vds-menu-button">
      <slot name="menu-arrow-left-icon" data-class="vds-menu-button-close-icon"></slot>
      ${t?u`<slot name="${t}-icon" data-class="vds-menu-button-icon"></slot>`:null}
      <span class="vds-menu-button-label">${m(a)}</span>
      <span class="vds-menu-button-hint" data-part="hint">${e?m(e):null} </span>
      <slot name="menu-arrow-right-icon" data-class="vds-menu-button-open-icon"></slot>
    </media-menu-button>
  `}function Pl({value:a=null,options:t,hideLabel:e=!1,children:s=null,onChange:i=null}){function n(r){const{value:o,label:l}=r;return u`
      <media-radio class="vds-radio" value=${o}>
        <div class="vds-radio-check"></div>
        ${e?null:u`
              <span class="vds-radio-label" data-part="label">
                ${C(l)?l:m(l)}
              </span>
            `}
        ${ze(s)?s(r):s}
      </media-radio>
    `}return u`
    <media-radio-group
      class="vds-radio-group"
      value=${C(a)?a:a?m(a):""}
      @change=${i}
    >
      ${X(t)?t.map(n):m(()=>t().map(n))}
    </media-radio-group>
  `}function Sl(a){return X(a)?a.map(t=>({label:t,value:t.toLowerCase()})):Object.keys(a).map(t=>({label:t,value:a[t]}))}const qs=["White","Yellow","Green","Cyan","Blue","Magenta","Red","Black"],Os=["0%","25%","50%","75%","100%"],Cl={"Monospaced Serif":"mono-serif","Proportional Serif":"pro-serif","Monospaced Sans-Serif":"mono-sans","Proportional Sans-Serif":"pro-sans",Casual:"casual",Cursive:"cursive","Small Capitals":"capitals"},El=["50%","75%","100%","150%","200%","300%","400%"],Ml=["None","Drop Shadow","Raised","Depressed","Outline"],Ns=lt();function Al(){return m(()=>{const{hasCaptions:a}=et(),{translations:t}=L();return a()?(Y(Ns,{all:new Set}),u`
      <media-menu class="vds-font-menu vds-menu">
        ${Ft({label:()=>tt(t,"Font Styles"),icon:"menu-font"})}
        <media-menu-items class="vds-menu-items">
          ${Ll()}${jl()}${_l()}${ql()}${Ol()}
          ${Nl()}${Dl()}${Il()}
          ${Rl()}${Vl()}
        </media-menu-items>
      </media-menu>
    `):null})}function Ll(){return mt({label:"Font Family",options:Cl,defaultValue:"pro-sans",cssVarName:"font-family",getCssVarValue(a,t){const e=a==="capitals"?"small-caps":"";return t.el?.style.setProperty("--media-user-font-variant",e),Fl(a)}})}function jl(){return mt({label:"Font Size",options:El,defaultValue:"100%",cssVarName:"font-size",getCssVarValue:qe})}function _l(){return mt({label:"Text Color",options:qs,defaultValue:"white",cssVarName:"text-color",getCssVarValue(a){return`rgb(${Ds(a)} / var(--media-user-text-opacity, 1))`}})}function ql(){return mt({label:"Text Opacity",options:Os,defaultValue:"100%",cssVarName:"text-opacity",getCssVarValue:qe})}function Ol(){return mt({label:"Text Shadow",options:Ml,defaultValue:"none",cssVarName:"text-shadow",getCssVarValue:Hl})}function Nl(){return mt({label:"Background Color",options:qs,defaultValue:"black",cssVarName:"text-bg",getCssVarValue(a){return`rgb(${Ds(a)} / var(--media-user-text-bg-opacity, 1))`}})}function Dl(){return mt({label:"Background Opacity",options:Os,defaultValue:"100%",cssVarName:"text-bg-opacity",getCssVarValue:qe})}function Il(){return mt({label:"Display Background Color",options:qs,defaultValue:"black",cssVarName:"display-bg",getCssVarValue(a){return`rgb(${Ds(a)} / var(--media-user-display-bg-opacity, 1))`}})}function Rl(){return mt({label:"Display Background Opacity",options:Os,defaultValue:"0%",cssVarName:"display-bg-opacity",getCssVarValue:qe})}function Vl(){const{translations:a}=L(),t=()=>tt(a,"Reset"),e=I(Ns);function s(){e.current?e.current():e.all.forEach(i=>i())}return u`
    <button class="vds-menu-button" role="menuitem" @click=${s}>
      <span class="vds-menu-button-label">${m(t)}</span>
    </button>
  `}function mt({label:a,options:t,defaultValue:e,cssVarName:s,getCssVarValue:i}){const{player:n}=y(),{translations:r}=L(),o=I(Ns),l=Sl(t),c=`${a.toLowerCase().replace(/\s/g,"-")}`,d=k(e),g=()=>tt(r,a),p=()=>{const W=d(),dt=l.find(it=>it.value===W)?.label||"";return tt(r,C(dt)?dt:dt())},v=localStorage.getItem(`vds-player:${c}`);v&&M(v);function M(W){d.set(W),localStorage.setItem(`vds-player:${c}`,W),n.el?.style.setProperty(`--media-user-${s}`,i?.(W,n)??W)}o.all.add(V),P(()=>void o.all.delete(V));function V(){M(e)}function F(){o.current=V}function ot(){o.current=void 0}return u`
    <media-menu class=${`vds-${c}-menu vds-menu`} @open=${F} @close=${ot}>
      ${Ft({label:g,hint:p})}
      <media-menu-items class="vds-menu-items">
        ${Pl({value:d,options:l,onChange({detail:W}){M(W)}})}
      </media-menu-items>
    </media-menu>
  `}function qe(a){return(parseInt(a)/100).toString()}function Ds(a){switch(a){case"white":return"255 255 255";case"yellow":return"255 255 0";case"green":return"0 128 0";case"cyan":return"0 255 255";case"blue":return"0 0 255";case"magenta":return"255 0 255";case"red":return"255 0 0";case"black":return"0 0 0"}}function Fl(a){switch(a){case"mono-serif":return'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace';case"mono-sans":return'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace';case"pro-sans":return'Roboto, "Arial Unicode Ms", Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif';case"casual":return'"Comic Sans MS", Impact, Handlee, fantasy';case"cursive":return'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive';case"capitals":return'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif + font-variant=small-caps';default:return'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif'}}function Hl(a){switch(a){case"drop shadow":return"rgb(34, 34, 34) 1.86389px 1.86389px 2.79583px, rgb(34, 34, 34) 1.86389px 1.86389px 3.72778px, rgb(34, 34, 34) 1.86389px 1.86389px 4.65972px";case"raised":return"rgb(34, 34, 34) 1px 1px, rgb(34, 34, 34) 2px 2px";case"depressed":return"rgb(204, 204, 204) 1px 1px, rgb(34, 34, 34) -1px -1px";case"outline":return"rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px";default:return""}}function Ea({tooltip:a}){const{translations:t}=L(),{remotePlaybackState:e}=et(),s=m(()=>{const n=tt(t,"AirPlay"),r=Ge(e());return`${n} ${r}`}),i=E(t,"AirPlay");return u`
    <media-tooltip class="vds-airplay-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-airplay-button class="vds-airplay-button vds-button" aria-label=${s}>
          <slot name="airplay-icon" data-class="vds-airplay-icon"></slot>
        </media-airplay-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-airplay-tooltip-text">${i}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Ma({tooltip:a}){const{translations:t}=L(),{remotePlaybackState:e}=et(),s=m(()=>{const n=tt(t,"Google Cast"),r=Ge(e());return`${n} ${r}`}),i=E(t,"Google Cast");return u`
    <media-tooltip class="vds-google-cast-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-google-cast-button class="vds-google-cast-button vds-button" aria-label=${s}>
          <slot name="google-cast-icon" data-class="vds-google-cast-icon"></slot>
        </media-google-cast-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-google-cast-tooltip-text">${i}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Oe({tooltip:a}){const{translations:t}=L(),e=E(t,"Play"),s=E(t,"Pause");return u`
    <media-tooltip class="vds-play-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-play-button
          class="vds-play-button vds-button"
          aria-label=${E(t,"Play")}
        >
          <slot name="play-icon" data-class="vds-play-icon"></slot>
          <slot name="pause-icon" data-class="vds-pause-icon"></slot>
          <slot name="replay-icon" data-class="vds-replay-icon"></slot>
        </media-play-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-play-tooltip-text">${e}</span>
        <span class="vds-pause-tooltip-text">${s}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Is({tooltip:a,ref:t=ei}){const{translations:e}=L(),s=E(e,"Mute"),i=E(e,"Unmute");return u`
    <media-tooltip class="vds-mute-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-mute-button
          class="vds-mute-button vds-button"
          aria-label=${E(e,"Mute")}
          ${oe(t)}
        >
          <slot name="mute-icon" data-class="vds-mute-icon"></slot>
          <slot name="volume-low-icon" data-class="vds-volume-low-icon"></slot>
          <slot name="volume-high-icon" data-class="vds-volume-high-icon"></slot>
        </media-mute-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-mute-tooltip-text">${i}</span>
        <span class="vds-unmute-tooltip-text">${s}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Rs({tooltip:a}){const{translations:t}=L(),e=E(t,"Closed-Captions On"),s=E(t,"Closed-Captions Off");return u`
    <media-tooltip class="vds-caption-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-caption-button
          class="vds-caption-button vds-button"
          aria-label=${E(t,"Captions")}
        >
          <slot name="cc-on-icon" data-class="vds-cc-on-icon"></slot>
          <slot name="cc-off-icon" data-class="vds-cc-off-icon"></slot>
        </media-caption-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-cc-on-tooltip-text">${s}</span>
        <span class="vds-cc-off-tooltip-text">${e}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Bl(){const{translations:a}=L(),t=E(a,"Enter PiP"),e=E(a,"Exit PiP");return u`
    <media-tooltip class="vds-pip-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-pip-button
          class="vds-pip-button vds-button"
          aria-label=${E(a,"PiP")}
        >
          <slot name="pip-enter-icon" data-class="vds-pip-enter-icon"></slot>
          <slot name="pip-exit-icon" data-class="vds-pip-exit-icon"></slot>
        </media-pip-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content">
        <span class="vds-pip-enter-tooltip-text">${t}</span>
        <span class="vds-pip-exit-tooltip-text">${e}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Aa({tooltip:a}){const{translations:t}=L(),e=E(t,"Enter Fullscreen"),s=E(t,"Exit Fullscreen");return u`
    <media-tooltip class="vds-fullscreen-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-fullscreen-button
          class="vds-fullscreen-button vds-button"
          aria-label=${E(t,"Fullscreen")}
        >
          <slot name="fs-enter-icon" data-class="vds-fs-enter-icon"></slot>
          <slot name="fs-exit-icon" data-class="vds-fs-exit-icon"></slot>
        </media-fullscreen-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-fs-enter-tooltip-text">${e}</span>
        <span class="vds-fs-exit-tooltip-text">${s}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function La({backward:a,tooltip:t}){const{translations:e,seekStep:s}=L(),i=a?"Seek Backward":"Seek Forward",n=E(e,i);return u`
    <media-tooltip class="vds-seek-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-seek-button
          class="vds-seek-button vds-button"
          seconds=${m(()=>(a?-1:1)*s())}
          aria-label=${n}
        >
          ${a?u`<slot name="seek-backward-icon"></slot>`:u`<slot name="seek-forward-icon"></slot>`}
        </media-seek-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${t}>
        ${E(e,i)}
      </media-tooltip-content>
    </media-tooltip>
  `}function ja({orientation:a}={}){const{translations:t}=L(),e=E(t,"Volume");return u`
    <media-volume-slider
      class="vds-volume-slider vds-slider"
      aria-label=${e}
      orientation=${Ls(a)}
    >
      <div class="vds-slider-track"></div>
      <div class="vds-slider-track-fill vds-slider-track"></div>
      <media-slider-preview class="vds-slider-preview" no-clamp>
        <media-slider-value class="vds-slider-value"></media-slider-value>
      </media-slider-preview>
      <div class="vds-slider-thumb"></div>
    </media-volume-slider>
  `}function Vs(){const a=k(void 0),t=k(0),{thumbnails:e,translations:s,sliderChaptersMinWidth:i,disableTimeSlider:n,seekStep:r,noScrubGesture:o}=L(),l=E(s,"Seek"),c=m(n),d=m(()=>t()<i()),g=m(e);return li(a,()=>{const p=a();p&&t.set(p.clientWidth)}),u`
    <media-time-slider
      class="vds-time-slider vds-slider"
      aria-label=${l}
      key-step=${m(r)}
      ?disabled=${c}
      ?no-swipe-gesture=${m(o)}
      ${oe(a.set)}
    >
      <media-slider-chapters class="vds-slider-chapters" ?disabled=${d}>
        <template>
          <div class="vds-slider-chapter">
            <div class="vds-slider-track"></div>
            <div class="vds-slider-track-fill vds-slider-track"></div>
            <div class="vds-slider-progress vds-slider-track"></div>
          </div>
        </template>
      </media-slider-chapters>
      <div class="vds-slider-thumb"></div>
      <media-slider-preview class="vds-slider-preview">
        <media-slider-thumbnail
          class="vds-slider-thumbnail vds-thumbnail"
          .src=${g}
        ></media-slider-thumbnail>
        <div class="vds-slider-chapter-title" data-part="chapter-title"></div>
        <media-slider-value class="vds-slider-value"></media-slider-value>
      </media-slider-preview>
    </media-time-slider>
  `}function _a(){const{translations:a}=L(),{live:t}=et(),e=E(a,"Skip To Live"),s=E(a,"LIVE");return t()?u`
        <media-live-button class="vds-live-button" aria-label=${e}>
          <span class="vds-live-button-text">${s}</span>
        </media-live-button>
      `:null}function Kl(){return u`
    <div class="vds-time-group">
      ${m(()=>{const{duration:a}=et();return a()?[u`<media-time class="vds-time" type="current"></media-time>`,u`<div class="vds-time-divider">/</div>`,u`<media-time class="vds-time" type="duration"></media-time>`]:null})}
    </div>
  `}function Ql(){return m(()=>{const{live:a,duration:t}=et();return a()?_a():t()?u`<media-time class="vds-time" type="current" toggle remainder></media-time>`:null})}function gt(){return u`<div class="vds-controls-spacer"></div>`}function qa(){return m(()=>{const{live:a}=et();return a()?_a():Kl()})}function Oa(a,t){return u`
    <media-menu-portal .container=${a} disabled="fullscreen">
      ${t}
    </media-menu-portal>
  `}function Fs(){return u`<media-chapter-title class="vds-chapter-title"></media-chapter-title>`}function Na({placement:a,tooltip:t,portal:e}){const{viewType:s}=et(),{translations:i,thumbnails:n,menuContainer:r,noModal:o,menuGroup:l,smallWhen:c}=L(),d=j(()=>o()?me(a):c()?null:me(a)),g=j(()=>!c()&&l()==="bottom"&&s()==="video"?26:0),p=u`
    <media-menu-items
      class="vds-chapters-menu-items vds-menu-items"
      placement=${m(d)}
      offset=${m(g)}
    >
      <media-chapters-radio-group
        class="vds-chapters-radio-group vds-radio-group"
        .thumbnails=${m(n)}
      >
        <template>
          <media-radio class="vds-chapter-radio vds-radio">
            <media-thumbnail class="vds-thumbnail"></media-thumbnail>
            <div class="vds-chapter-radio-content">
              <span class="vds-chapter-radio-label" data-part="label"></span>
              <span class="vds-chapter-radio-start-time" data-part="start-time"></span>
              <span class="vds-chapter-radio-duration" data-part="duration"></span>
            </div>
          </media-radio>
        </template>
      </media-chapters-radio-group>
    </media-menu-items>
  `;return u`
    <media-menu class="vds-chapters-menu vds-menu">
      <media-tooltip class="vds-tooltip">
        <media-tooltip-trigger>
          <media-menu-button
            class="vds-menu-button vds-button"
            aria-label=${E(i,"Chapters")}
          >
            <slot name="menu-chapters-icon"></slot>
          </media-menu-button>
        </media-tooltip-trigger>
        <media-tooltip-content
          class="vds-tooltip-content"
          placement=${ze(t)?m(t):t}
        >
          ${E(i,"Chapters")}
        </media-tooltip-content>
      </media-tooltip>
      ${e?Oa(r,p):p}
    </media-menu>
  `}function Da({placement:a,portal:t,tooltip:e}){return m(()=>{const{viewType:s,canSetPlaybackRate:i,canSetQuality:n,qualities:r,audioTracks:o,hasCaptions:l}=et(),{translations:c,menuContainer:d,noModal:g,menuGroup:p,smallWhen:v}=L(),M=j(()=>g()?me(a):v()?null:me(a)),V=j(()=>!v()&&p()==="bottom"&&s()==="video"?26:0);if(!j(()=>i()||!!(n()&&r().length)||!!o().length||l())())return null;const F=u`
      <media-menu-items
        class="vds-settings-menu-items vds-menu-items"
        placement=${m(M)}
        offset=${m(V)}
      >
        ${[Gl(),Ul(),zl(),Wl(),Al()]}
      </media-menu-items>
    `;return u`
      <media-menu class="vds-settings-menu vds-menu">
        <media-tooltip class="vds-tooltip">
          <media-tooltip-trigger>
            <media-menu-button
              class="vds-menu-button vds-button"
              aria-label=${E(c,"Settings")}
            >
              <slot name="menu-settings-icon" data-class="vds-rotate-icon"></slot>
            </media-menu-button>
          </media-tooltip-trigger>
          <media-tooltip-content
            class="vds-tooltip-content"
            placement=${ze(e)?m(e):e}
          >
            ${E(c,"Settings")}
          </media-tooltip-content>
        </media-tooltip>
        ${t?Oa(d,F):F}
      </media-menu>
    `})}function Gl(){const{translations:a}=L(),t=E(a,"Default");return u`
    <media-menu class="vds-audio-menu vds-menu">
      ${Ft({label:()=>tt(a,"Audio"),icon:"menu-audio"})}
      <media-menu-items class="vds-menu-items">
        <media-audio-radio-group
          class="vds-audio-radio-group vds-radio-group"
          empty-label=${t}
        >
          <template>
            <media-radio class="vds-audio-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
            </media-radio>
          </template>
        </media-audio-radio-group>
      </media-menu-items>
    </media-menu>
  `}function Ul(){const{translations:a,playbackRates:t}=L(),e=E(a,"Normal");return u`
    <media-menu class="vds-speed-menu vds-menu">
      ${Ft({label:()=>tt(a,"Speed"),icon:"menu-speed"})}
      <media-menu-items class="vds-menu-items">
        <media-speed-radio-group
          class="vds-speed-radio-group vds-radio-group"
          normal-label=${e}
          .rates=${m(t)}
        >
          <template>
            <media-radio class="vds-speed-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
            </media-radio>
          </template>
        </media-speed-radio-group>
      </media-menu-items>
    </media-menu>
  `}function zl(){const{translations:a}=L(),t=E(a,"Auto");return u`
    <media-menu class="vds-quality-menu vds-menu">
      ${Ft({label:()=>tt(a,"Quality"),icon:"menu-quality"})}
      <media-menu-items class="vds-menu-items">
        <media-quality-radio-group
          class="vds-quality-radio-group vds-radio-group"
          auto-label=${t}
        >
          <template>
            <media-radio class="vds-quality-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
              <span class="vds-radio-hint" data-part="bitrate"></span>
            </media-radio>
          </template>
        </media-quality-radio-group>
      </media-menu-items>
    </media-menu>
  `}function Wl(){const{translations:a}=L(),t=E(a,"Off");return u`
    <media-menu class="vds-captions-menu vds-menu">
      ${Ft({label:()=>tt(a,"Captions"),icon:"menu-captions"})}
      <media-menu-items class="vds-menu-items">
        <media-captions-radio-group
          class="vds-captions-radio-group vds-radio-group"
          off-label=${t}
        >
          <template>
            <media-radio class="vds-caption-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
            </media-radio>
          </template>
        </media-captions-radio-group>
      </media-menu-items>
    </media-menu>
  `}function Ia(a){let t=document.querySelector(`body > .${a}`);return t||(t=document.createElement("div"),t.style.display="contents",t.classList.add(a),document.body.append(t)),t}function E(a,t){return m(()=>tt(a,t))}function Xl(){return[u`<media-captions class="vds-captions"></media-captions>`,u`
      <media-controls class="vds-controls">
        <media-controls-group class="vds-controls-group">
          ${[La({backward:!0,tooltip:"top start"}),Oe({tooltip:"top"}),La({tooltip:"top"}),Yl(),Vs(),Ql(),Jl(),Rs({tooltip:"top"}),Zl()]}
        </media-controls-group>
      </media-controls>
    `]}function Yl(){return m(()=>{let a=k(void 0),t=k(!1),e=y(),{title:s,started:i,currentTime:n,ended:r}=et(),{translations:o}=L(),l=ir(a),c=()=>i()||n()>0;const d=()=>{const v=r()?"Replay":c()?"Continue":"Play";return`${tt(o,v)}: ${s()}`};h(()=>{l()&&document.activeElement===document.body&&e.player.el?.focus()});function g(){const v=a(),M=!!v&&!l()&&v.clientWidth<v.children[0].clientWidth;v&&Xn(v,"vds-marquee",M),t.set(M)}function p(){return u`
        <span class="vds-title-text">
          ${m(d)}${m(()=>c()?Fs():null)}
        </span>
      `}return li(a,g),s()?u`
          <span class="vds-title" title=${m(d)} ${oe(a.set)}>
            ${[p(),m(()=>t()&&!l()?p():null)]}
          </span>
        `:gt()})}function Jl(){return m(()=>{const{pointer:a,muted:t}=et();if(a()==="coarse"&&!t())return null;const e=k(void 0),s=k(void 0),i=k(void 0),n=ar(e),r=nr(s);return h(()=>{r()&&(hi(e,s,"trigger"),hi(e,i,"popper"))}),u`
      <div class="vds-volume" ?data-active=${m(n)} ${oe(e.set)}>
        ${Is({tooltip:"top",ref:s.set})}
        <div class="vds-volume-popup" ${oe(i.set)}>
          ${ja({orientation:"vertical"})}
        </div>
      </div>
    `})}function Zl(){const a="top end";return[Na({tooltip:"top",placement:a,portal:!0}),Da({tooltip:"top end",placement:a,portal:!0})]}class Ne extends As{constructor(t){if(super(t),this.et=N,t.type!==Ae.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===N||t==null)return this.ft=void 0,this.et=t;if(t===It)return t;if(typeof t!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.et)return this.ft;this.et=t;const e=[t];return e.raw=e,this.ft={gt:this.constructor.resultType,strings:e,values:[]}}}Ne.directiveName="unsafeHTML",Ne.resultType=1;const Ra=ne(Ne);let Hs=class extends Ne{};Hs.directiveName="unsafeSVG",Hs.resultType=2;const th=ne(Hs);function Va({name:a,class:t,state:e,paths:s,viewBox:i="0 0 32 32"}){return u`<svg
    class="${"vds-icon"+(t?` ${t}`:"")}"
    viewBox="${i}"
    fill="none"
    aria-hidden="true"
    focusable="false"
    xmlns="http://www.w3.org/2000/svg"
    data-icon=${Ls(a??e)}
  >
    ${C(s)?th(s):m(s)}
  </svg>`}class eh{constructor(t){this.Wj=t,this.Zj={},this.bk=!1,this.slots=new Ca(t,this.ck.bind(this))}connect(){this.slots.connect(),P(this.disconnect.bind(this))}load(){this.xe().then(t=>{this.Zj=t,this.bk=!0,this.ck()})}disconnect(){for(const{slot:t}of this.dk())t.textContent=""}*dk(){for(const t of Object.keys(this.Zj)){const e=`${t}-icon`;for(const s of this.slots.elements)s.name===e&&(yield{icon:this.Zj[t],slot:s})}}ck(){if(this.bk)for(const{icon:t,slot:e}of this.dk())this.slots.assign(t,e)}}class Fa extends eh{connect(){super.connect();const t=this.Wj.parentElement;if(!t)return;let e,s=new IntersectionObserver(i=>{i[0]?.isIntersecting&&(e?.(),e=void 0,this.load())});s.observe(t),e=P(()=>s.disconnect())}}class Ha extends Fa{async xe(){const t=(await import("./chunks/vidstack-BqXnrIsC.js")).icons,e={};for(const s of Object.keys(t))e[s]=Va({name:s,paths:t[s]});return e}}class Bs extends T(je,bl){constructor(){super(...arguments),this.jn=k(!1)}onSetup(){this.forwardKeepAlive=!1,this.a=y(),this.classList.add("vds-audio-layout"),this.menuContainer=Ia("vds-audio-layout"),h(()=>{this.menuContainer&&$(this.menuContainer,"data-size",this.isSmallLayout&&"sm")});const{pointer:t}=this.a.$state;h(()=>{t()==="coarse"&&h(this.kn.bind(this))}),P(()=>this.menuContainer?.remove())}onConnect(){this.a.player.el?.setAttribute("data-layout","audio"),P(()=>this.a.player.el?.removeAttribute("data-layout")),h(()=>{this.$props.customIcons()?new js(this).connect():new Ha(this).connect()})}render(){return u`${m(this.pt.bind(this))}`}pt(){return this.isMatch?Xl():null}kn(){if(!this.jn()){f(this,"pointerdown",this.ln.bind(this),{capture:!0});return}f(this,"pointerdown",t=>t.stopPropagation()),f(window,"pointerdown",this.mn.bind(this))}ln(t){const{target:e}=t;e instanceof HTMLElement&&e.closest(".vds-time-slider")&&(t.stopImmediatePropagation(),this.setAttribute("data-scrubbing",""),this.jn.set(!0))}mn(){this.jn.set(!1),this.removeAttribute("data-scrubbing")}}Bs.tagName="media-audio-layout",Bs.attrs={smallWhen:{converter(a){return a!=="never"&&!!a}}};var sh=Object.getPrototypeOf,ih=Reflect.get,ah=(a,t,e)=>ih(sh(a),e,t);const De=class extends Vt{};De.props={...ah(De,De,"props"),when:({viewType:a})=>a==="video",smallWhen:({width:a,height:t})=>a<576||t<380};let nh=De;const rh=ne(class extends As{constructor(){super(...arguments),this.key=N}render(a,t){return this.key=a,t}update(a,[t,e]){return t!==this.key&&(yl(a),this.key=t),e}});function oh(){return m(()=>{const a=k(!1),t=y(),{noKeyboardActionDisplay:e}=L(),{lastKeyboardAction:s}=t.$state;if(e())return null;h(()=>{a.set(!!s());const d=setTimeout(()=>a.set(!1),500);return()=>{a.set(!1),window.clearTimeout(d)}});const i=j(()=>{const d=s()?.action;return d&&a()?ti(d):null}),n=j(()=>`vds-kb-action${a()?"":" hidden"}`),r=j(lh),o=j(ch),l=j(()=>{const d=hh();return d?rr(d):null});function c(){return l()?u`
            <div class="vds-kb-bezel" role="status" aria-label=${m(o)}>
              <div class="vds-kb-icon">${l()}</div>
            </div>
          `:null}return u`
      <div class=${m(n)} data-action=${m(i)}>
        <div class="vds-kb-text-wrapper">
          <div class="vds-kb-text">${m(r)}</div>
        </div>
        ${m(()=>rh(s(),c()))}
      </div>
    `})}function lh(){const{$state:a}=y();switch(a.lastKeyboardAction()?.action){case"toggleMuted":return a.muted()?"0%":Ba(a.volume());case"volumeUp":case"volumeDown":return Ba(a.volume());default:return""}}function Ba(a){return`${Math.round(a*100)}%`}function hh(){const{$state:a}=y();switch(a.lastKeyboardAction()?.action){case"togglePaused":return a.paused()?"kb-pause-icon":"kb-play-icon";case"toggleMuted":return a.muted()||a.volume()===0?"kb-mute-icon":a.volume()>=.5?"kb-volume-up-icon":"kb-volume-down-icon";case"toggleFullscreen":return`kb-fs-${a.fullscreen()?"enter":"exit"}-icon`;case"togglePictureInPicture":return`kb-pip-${a.pictureInPicture()?"enter":"exit"}-icon`;case"toggleCaptions":return a.hasCaptions()?`kb-cc-${a.textTrack()?"on":"off"}-icon`:null;case"volumeUp":return"kb-volume-up-icon";case"volumeDown":return"kb-volume-down-icon";case"seekForward":return"kb-seek-forward-icon";case"seekBackward":return"kb-seek-backward-icon";default:return null}}function ch(){const a=dh(),{translations:t}=L();return a?tt(t,a):null}function dh(){const{$state:a}=y(),t=a.lastKeyboardAction()?.action,{translations:e}=L();switch(t){case"togglePaused":return a.paused()?"Pause":"Play";case"toggleFullscreen":return a.fullscreen()?"Enter Fullscreen":"Exit Fullscreen";case"togglePictureInPicture":return a.pictureInPicture()?"Enter PiP":"Exit PiP";case"toggleCaptions":return a.textTrack()?"Closed-Captions On":"Closed-Captions Off";case"toggleMuted":case"volumeUp":case"volumeDown":return a.muted()||a.volume()===0?"Mute":`${Math.round(a.volume()*100)}% ${e()?.Volume??"Volume"}`;default:return null}}function uh(){return[Ka(),Ie(),oh(),u`<media-captions class="vds-captions"></media-captions>`,u`<div class="vds-scrim"></div>`,u`
      <media-controls class="vds-controls">
        ${[mh(),gt(),u`<media-controls-group class="vds-controls-group"></media-controls-group>`,gt(),u`
            <media-controls-group class="vds-controls-group">
              ${Vs()}
            </media-controls-group>
          `,u`
            <media-controls-group class="vds-controls-group">
              ${[Oe({tooltip:"top start"}),Is({tooltip:"top"}),ja(),qa(),Fs(),Rs({tooltip:"top"}),ph(),Ea({tooltip:"top"}),Ma({tooltip:"top"}),Bl(),Aa({tooltip:"top end"})]}
            </media-controls-group>
          `]}
      </media-controls>
    `]}function ph(){return m(()=>{const{menuGroup:a}=L();return a()==="bottom"?Ks():null})}function mh(){return u`
    <media-controls-group class="vds-controls-group">
      ${m(()=>{const{menuGroup:a}=L();return a()==="top"?[gt(),Ks()]:null})}
    </media-controls-group>
  `}function gh(){return[Ka(),Ie(),u`<media-captions class="vds-captions"></media-captions>`,u`<div class="vds-scrim"></div>`,u`
      <media-controls class="vds-controls">
        <media-controls-group class="vds-controls-group">
          ${[Ea({tooltip:"top start"}),Ma({tooltip:"bottom start"}),gt(),Rs({tooltip:"bottom"}),Ks(),Is({tooltip:"bottom end"})]}
        </media-controls-group>

        ${gt()}

        <media-controls-group class="vds-controls-group" style="pointer-events: none;">
          ${[gt(),Oe({tooltip:"top"}),gt()]}
        </media-controls-group>

        ${gt()}

        <media-controls-group class="vds-controls-group">
          ${[qa(),Fs(),Aa({tooltip:"top end"})]}
        </media-controls-group>

        <media-controls-group class="vds-controls-group">
          ${Vs()}
        </media-controls-group>
      </media-controls>
    `,fh()]}function bh(){return u`
    <div class="vds-load-container">
      ${[Ie(),Oe({tooltip:"top"})]}
    </div>
  `}function fh(){return m(()=>{const{duration:a}=et();return a()===0?null:u`
      <div class="vds-start-duration">
        <media-time class="vds-time" type="duration"></media-time>
      </div>
    `})}function Ie(){return u`
    <div class="vds-buffering-indicator">
      <media-spinner class="vds-buffering-spinner"></media-spinner>
    </div>
  `}function Ks(){const{menuGroup:a,smallWhen:t}=L(),e=()=>a()==="top"||t()?"bottom":"top",s=j(()=>`${e()} ${a()==="top"?"end":"center"}`),i=j(()=>`${e()} end`);return[Na({tooltip:s,placement:i,portal:!0}),Da({tooltip:s,placement:i,portal:!0})]}function Ka(){return m(()=>{const{noGestures:a}=L();return a()?null:u`
      <div class="vds-gestures">
        <media-gesture class="vds-gesture" event="pointerup" action="toggle:paused"></media-gesture>
        <media-gesture
          class="vds-gesture"
          event="pointerup"
          action="toggle:controls"
        ></media-gesture>
        <media-gesture
          class="vds-gesture"
          event="dblpointerup"
          action="toggle:fullscreen"
        ></media-gesture>
        <media-gesture class="vds-gesture" event="dblpointerup" action="seek:-10"></media-gesture>
        <media-gesture class="vds-gesture" event="dblpointerup" action="seek:10"></media-gesture>
      </div>
    `})}class Qs extends T(je,nh){onSetup(){this.forwardKeepAlive=!1,this.a=y(),this.classList.add("vds-video-layout"),this.menuContainer=Ia("vds-video-layout"),h(()=>{this.menuContainer&&$(this.menuContainer,"data-size",this.isSmallLayout&&"sm")}),P(()=>this.menuContainer?.remove())}onConnect(){this.a.player.el?.setAttribute("data-layout","video"),P(()=>this.a.player.el?.removeAttribute("data-layout")),h(()=>{this.$props.customIcons()?new js(this).connect():new Ha(this).connect()})}render(){return u`${m(this.pt.bind(this))}`}pt(){const{load:t}=this.a.$props,{canLoad:e,streamType:s}=this.a.$state;return this.isMatch?t()==="play"&&!e()?bh():s()==="unknown"?Ie():this.isSmallLayout?gh():uh():null}}Qs.tagName="media-video-layout",Qs.attrs={smallWhen:{converter(a){return a!=="never"&&!!a}}};class vh extends Fa{async xe(){const t=(await import("./chunks/vidstack-ClVNksSD.js")).icons,e={};for(const s of Object.keys(t))e[s]=Va({name:s,paths:t[s],viewBox:"0 0 18 18"});return e}}function Re(a,t){return a()?.[t]??t}function yh(){return Th()}function $h(){const a=y(),{load:t}=a.$props,{canLoad:e}=a.$state;return j(()=>t()==="play"&&!e())()?[Qa(),Ga()]:[kh(),wh(),Ga(),xh(),Rh(),Vh()]}function Qa(){const a=y(),{translations:t}=O(),{title:e}=a.$state,s=m(()=>`${Re(t,"Play")}, ${e()}`);return u`
    <media-play-button
      class="plyr__control plyr__control--overlaid"
      aria-label=${s}
      data-plyr="play"
    >
      <slot name="play-icon"></slot>
    </button>
  `}function kh(){const{controls:a}=O();return m(()=>a().includes("play-large")?Qa():null)}function wh(){const{thumbnails:a,previewTime:t}=O();return u`
    <media-thumbnail
      .src=${m(a)}
      class="plyr__preview-scrubbing"
      time=${m(()=>t())}
    ></media-thumbnail>
  `}function Ga(){const a=y(),{poster:t}=a.$state,e=m(()=>`background-image: url("${t()}");`);return u`<div class="plyr__poster" style=${e}></div>`}function Th(){const a=new Set(["captions","pip","airplay","fullscreen"]),{controls:t}=O(),e=m(()=>t().filter(s=>!a.has(s)).map(Ua));return u`<div class="plyr__controls">${e}</div>`}function xh(){const{controls:a}=O(),t=m(()=>a().map(Ua));return u`<div class="plyr__controls">${t}</div>`}function Ua(a){switch(a){case"airplay":return Ph();case"captions":return Sh();case"current-time":return Dh();case"download":return Ih();case"duration":return za();case"fast-forward":return _h();case"fullscreen":return Ch();case"mute":case"volume":case"mute+volume":return Oh(a);case"pip":return Mh();case"play":return Ah();case"progress":return qh();case"restart":return Lh();case"rewind":return jh();case"settings":return Fh();default:return null}}function Ph(){const{translations:a}=O();return u`
    <media-airplay-button class="plyr__controls__item plyr__control" data-plyr="airplay">
      <slot name="airplay-icon"></slot>
      <span class="plyr__tooltip">${D(a,"AirPlay")}</span>
    </media-airplay-button>
  `}function Sh(){const{translations:a}=O(),t=D(a,"Disable captions"),e=D(a,"Enable captions");return u`
    <media-caption-button
      class="plyr__controls__item plyr__control"
      data-no-label
      data-plyr="captions"
    >
      <slot name="captions-on-icon" data-class="icon--pressed"></slot>
      <slot name="captions-off-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${t}</span>
      <span class="label--not-pressed plyr__tooltip">${e}</span>
    </media-caption-button>
  `}function Ch(){const{translations:a}=O(),t=D(a,"Enter Fullscreen"),e=D(a,"Exit Fullscreen");return u`
    <media-fullscreen-button
      class="plyr__controls__item plyr__control"
      data-no-label
      data-plyr="fullscreen"
    >
      <slot name="enter-fullscreen-icon" data-class="icon--pressed"></slot>
      <slot name="exit-fullscreen-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${e}</span>
      <span class="label--not-pressed plyr__tooltip">${t}</span>
    </media-fullscreen-button>
  `}function Eh(){const{translations:a}=O(),t=D(a,"Mute"),e=D(a,"Unmute");return u`
    <media-mute-button class="plyr__control" data-no-label data-plyr="mute">
      <slot name="muted-icon" data-class="icon--pressed"></slot>
      <slot name="volume-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${e}</span>
      <span class="label--not-pressed plyr__tooltip">${t}</span>
    </media-mute-button>
  `}function Mh(){const{translations:a}=O(),t=D(a,"Enter PiP"),e=D(a,"Exit PiP");return u`
    <media-pip-button class="plyr__controls__item plyr__control" data-no-label data-plyr="pip">
      <slot name="enter-pip-icon" data-class="icon--pressed"></slot>
      <slot name="exit-pip-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${e}</span>
      <span class="label--not-pressed plyr__tooltip">${t}</span>
    </media-pip-button>
  `}function Ah(){const{translations:a}=O(),t=D(a,"Play"),e=D(a,"Pause");return u`
    <media-play-button class="plyr__controls__item plyr__control" data-no-label data-plyr="play">
      <slot name="pause-icon" data-class="icon--pressed"></slot>
      <slot name="play-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${e}</span>
      <span class="label--not-pressed plyr__tooltip">${t}</span>
    </media-play-button>
  `}function Lh(){const{translations:a}=O(),{remote:t}=y(),e=D(a,"Restart");function s(i){Bt(i)&&!Ke(i)||t.seek(0,i)}return u`
    <button
      type="button"
      class="plyr__control"
      data-plyr="restart"
      @pointerup=${s}
      @keydown=${s}
    >
      <slot name="restart-icon"></slot>
      <span class="plyr__tooltip">${e}</span>
    </button>
  `}function jh(){const{translations:a,seekTime:t}=O(),e=m(()=>`${Re(a,"Rewind")} ${t()}s`),s=m(()=>-1*t());return u`
    <media-seek-button
      class="plyr__controls__item plyr__control"
      seconds=${s}
      data-no-label
      data-plyr="rewind"
    >
      <slot name="rewind-icon"></slot>
      <span class="plyr__tooltip">${e}</span>
    </media-seek-button>
  `}function _h(){const{translations:a,seekTime:t}=O(),e=m(()=>`${Re(a,"Forward")} ${t()}s`),s=m(t);return u`
    <media-seek-button
      class="plyr__controls__item plyr__control"
      seconds=${s}
      data-no-label
      data-plyr="fast-forward"
    >
      <slot name="fast-forward-icon"></slot>
      <span class="plyr__tooltip">${e}</span>
    </media-seek-button>
  `}function qh(){let a=y(),{duration:t,viewType:e}=a.$state,{translations:s,markers:i,thumbnails:n,seekTime:r,previewTime:o}=O(),l=D(s,"Seek"),c=k(null),d=m(()=>{const F=c();return F?u`<span class="plyr__progress__marker-label">${Ra(F.label)}<br /></span>`:null});function g(F){o.set(F.detail)}function p(){c.set(this)}function v(){c.set(null)}function M(){const F=n(),ot=m(()=>e()==="audio");return F?u`
          <media-slider-preview class="plyr__slider__preview" ?no-clamp=${ot}>
            <media-slider-thumbnail .src=${F} class="plyr__slider__preview__thumbnail">
              <span class="plyr__slider__preview__time-container">
                ${d}
                <media-slider-value class="plyr__slider__preview__time"></media-slider-value>
              </span>
            </media-slider-thumbnail>
          </media-slider-preview>
        `:u`
          <span class="plyr__tooltip">
            ${d}
            <media-slider-value></media-slider-value>
          </span>
        `}function V(){const F=t();return Number.isFinite(F)?i()?.map(ot=>u`
        <span
          class="plyr__progress__marker"
          @mouseenter=${p.bind(ot)}
          @mouseleave=${v}
          style=${`left: ${ot.time/F*100}%;`}
        ></span>
      `):null}return u`
    <div class="plyr__controls__item plyr__progress__container">
      <div class="plyr__progress">
        <media-time-slider
          class="plyr__slider"
          data-plyr="seek"
          pause-while-dragging
          key-step=${m(r)}
          aria-label=${l}
          @media-seeking-request=${g}
        >
          <div class="plyr__slider__track"></div>
          <div class="plyr__slider__thumb"></div>
          <div class="plyr__slider__buffer"></div>
          ${m(M)}${m(V)}
        </media-time-slider>
      </div>
    </div>
  `}function Oh(a){return m(()=>{const t=a==="mute"||a==="mute+volume",e=a==="volume"||a==="mute+volume";return u`
      <div class="plyr__controls__item plyr__volume">
        ${[t?Eh():null,e?Nh():null]}
      </div>
    `})}function Nh(){const{translations:a}=O(),t=D(a,"Volume");return u`
    <media-volume-slider class="plyr__slider" data-plyr="volume" aria-label=${t}>
      <div class="plyr__slider__track"></div>
      <div class="plyr__slider__thumb"></div>
    </media-volume-slider>
  `}function Dh(){const a=y(),{translations:t,invertTime:e,toggleTime:s,displayDuration:i}=O(),n=k(b(e));function r(l){!s()||i()||Bt(l)&&!Ke(l)||n.set(c=>!c)}function o(){return m(()=>i()?za():null)}return m(()=>{const{streamType:l}=a.$state,c=D(t,"LIVE"),d=D(t,"Current time"),g=m(()=>!i()&&n());return l()==="live"||l()==="ll-live"?u`
          <media-live-button
            class="plyr__controls__item plyr__control plyr__live-button"
            data-plyr="live"
          >
            <span class="plyr__live-button__text">${c}</span>
          </media-live-button>
        `:u`
          <media-time
            type="current"
            class="plyr__controls__item plyr__time plyr__time--current"
            tabindex="0"
            role="timer"
            aria-label=${d}
            ?remainder=${g}
            @pointerup=${r}
            @keydown=${r}
          ></media-time>
          ${o()}
        `})}function za(){const{translations:a}=O(),t=D(a,"Duration");return u`
    <media-time
      type="duration"
      class="plyr__controls__item plyr__time plyr__time--duration"
      role="timer"
      tabindex="0"
      aria-label=${t}
    ></media-time>
  `}function Ih(){return m(()=>{const a=y(),{translations:t,download:e}=O(),{source:s}=a.$state,i=s(),n=e(),r=C(n)?n:n?.url,o=(C(n)?null:n?.filename)||"media",l=D(t,"Download");return r||pi(i)||mi(i)?u`
          <a
            class="plyr__controls__item plyr__control"
            href=${r||i.src+`?download=${o}`}
            download=${o}
            target="_blank"
          >
            <slot name="download-icon" />
            <span class="plyr__tooltip">${l}</span>
          </a>
        `:null})}function Rh(){return m(()=>{const{clickToPlay:a,clickToFullscreen:t}=O();return[a()?u`
            <media-gesture
              class="plyr__gesture"
              event="pointerup"
              action="toggle:paused"
            ></media-gesture>
          `:null,t()?u`
            <media-gesture
              class="plyr__gesture"
              event="dblpointerup"
              action="toggle:fullscreen"
            ></media-gesture>
          `:null]})}function Vh(){const a=y(),t=k(void 0),e=m(()=>Ra(t()?.text));return h(()=>{const s=a.$state.textTrack();if(!s)return;function i(){t.set(s?.activeCues[0])}return i(),f(s,"cue-change",i)}),u`
    <div class="plyr__captions" dir="auto">
      <span class="plyr__caption">${e}</span>
    </div>
  `}function Fh(){const{translations:a}=O(),t=D(a,"Settings");return u`
    <div class="plyr__controls__item plyr__menu">
      <media-menu>
        <media-menu-button class="plyr__control" data-plyr="settings">
          <slot name="settings-icon" />
          <span class="plyr__tooltip">${t}</span>
        </media-menu-button>
        <media-menu-items class="plyr__menu__container" placement="top end">
          <div><div>${[Bh(),Uh(),Wh(),Qh()]}</div></div>
        </media-menu-items>
      </media-menu>
    </div>
  `}function Ve({label:a,children:t}){const e=k(!1);return u`
    <media-menu @open=${()=>e.set(!0)} @close=${()=>e.set(!1)}>
      ${Hh({label:a,open:e})}
      <media-menu-items>${t}</media-menu-items>
    </media-menu>
  `}function Hh({open:a,label:t}){const{translations:e}=O(),s=m(()=>`plyr__control plyr__control--${a()?"back":"forward"}`);function i(){const n=D(e,"Go back to previous menu");return m(()=>a()?u`<span class="plyr__sr-only">${n}</span>`:null)}return u`
    <media-menu-button class=${s} data-plyr="settings">
      <span class="plyr__menu__label" aria-hidden=${Yh(a)}>
        ${D(e,t)}
      </span>
      <span class="plyr__menu__value" data-part="hint"></span>
      ${i()}
    </media-menu-button>
  `}function Bh(){return Ve({label:"Audio",children:Kh()})}function Kh(){const{translations:a}=O();return u`
    <media-audio-radio-group empty-label=${D(a,"Default")}>
      <template>
        <media-radio class="plyr__control" data-plyr="audio">
          <span data-part="label"></span>
        </media-radio>
      </template>
    </media-audio-radio-group>
  `}function Qh(){return Ve({label:"Speed",children:Gh()})}function Gh(){const{translations:a,speed:t}=O();return u`
    <media-speed-radio-group .rates=${t} normal-label=${D(a,"Normal")}>
      <template>
        <media-radio class="plyr__control" data-plyr="speed">
          <span data-part="label"></span>
        </media-radio>
      </template>
    </media-speed-radio-group>
  `}function Uh(){return Ve({label:"Captions",children:zh()})}function zh(){const{translations:a}=O();return u`
    <media-captions-radio-group off-label=${D(a,"Disabled")}>
      <template>
        <media-radio class="plyr__control" data-plyr="captions">
          <span data-part="label"></span>
        </media-radio>
      </template>
    </media-captions-radio-group>
  `}function Wh(){return Ve({label:"Quality",children:Xh()})}function Xh(){const{translations:a}=O();return u`
    <media-quality-radio-group auto-label=${D(a,"Auto")}>
      <template>
        <media-radio class="plyr__control" data-plyr="quality">
          <span data-part="label"></span>
        </media-radio>
      </template>
    </media-quality-radio-group>
  `}function Yh(a){return m(()=>a()?"true":"false")}function D(a,t){return m(()=>Re(a,t))}class Wa extends T(je,ca){onSetup(){this.forwardKeepAlive=!1,this.a=y()}onConnect(){this.a.player.el?.setAttribute("data-layout","plyr"),P(()=>this.a.player.el?.removeAttribute("data-layout")),Jo(this,this.a),h(()=>{this.$props.customIcons()?new js(this).connect():new vh(this).connect()})}render(){return u`${m(this.pt.bind(this))}`}pt(){const{viewType:t}=this.a.$state;return t()==="audio"?yh():t()==="video"?$h():null}}Wa.tagName="media-plyr-layout",w(Bs),w(Qs),w(Wa);class Xa extends T(HTMLElement,Bi){}Xa.tagName="media-airplay-button";class Ya extends T(HTMLElement,Gi){}Ya.tagName="media-caption-button";class Ja extends T(HTMLElement,Ui){}Ja.tagName="media-fullscreen-button";class Za extends T(HTMLElement,Ki){}Za.tagName="media-google-cast-button";class tn extends T(HTMLElement,Yi){}tn.tagName="media-live-button";class en extends T(HTMLElement,zi){}en.tagName="media-mute-button";class sn extends T(HTMLElement,Wi){}sn.tagName="media-pip-button";class an extends T(HTMLElement,Qi){}an.tagName="media-play-button";class nn extends T(HTMLElement,Xi){}nn.tagName="media-seek-button";class rn extends T(HTMLElement,os){}rn.tagName="media-toggle-button";class on extends T(HTMLElement,la){}on.tagName="media-captions";let Jh=class extends x{};class ln extends T(HTMLElement,Jh){onSetup(){this.a=y(),this.Xj=k("")}onConnect(){const t=this.a.textTracks;er(t,"chapters",this.Xj.set),h(()=>{this.textContent=this.Xj()})}}ln.tagName="media-chapter-title";class hn extends T(HTMLElement,Ri){}hn.tagName="media-controls";class cn extends T(HTMLElement,ro){}cn.tagName="media-controls-group";class dn extends T(HTMLElement,oa){}dn.tagName="media-gesture";class un extends x{}un.props={when:!1};class pn extends T(HTMLElement,un){onSetup(){this.a=y()}onConnect(){h(this.Zm.bind(this))}Zm(){const t=this.firstElementChild,e=t?.localName==="template",s=t instanceof HTMLElement,i=this.$props.when();if(!(ai(i)?i:j(()=>i(this.a.player.state))())){e?(this.textContent="",this.appendChild(t)):s&&(t.style.display="none");return}e?this.append(t.content.cloneNode(!0)):s&&(t.style.display="")}}pn.tagName="media-layout";function le(a,t){wt(()=>{if(!a.connectScope)return;const e=a.querySelector("template");e&&h(()=>{const s=a.getOptions();ci(e,s.length,(i,n)=>{const{label:r,value:o}=s[n],l=i.querySelector('[data-part="label"]');i.setAttribute("value",o),l&&(C(r)?l.textContent=r:h(()=>{l.textContent=r()})),t?.(i,s[n],n)})})})}class mn extends T(HTMLElement,Jt){onConnect(){le(this)}}mn.tagName="media-audio-radio-group";class gn extends T(HTMLElement,Zt){onConnect(){le(this)}}gn.tagName="media-captions-radio-group";class bn extends T(HTMLElement,Yt){onConnect(){le(this,(t,e)=>{const{cue:s,startTime:i,duration:n}=e,r=t.querySelector(".vds-thumbnail,media-thumbnail"),o=t.querySelector('[data-part="start-time"]'),l=t.querySelector('[data-part="duration"]');o&&(o.textContent=i),l&&(l.textContent=n),r&&(r.setAttribute("time",s.startTime+""),h(()=>{const c=this.$props.thumbnails();"src"in r?r.src=c:C(c)&&r.setAttribute("src",c)}))})}}bn.tagName="media-chapters-radio-group";class fn extends T(HTMLElement,xe){}fn.tagName="media-menu-button";class vn extends T(HTMLElement,Ct){}vn.tagName="media-menu";class yn extends T(HTMLElement,qo){}yn.tagName="media-menu-item";class $n extends T(HTMLElement,aa){}$n.tagName="media-menu-items";class Gs extends T(HTMLElement,ia){}Gs.tagName="media-menu-portal",Gs.attrs={disabled:{converter(a){return C(a)?a:a!==null}}};class kn extends T(HTMLElement,ee){onConnect(){le(this,(t,e)=>{const s=e.bitrate,i=t.querySelector('[data-part="bitrate"]');s&&i&&h(()=>{i.textContent=s()||""})})}}kn.tagName="media-quality-radio-group";class wn extends T(HTMLElement,bs){}wn.tagName="media-radio";class Tn extends T(HTMLElement,Se){}Tn.tagName="media-radio-group";class xn extends T(HTMLElement,te){onConnect(){le(this)}}xn.tagName="media-speed-radio-group";class Us extends T(HTMLElement,ws){constructor(){super(...arguments),this.Uj=document.createElement("img")}onSetup(){this.$state.img.set(this.Uj)}onConnect(){const{src:t,alt:e,crossOrigin:s}=this.$state;this.Uj.parentNode!==this&&this.prepend(this.Uj),h(()=>{$(this.Uj,"alt",e()),$(this.Uj,"crossorigin",s()),$(this.Uj,"src",t()||"")}),h(()=>{const{loading:i,hidden:n}=this.$state;this.Uj.style.display=i()||n()?"none":""})}}Us.tagName="media-poster",Us.attrs={crossOrigin:"crossorigin"};class Pn extends T(HTMLElement,Ot){constructor(){super(...arguments),this.$j=null}onConnect(){wt(()=>{if(!this.connectScope)return;const t=this.querySelector("template");t&&(this.$j=t,h(this.jk.bind(this)))})}jk(){if(!this.$j)return;const t=ci(this.$j,this.cues.length||1);this.setRefs(t)}}Pn.tagName="media-slider-chapters";class Sn extends T(HTMLElement,St){}Sn.tagName="media-slider";class Cn extends T(HTMLElement,ea){}Cn.tagName="media-slider-preview";const Zh=Ze('<img loading="eager" decoding="async" aria-hidden="true">');class Fe extends T(HTMLElement,cs){constructor(){super(...arguments),this.Uj=this.gk()}onSetup(){this.a=y(),this.$state.img.set(this.Uj)}onConnect(){const{src:t,crossOrigin:e}=this.$state;this.Uj.parentNode!==this&&this.prepend(this.Uj),h(()=>{$(this.Uj,"src",t()),$(this.Uj,"crossorigin",e())})}gk(){return ts(Zh)}}Fe.tagName="media-thumbnail",Fe.attrs={crossOrigin:"crossorigin"};class En extends Fe{onSetup(){super.onSetup(),this.Q=Qt(St.state)}onConnect(){super.onConnect(),h(this.ag.bind(this))}ag(){const{duration:t,clipStartTime:e}=this.a.$state;this.time=e()+this.Q.pointerRate()*t()}}En.tagName="media-slider-thumbnail";class zs extends T(HTMLElement,ps){onConnect(){h(()=>{this.textContent=this.getValueText()})}}zs.tagName="media-slider-value",zs.attrs={padMinutes:{converter:Yn}};const tc=Ze('<video muted playsinline preload="none" style="max-width: unset;"></video>');class Mn extends T(HTMLElement,$e){constructor(){super(...arguments),this.m=this.Yj()}onSetup(){this.a=y(),this.$state.video.set(this.m)}onConnect(){const{canLoad:t}=this.a.$state,{src:e,crossOrigin:s}=this.$state;this.m.parentNode!==this&&this.prepend(this.m),h(()=>{$(this.m,"crossorigin",s()),$(this.m,"preload",t()?"auto":"none"),$(this.m,"src",e())})}Yj(){return ts(tc)}}Mn.tagName="media-slider-video";class An extends T(HTMLElement,we){}An.tagName="media-time-slider";class Ln extends T(HTMLElement,ms){}Ln.tagName="media-volume-slider";class jn extends x{onConnect(t){wt(()=>{if(!this.connectScope)return;const e=t.querySelector("svg"),s=e.firstElementChild,i=s.nextElementSibling;h(this.ea.bind(this,e,s,i))})}ea(t,e,s){const{size:i,trackWidth:n,fillPercent:r}=this.$props;$(t,"width",i()),$(t,"height",i()),$(e,"stroke-width",n()),$(s,"stroke-width",n()),$(s,"stroke-dashoffset",100-r())}}jn.props={size:96,trackWidth:8,fillPercent:50};class _n extends T(je,jn){render(){return u`
      <svg fill="none" viewBox="0 0 120 120" aria-hidden="true" data-part="root">
        <circle cx="60" cy="60" r="54" stroke="currentColor" data-part="track"></circle>
        <circle
          cx="60"
          cy="60"
          r="54"
          stroke="currentColor"
          pathLength="100"
          stroke-dasharray="100"
          data-part="track-fill"
        ></circle>
      </svg>
    `}}_n.tagName="media-spinner";class qn extends T(HTMLElement,Ts){onConnect(){h(()=>{this.textContent=this.$state.timeText()})}}qn.tagName="media-time";class ec extends x{}class On extends T(HTMLElement,ec){onSetup(){this.a=y()}onConnect(){h(this.uc.bind(this))}uc(){const{title:t}=this.a.$state;this.textContent=t()}}On.tagName="media-title";class Nn extends T(HTMLElement,Hi){}Nn.tagName="media-tooltip-content";class Dn extends T(HTMLElement,Fi){}Dn.tagName="media-tooltip";class In extends T(HTMLElement,lo){onConnect(){this.style.display="contents"}}In.tagName="media-tooltip-trigger",w(pn),w(hn),w(cn),w(Us),w(Dn),w(In),w(Nn),w(an),w(en),w(Ya),w(Ja),w(sn),w(nn),w(Xa),w(Za),w(rn),w(Sn),w(Ln),w(An),w(Pn),w(Cn),w(zs),w(En),w(Mn),w(vn),w(fn),w(Gs),w($n),w(yn),w(mn),w(gn),w(xn),w(kn),w(bn),w(Tn),w(wn),w(dn),w(Fe),w(on),w(tn),w(qn),w(On),w(ln),w(_n);const sc=Ze('<svg width="100%" height="100%" viewBox="0 0 32 32" fill="none" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg"></svg>');class Rn extends HTMLElement{constructor(){super(...arguments),this.mk=this.ok(),this.nk=k(""),this.vb=k(null),this.sa=[]}static get observedAttributes(){return["type"]}get type(){return this.vb()}set type(t){this.vb.set(t),t?this.setAttribute("type",t):this.removeAttribute("type")}attributeChangedCallback(t,e,s){t==="type"&&this.vb.set(s||null)}connectedCallback(){this.classList.add("vds-icon"),this.mk.parentNode!==this&&this.prepend(this.mk),this.sa.push(h(this.pk.bind(this)),h(()=>{this.mk.innerHTML=this.nk()}))}disconnectedCallback(){for(const t of this.sa)t();this.sa.length=0}ok(){return ts(sc)}pk(){const t=this.vb();t&&fi[t]?fi[t]().then(({default:e})=>{t===b(this.vb)&&this.nk.set(e)}):this.nk.set("")}}Rn.tagName="media-icon",w(Rn);
